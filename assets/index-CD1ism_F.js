var sw=r=>{throw TypeError(r)};var Mg=(r,t,e)=>t.has(r)||sw("Cannot "+e);var Fe=(r,t,e)=>(Mg(r,t,"read from private field"),e?e.call(r):t.get(r)),Ps=(r,t,e)=>t.has(r)?sw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),hi=(r,t,e,n)=>(Mg(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Ns=(r,t,e)=>(Mg(r,t,"access private method"),e);var rw=(r,t,e,n)=>({set _(i){hi(r,t,i,e)},get _(){return Fe(r,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function $f(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dg={exports:{}},tu={};var aw;function K2(){if(aw)return tu;aw=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:o}}return tu.Fragment=t,tu.jsx=e,tu.jsxs=e,tu}var ow;function Q2(){return ow||(ow=1,Dg.exports=K2()),Dg.exports}var B=Q2(),Rg={exports:{}},jt={};var lw;function Z2(){if(lw)return jt;lw=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function g(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function A(P,j,Z){this.props=P,this.context=j,this.refs=w,this.updater=Z||S}A.prototype.isReactComponent={},A.prototype.setState=function(P,j){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,j,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=A.prototype;function E(P,j,Z){this.props=P,this.context=j,this.refs=w,this.updater=Z||S}var D=E.prototype=new T;D.constructor=E,_(D,A.prototype),D.isPureReactComponent=!0;var C=Array.isArray;function L(){}var R={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function F(P,j,Z){var it=Z.ref;return{$$typeof:r,type:P,key:j,ref:it!==void 0?it:null,props:Z}}function $(P,j){return F(P.type,j,P.props)}function H(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function at(P){var j={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return j[Z]})}var et=/\/+/g;function q(P,j){return typeof P=="object"&&P!==null&&P.key!=null?at(""+P.key):j.toString(36)}function W(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(L,L):(P.status="pending",P.then(function(j){P.status==="pending"&&(P.status="fulfilled",P.value=j)},function(j){P.status==="pending"&&(P.status="rejected",P.reason=j)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function O(P,j,Z,it,ft){var yt=typeof P;(yt==="undefined"||yt==="boolean")&&(P=null);var gt=!1;if(P===null)gt=!0;else switch(yt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(P.$$typeof){case r:case t:gt=!0;break;case p:return gt=P._init,O(gt(P._payload),j,Z,it,ft)}}if(gt)return ft=ft(P),gt=it===""?"."+q(P,0):it,C(ft)?(Z="",gt!=null&&(Z=gt.replace(et,"$&/")+"/"),O(ft,j,Z,"",function(kt){return kt})):ft!=null&&(H(ft)&&(ft=$(ft,Z+(ft.key==null||P&&P.key===ft.key?"":(""+ft.key).replace(et,"$&/")+"/")+gt)),j.push(ft)),1;gt=0;var Dt=it===""?".":it+":";if(C(P))for(var Pt=0;Pt<P.length;Pt++)it=P[Pt],yt=Dt+q(it,Pt),gt+=O(it,j,Z,yt,ft);else if(Pt=g(P),typeof Pt=="function")for(P=Pt.call(P),Pt=0;!(it=P.next()).done;)it=it.value,yt=Dt+q(it,Pt++),gt+=O(it,j,Z,yt,ft);else if(yt==="object"){if(typeof P.then=="function")return O(W(P),j,Z,it,ft);throw j=String(P),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return gt}function N(P,j,Z){if(P==null)return P;var it=[],ft=0;return O(P,it,"","",function(yt){return j.call(Z,yt,ft++)}),it}function z(P){if(P._status===-1){var j=P._result;j=j(),j.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=j)}if(P._status===1)return P._result.default;throw P._result}var st=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},dt={map:N,forEach:function(P,j,Z){N(P,function(){j.apply(this,arguments)},Z)},count:function(P){var j=0;return N(P,function(){j++}),j},toArray:function(P){return N(P,function(j){return j})||[]},only:function(P){if(!H(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return jt.Activity=m,jt.Children=dt,jt.Component=A,jt.Fragment=e,jt.Profiler=i,jt.PureComponent=E,jt.StrictMode=n,jt.Suspense=h,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,jt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},jt.cache=function(P){return function(){return P.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(P,j,Z){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var it=_({},P.props),ft=P.key;if(j!=null)for(yt in j.key!==void 0&&(ft=""+j.key),j)!k.call(j,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&j.ref===void 0||(it[yt]=j[yt]);var yt=arguments.length-2;if(yt===1)it.children=Z;else if(1<yt){for(var gt=Array(yt),Dt=0;Dt<yt;Dt++)gt[Dt]=arguments[Dt+2];it.children=gt}return F(P.type,ft,it)},jt.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},jt.createElement=function(P,j,Z){var it,ft={},yt=null;if(j!=null)for(it in j.key!==void 0&&(yt=""+j.key),j)k.call(j,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ft[it]=j[it]);var gt=arguments.length-2;if(gt===1)ft.children=Z;else if(1<gt){for(var Dt=Array(gt),Pt=0;Pt<gt;Pt++)Dt[Pt]=arguments[Pt+2];ft.children=Dt}if(P&&P.defaultProps)for(it in gt=P.defaultProps,gt)ft[it]===void 0&&(ft[it]=gt[it]);return F(P,yt,ft)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(P){return{$$typeof:c,render:P}},jt.isValidElement=H,jt.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:z}},jt.memo=function(P,j){return{$$typeof:d,type:P,compare:j===void 0?null:j}},jt.startTransition=function(P){var j=R.T,Z={};R.T=Z;try{var it=P(),ft=R.S;ft!==null&&ft(Z,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(L,st)}catch(yt){st(yt)}finally{j!==null&&Z.types!==null&&(j.types=Z.types),R.T=j}},jt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},jt.use=function(P){return R.H.use(P)},jt.useActionState=function(P,j,Z){return R.H.useActionState(P,j,Z)},jt.useCallback=function(P,j){return R.H.useCallback(P,j)},jt.useContext=function(P){return R.H.useContext(P)},jt.useDebugValue=function(){},jt.useDeferredValue=function(P,j){return R.H.useDeferredValue(P,j)},jt.useEffect=function(P,j){return R.H.useEffect(P,j)},jt.useEffectEvent=function(P){return R.H.useEffectEvent(P)},jt.useId=function(){return R.H.useId()},jt.useImperativeHandle=function(P,j,Z){return R.H.useImperativeHandle(P,j,Z)},jt.useInsertionEffect=function(P,j){return R.H.useInsertionEffect(P,j)},jt.useLayoutEffect=function(P,j){return R.H.useLayoutEffect(P,j)},jt.useMemo=function(P,j){return R.H.useMemo(P,j)},jt.useOptimistic=function(P,j){return R.H.useOptimistic(P,j)},jt.useReducer=function(P,j,Z){return R.H.useReducer(P,j,Z)},jt.useRef=function(P){return R.H.useRef(P)},jt.useState=function(P){return R.H.useState(P)},jt.useSyncExternalStore=function(P,j,Z){return R.H.useSyncExternalStore(P,j,Z)},jt.useTransition=function(){return R.H.useTransition()},jt.version="19.2.3",jt}var cw;function z0(){return cw||(cw=1,Rg.exports=Z2()),Rg.exports}var U=z0();const xs=$f(U);var Og={exports:{}},eu={},Lg={exports:{}},kg={};var uw;function J2(){return uw||(uw=1,(function(r){function t(O,N){var z=O.length;O.push(N);t:for(;0<z;){var st=z-1>>>1,dt=O[st];if(0<i(dt,N))O[st]=N,O[z]=dt,z=st;else break t}}function e(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var N=O[0],z=O.pop();if(z!==N){O[0]=z;t:for(var st=0,dt=O.length,P=dt>>>1;st<P;){var j=2*(st+1)-1,Z=O[j],it=j+1,ft=O[it];if(0>i(Z,z))it<dt&&0>i(ft,Z)?(O[st]=ft,O[it]=z,st=it):(O[st]=Z,O[j]=z,st=j);else if(it<dt&&0>i(ft,z))O[st]=ft,O[it]=z,st=it;else break t}}return N}function i(O,N){var z=O.sortIndex-N.sortIndex;return z!==0?z:O.id-N.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,m=null,v=3,g=!1,S=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var N=e(d);N!==null;){if(N.callback===null)n(d);else if(N.startTime<=O)n(d),N.sortIndex=N.expirationTime,t(h,N);else break;N=e(d)}}function C(O){if(_=!1,D(O),!S)if(e(h)!==null)S=!0,L||(L=!0,at());else{var N=e(d);N!==null&&W(C,N.startTime-O)}}var L=!1,R=-1,k=5,F=-1;function $(){return w?!0:!(r.unstable_now()-F<k)}function H(){if(w=!1,L){var O=r.unstable_now();F=O;var N=!0;try{t:{S=!1,_&&(_=!1,T(R),R=-1),g=!0;var z=v;try{e:{for(D(O),m=e(h);m!==null&&!(m.expirationTime>O&&$());){var st=m.callback;if(typeof st=="function"){m.callback=null,v=m.priorityLevel;var dt=st(m.expirationTime<=O);if(O=r.unstable_now(),typeof dt=="function"){m.callback=dt,D(O),N=!0;break e}m===e(h)&&n(h),D(O)}else n(h);m=e(h)}if(m!==null)N=!0;else{var P=e(d);P!==null&&W(C,P.startTime-O),N=!1}}break t}finally{m=null,v=z,g=!1}N=void 0}}finally{N?at():L=!1}}}var at;if(typeof E=="function")at=function(){E(H)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,q=et.port2;et.port1.onmessage=H,at=function(){q.postMessage(null)}}else at=function(){A(H,0)};function W(O,N){R=A(function(){O(r.unstable_now())},N)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(O){switch(v){case 1:case 2:case 3:var N=3;break;default:N=v}var z=v;v=N;try{return O()}finally{v=z}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=v;v=O;try{return N()}finally{v=z}},r.unstable_scheduleCallback=function(O,N,z){var st=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?st+z:st):z=st,O){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=z+dt,O={id:p++,callback:N,priorityLevel:O,startTime:z,expirationTime:dt,sortIndex:-1},z>st?(O.sortIndex=z,t(d,O),e(h)===null&&O===e(d)&&(_?(T(R),R=-1):_=!0,W(C,z-st))):(O.sortIndex=dt,t(h,O),S||g||(S=!0,L||(L=!0,at()))),O},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(O){var N=v;return function(){var z=v;v=N;try{return O.apply(this,arguments)}finally{v=z}}}})(kg)),kg}var hw;function tO(){return hw||(hw=1,Lg.exports=J2()),Lg.exports}var Pg={exports:{}},Hn={};var dw;function eO(){if(dw)return Hn;dw=1;var r=z0();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:d,implementation:p}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hn.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,p)},Hn.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},Hn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Hn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Hn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:g}):p==="script"&&n.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Hn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Hn.requestFormReset=function(h){n.d.r(h)},Hn.unstable_batchedUpdates=function(h,d){return h(d)},Hn.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var fw;function nO(){if(fw)return Pg.exports;fw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pg.exports=eO(),Pg.exports}var pw;function iO(){if(pw)return eu;pw=1;var r=tO(),t=z0(),e=nO();function n(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(n(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return h(y),s;if(b===f)return h(y),a;b=b.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=b;else{for(var x=!1,M=y.child;M;){if(M===u){x=!0,u=y,f=b;break}if(M===f){x=!0,f=y,u=b;break}M=M.sibling}if(!x){for(M=b.child;M;){if(M===u){x=!0,u=b,f=y;break}if(M===f){x=!0,f=b,u=y;break}M=M.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function at(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var et=Symbol.for("react.client.reference");function q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===et?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case E:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case D:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:q(s.type)||"Memo";case k:a=s._payload,s=s._init;try{return q(s(a))}catch{}}return null}var W=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},st=[],dt=-1;function P(s){return{current:s}}function j(s){0>dt||(s.current=st[dt],st[dt]=null,dt--)}function Z(s,a){dt++,st[dt]=s.current,s.current=a}var it=P(null),ft=P(null),yt=P(null),gt=P(null);function Dt(s,a){switch(Z(yt,a),Z(ft,s),Z(it,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?CA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=CA(a),s=MA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}j(it),Z(it,s)}function Pt(){j(it),j(ft),j(yt)}function kt(s){s.memoizedState!==null&&Z(gt,s);var a=it.current,u=MA(a,s.type);a!==u&&(Z(ft,s),Z(it,u))}function Rt(s){ft.current===s&&(j(it),j(ft)),gt.current===s&&(j(gt),Kc._currentValue=z)}var Wt,zt;function Ct(s){if(Wt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Wt=a&&a[1]||"",zt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+s+zt}var bt=!1;function Re(s,a){if(!s||bt)return"";bt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var J=tt}Reflect.construct(s,[],ut)}else{try{ut.call()}catch(tt){J=tt}s.call(ut.prototype)}}else{try{throw Error()}catch(tt){J=tt}(ut=s())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),x=b[0],M=b[1];if(x&&M){var I=x.split(`
`),Q=M.split(`
`);for(y=f=0;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(f===I.length||y===Q.length)for(f=I.length-1,y=Q.length-1;1<=f&&0<=y&&I[f]!==Q[y];)y--;for(;1<=f&&0<=y;f--,y--)if(I[f]!==Q[y]){if(f!==1||y!==1)do if(f--,y--,0>y||I[f]!==Q[y]){var rt=`
`+I[f].replace(" at new "," at ");return s.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",s.displayName)),rt}while(1<=f&&0<=y);break}}}finally{bt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Ct(u):""}function It(s,a){switch(s.tag){case 26:case 27:case 5:return Ct(s.type);case 16:return Ct("Lazy");case 13:return s.child!==a&&a!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Re(s.type,!1);case 11:return Re(s.type.render,!1);case 1:return Re(s.type,!0);case 31:return Ct("Activity");default:return""}}function We(s){try{var a="",u=null;do a+=It(s,u),u=s,s=s.return;while(s);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Fn=Object.prototype.hasOwnProperty,cn=r.unstable_scheduleCallback,he=r.unstable_cancelCallback,Se=r.unstable_shouldYield,fs=r.unstable_requestPaint,Ae=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,en=r.unstable_ImmediatePriority,An=r.unstable_UserBlockingPriority,Oe=r.unstable_NormalPriority,In=r.unstable_LowPriority,je=r.unstable_IdlePriority,si=r.log,Fr=r.unstable_setDisableYieldValue,Wn=null,Pe=null;function de(s){if(typeof si=="function"&&Fr(s),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Wn,s)}catch{}}var le=Math.clz32?Math.clz32:zn,Js=Math.log,bi=Math.LN2;function zn(s){return s>>>=0,s===0?32:31-(Js(s)/bi|0)|0}var jn=256,Ve=262144,Vn=4194304;function Mn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _i(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,b=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var M=f&134217727;return M!==0?(f=M&~b,f!==0?y=Mn(f):(x&=M,x!==0?y=Mn(x):u||(u=M&~s,u!==0&&(y=Mn(u))))):(M=f&~b,M!==0?y=Mn(M):x!==0?y=Mn(x):u||(u=f&~s,u!==0&&(y=Mn(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function wt(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function V(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var s=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),s}function X(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function nt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pt(s,a,u,f,y,b){var x=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var M=s.entanglements,I=s.expirationTimes,Q=s.hiddenUpdates;for(u=x&~u;0<u;){var rt=31-le(u),ut=1<<rt;M[rt]=0,I[rt]=-1;var J=Q[rt];if(J!==null)for(Q[rt]=null,rt=0;rt<J.length;rt++){var tt=J[rt];tt!==null&&(tt.lane&=-536870913)}u&=~ut}f!==0&&vt(s,f,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(x&~a))}function vt(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-le(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&261930}function ct(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-le(u),y=1<<f;y&a|s[f]&a&&(s[f]|=a),u&=~y}}function ht(s,a){var u=a&-a;return u=(u&42)!==0?1:mt(u),(u&(s.suspendedLanes|a))!==0?0:u}function mt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _t(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bt(){var s=N.p;return s!==0?s:(s=window.event,s===void 0?32:QA(s.type))}function ne(s,a){var u=N.p;try{return N.p=s,a()}finally{N.p=u}}var Zt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Zt,Yt="__reactProps$"+Zt,qt="__reactContainer$"+Zt,ge="__reactEvents$"+Zt,Ne="__reactListeners$"+Zt,Na="__reactHandles$"+Zt,vn="__reactResources$"+Zt,Ir="__reactMarker$"+Zt;function Bo(s){delete s[Ht],delete s[Yt],delete s[ge],delete s[Ne],delete s[Na]}function tr(s){var a=s[Ht];if(a)return a;for(var u=s.parentNode;u;){if(a=u[qt]||u[Ht]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=NA(s);s!==null;){if(u=s[Ht])return u;s=NA(s)}return a}s=u,u=s.parentNode}return null}function er(s){if(s=s[Ht]||s[qt]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ie(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(n(33))}function Un(s){var a=s[vn];return a||(a=s[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ke(s){s[Ir]=!0}var zr=new Set,Sh={};function ms(s,a){Fo(s,a),Fo(s+"Capture",a)}function Fo(s,a){for(Sh[s]=a,s=0;s<a.length;s++)zr.add(a[s])}var VD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yb={},vb={};function UD(s){return Fn.call(vb,s)?!0:Fn.call(yb,s)?!1:VD.test(s)?vb[s]=!0:(yb[s]=!0,!1)}function Ah(s,a,u){if(UD(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function wh(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function nr(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}function Gi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function bb(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function HD(s,a,u){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(x){u=""+x,b.call(this,x)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Sp(s){if(!s._valueTracker){var a=bb(s)?"checked":"value";s._valueTracker=HD(s,a,""+s[a])}}function _b(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=bb(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function xh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var GD=/[\n"\\]/g;function Xi(s){return s.replace(GD,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ap(s,a,u,f,y,b,x,M){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Gi(a)):s.value!==""+Gi(a)&&(s.value=""+Gi(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?wp(s,x,Gi(a)):u!=null?wp(s,x,Gi(u)):f!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+Gi(M):s.removeAttribute("name")}function Sb(s,a,u,f,y,b,x,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Sp(s);return}u=u!=null?""+Gi(u):"",a=a!=null?""+Gi(a):u,M||a===s.value||(s.value=a),s.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=M?s.checked:!!f,s.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Sp(s)}function wp(s,a,u){a==="number"&&xh(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Io(s,a,u,f){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Gi(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function Ab(s,a,u){if(a!=null&&(a=""+Gi(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Gi(u):""}function wb(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(n(92));if(W(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Gi(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f),Sp(s)}function zo(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var XD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xb(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||XD.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Tb(s,a,u){if(a!=null&&typeof a!="object")throw Error(n(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&xb(s,y,f)}else for(var b in a)a.hasOwnProperty(b)&&xb(s,b,a[b])}function xp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $D=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Th(s){return YD.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ir(){}var Tp=null;function Ep(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jo=null,Vo=null;function Eb(s){var a=er(s);if(a&&(s=a.stateNode)){var u=s[Yt]||null;t:switch(s=a.stateNode,a.type){case"input":if(Ap(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Xi(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var y=f[Yt]||null;if(!y)throw Error(n(90));Ap(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&_b(f)}break t;case"textarea":Ab(s,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&Io(s,!!u.multiple,a,!1)}}}var Cp=!1;function Cb(s,a,u){if(Cp)return s(a,u);Cp=!0;try{var f=s(a);return f}finally{if(Cp=!1,(jo!==null||Vo!==null)&&(dd(),jo&&(a=jo,s=Vo,Vo=jo=null,Eb(a),s)))for(a=0;a<s.length;a++)Eb(s[a])}}function fc(s,a){var u=s.stateNode;if(u===null)return null;var f=u[Yt]||null;if(f===null)return null;u=f[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=!1;if(sr)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Mp=!1}var jr=null,Dp=null,Eh=null;function Mb(){if(Eh)return Eh;var s,a=Dp,u=a.length,f,y="value"in jr?jr.value:jr.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var x=u-s;for(f=1;f<=x&&a[u-f]===y[b-f];f++);return Eh=y.slice(s,1<f?1-f:void 0)}function Ch(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Mh(){return!0}function Db(){return!1}function ri(s){function a(u,f,y,b,x){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=x,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Mh:Db,this.isPropagationStopped=Db,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),a}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=ri(Ba),mc=m({},Ba,{view:0,detail:0}),qD=ri(mc),Rp,Op,gc,Rh=m({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gc&&(gc&&s.type==="mousemove"?(Rp=s.screenX-gc.screenX,Op=s.screenY-gc.screenY):Op=Rp=0,gc=s),Rp)},movementY:function(s){return"movementY"in s?s.movementY:Op}}),Rb=ri(Rh),WD=m({},Rh,{dataTransfer:0}),KD=ri(WD),QD=m({},mc,{relatedTarget:0}),Lp=ri(QD),ZD=m({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),JD=ri(ZD),tR=m({},Ba,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),eR=ri(tR),nR=m({},Ba,{data:0}),Ob=ri(nR),iR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=rR[s])?!!a[s]:!1}function kp(){return aR}var oR=m({},mc,{key:function(s){if(s.key){var a=iR[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ch(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(s){return s.type==="keypress"?Ch(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ch(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),lR=ri(oR),cR=m({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=ri(cR),uR=m({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),hR=ri(uR),dR=m({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),fR=ri(dR),pR=m({},Rh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=ri(pR),gR=m({},Ba,{newState:0,oldState:0}),yR=ri(gR),vR=[9,13,27,32],Pp=sr&&"CompositionEvent"in window,yc=null;sr&&"documentMode"in document&&(yc=document.documentMode);var bR=sr&&"TextEvent"in window&&!yc,kb=sr&&(!Pp||yc&&8<yc&&11>=yc),Pb=" ",Nb=!1;function Bb(s,a){switch(s){case"keyup":return vR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function _R(s,a){switch(s){case"compositionend":return Fb(a);case"keypress":return a.which!==32?null:(Nb=!0,Pb);case"textInput":return s=a.data,s===Pb&&Nb?null:s;default:return null}}function SR(s,a){if(Uo)return s==="compositionend"||!Pp&&Bb(s,a)?(s=Mb(),Eh=Dp=jr=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return kb&&a.locale!=="ko"?null:a.data;default:return null}}var AR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ib(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!AR[s.type]:a==="textarea"}function zb(s,a,u,f){jo?Vo?Vo.push(f):Vo=[f]:jo=f,a=bd(a,"onChange"),0<a.length&&(u=new Dh("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var vc=null,bc=null;function wR(s){SA(s,0)}function Oh(s){var a=ie(s);if(_b(a))return s}function jb(s,a){if(s==="change")return a}var Vb=!1;if(sr){var Np;if(sr){var Bp="oninput"in document;if(!Bp){var Ub=document.createElement("div");Ub.setAttribute("oninput","return;"),Bp=typeof Ub.oninput=="function"}Np=Bp}else Np=!1;Vb=Np&&(!document.documentMode||9<document.documentMode)}function Hb(){vc&&(vc.detachEvent("onpropertychange",Gb),bc=vc=null)}function Gb(s){if(s.propertyName==="value"&&Oh(bc)){var a=[];zb(a,bc,s,Ep(s)),Cb(wR,a)}}function xR(s,a,u){s==="focusin"?(Hb(),vc=a,bc=u,vc.attachEvent("onpropertychange",Gb)):s==="focusout"&&Hb()}function TR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Oh(bc)}function ER(s,a){if(s==="click")return Oh(a)}function CR(s,a){if(s==="input"||s==="change")return Oh(a)}function MR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Si=typeof Object.is=="function"?Object.is:MR;function _c(s,a){if(Si(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!Fn.call(a,y)||!Si(s[y],a[y]))return!1}return!0}function Xb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $b(s,a){var u=Xb(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Xb(u)}}function Yb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Yb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function qb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=xh(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=xh(s.document)}return a}function Fp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var DR=sr&&"documentMode"in document&&11>=document.documentMode,Ho=null,Ip=null,Sc=null,zp=!1;function Wb(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zp||Ho==null||Ho!==xh(f)||(f=Ho,"selectionStart"in f&&Fp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Sc&&_c(Sc,f)||(Sc=f,f=bd(Ip,"onSelect"),0<f.length&&(a=new Dh("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ho)))}function Fa(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Go={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},jp={},Kb={};sr&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ia(s){if(jp[s])return jp[s];if(!Go[s])return s;var a=Go[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Kb)return jp[s]=a[u];return s}var Qb=Ia("animationend"),Zb=Ia("animationiteration"),Jb=Ia("animationstart"),RR=Ia("transitionrun"),OR=Ia("transitionstart"),LR=Ia("transitioncancel"),t_=Ia("transitionend"),e_=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function gs(s,a){e_.set(s,a),ms(a,[s])}var Lh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$i=[],Xo=0,Up=0;function kh(){for(var s=Xo,a=Up=Xo=0;a<s;){var u=$i[a];$i[a++]=null;var f=$i[a];$i[a++]=null;var y=$i[a];$i[a++]=null;var b=$i[a];if($i[a++]=null,f!==null&&y!==null){var x=f.pending;x===null?y.next=y:(y.next=x.next,x.next=y),f.pending=y}b!==0&&n_(u,y,b)}}function Ph(s,a,u,f){$i[Xo++]=s,$i[Xo++]=a,$i[Xo++]=u,$i[Xo++]=f,Up|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Hp(s,a,u,f){return Ph(s,a,u,f),Nh(s)}function za(s,a){return Ph(s,null,null,a),Nh(s)}function n_(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&a!==null&&(y=31-le(u),s=b.hiddenUpdates,f=s[y],f===null?s[y]=[a]:f.push(a),a.lane=u|536870912),b):null}function Nh(s){if(50<Hc)throw Hc=0,Zm=null,Error(n(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var $o={};function kR(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(s,a,u,f){return new kR(s,a,u,f)}function Gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rr(s,a){var u=s.alternate;return u===null?(u=Ai(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function i_(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Bh(s,a,u,f,y,b){var x=0;if(f=s,typeof s=="function")Gp(s)&&(x=1);else if(typeof s=="string")x=I2(s,u,it.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case F:return s=Ai(31,u,a,y),s.elementType=F,s.lanes=b,s;case _:return ja(u.children,y,b,a);case w:x=8,y|=24;break;case A:return s=Ai(12,u,a,y|2),s.elementType=A,s.lanes=b,s;case C:return s=Ai(13,u,a,y),s.elementType=C,s.lanes=b,s;case L:return s=Ai(19,u,a,y),s.elementType=L,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:x=10;break t;case T:x=9;break t;case D:x=11;break t;case R:x=14;break t;case k:x=16,f=null;break t}x=29,u=Error(n(130,s===null?"null":typeof s,"")),f=null}return a=Ai(x,u,a,y),a.elementType=s,a.type=f,a.lanes=b,a}function ja(s,a,u,f){return s=Ai(7,s,f,a),s.lanes=u,s}function Xp(s,a,u){return s=Ai(6,s,null,a),s.lanes=u,s}function s_(s){var a=Ai(18,null,null,0);return a.stateNode=s,a}function $p(s,a,u){return a=Ai(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var r_=new WeakMap;function Yi(s,a){if(typeof s=="object"&&s!==null){var u=r_.get(s);return u!==void 0?u:(a={value:s,source:a,stack:We(a)},r_.set(s,a),a)}return{value:s,source:a,stack:We(a)}}var Yo=[],qo=0,Fh=null,Ac=0,qi=[],Wi=0,Vr=null,Rs=1,Os="";function ar(s,a){Yo[qo++]=Ac,Yo[qo++]=Fh,Fh=s,Ac=a}function a_(s,a,u){qi[Wi++]=Rs,qi[Wi++]=Os,qi[Wi++]=Vr,Vr=s;var f=Rs;s=Os;var y=32-le(f)-1;f&=~(1<<y),u+=1;var b=32-le(a)+y;if(30<b){var x=y-y%5;b=(f&(1<<x)-1).toString(32),f>>=x,y-=x,Rs=1<<32-le(a)+y|u<<y|f,Os=b+s}else Rs=1<<b|u<<y|f,Os=s}function Yp(s){s.return!==null&&(ar(s,1),a_(s,1,0))}function qp(s){for(;s===Fh;)Fh=Yo[--qo],Yo[qo]=null,Ac=Yo[--qo],Yo[qo]=null;for(;s===Vr;)Vr=qi[--Wi],qi[Wi]=null,Os=qi[--Wi],qi[Wi]=null,Rs=qi[--Wi],qi[Wi]=null}function o_(s,a){qi[Wi++]=Rs,qi[Wi++]=Os,qi[Wi++]=Vr,Rs=a.id,Os=a.overflow,Vr=s}var Dn=null,Le=null,se=!1,Ur=null,Ki=!1,Wp=Error(n(519));function Hr(s){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(Yi(a,s)),Wp}function l_(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[Ht]=s,a[Yt]=f,u){case"dialog":Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(u=0;u<Xc.length;u++)Qt(Xc[u],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"input":Qt("invalid",a),Sb(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Qt("invalid",a);break;case"textarea":Qt("invalid",a),wb(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||TA(a.textContent,u)?(f.popover!=null&&(Qt("beforetoggle",a),Qt("toggle",a)),f.onScroll!=null&&Qt("scroll",a),f.onScrollEnd!=null&&Qt("scrollend",a),f.onClick!=null&&(a.onclick=ir),a=!0):a=!1,a||Hr(s,!0)}function c_(s){for(Dn=s.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:Dn=Dn.return}}function Wo(s){if(s!==Dn)return!1;if(!se)return c_(s),se=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||fg(s.type,s.memoizedProps)),u=!u),u&&Le&&Hr(s),c_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Le=PA(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Le=PA(s)}else a===27?(a=Le,ia(s.type)?(s=vg,vg=null,Le=s):Le=a):Le=Dn?Zi(s.stateNode.nextSibling):null;return!0}function Va(){Le=Dn=null,se=!1}function Kp(){var s=Ur;return s!==null&&(ci===null?ci=s:ci.push.apply(ci,s),Ur=null),s}function wc(s){Ur===null?Ur=[s]:Ur.push(s)}var Qp=P(null),Ua=null,or=null;function Gr(s,a,u){Z(Qp,a._currentValue),a._currentValue=u}function lr(s){s._currentValue=Qp.current,j(Qp)}function Zp(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Jp(s,a,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var x=y.child;b=b.firstContext;t:for(;b!==null;){var M=b;b=y;for(var I=0;I<a.length;I++)if(M.context===a[I]){b.lanes|=u,M=b.alternate,M!==null&&(M.lanes|=u),Zp(b.return,u,s),f||(x=null);break t}b=M.next}}else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=u,b=x.alternate,b!==null&&(b.lanes|=u),Zp(x,u,s),x=null}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===s){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}}function Ko(s,a,u,f){s=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var x=y.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var M=y.type;Si(y.pendingProps.value,x.value)||(s!==null?s.push(M):s=[M])}}else if(y===gt.current){if(x=y.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Kc):s=[Kc])}y=y.return}s!==null&&Jp(a,s,u,f),a.flags|=262144}function Ih(s){for(s=s.firstContext;s!==null;){if(!Si(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ha(s){Ua=s,or=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rn(s){return u_(Ua,s)}function zh(s,a){return Ua===null&&Ha(s),u_(s,a)}function u_(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},or===null){if(s===null)throw Error(n(308));or=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else or=or.next=a;return u}var PR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},NR=r.unstable_scheduleCallback,BR=r.unstable_NormalPriority,un={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new PR,data:new Map,refCount:0}}function xc(s){s.refCount--,s.refCount===0&&NR(BR,function(){s.controller.abort()})}var Tc=null,em=0,Qo=0,Zo=null;function FR(s,a){if(Tc===null){var u=Tc=[];em=0,Qo=sg(),Zo={status:"pending",value:void 0,then:function(f){u.push(f)}}}return em++,a.then(h_,h_),a}function h_(){if(--em===0&&Tc!==null){Zo!==null&&(Zo.status="fulfilled");var s=Tc;Tc=null,Qo=0,Zo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function IR(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var d_=O.S;O.S=function(s,a){WS=Ae(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&FR(s,a),d_!==null&&d_(s,a)};var Ga=P(null);function nm(){var s=Ga.current;return s!==null?s:we.pooledCache}function jh(s,a){a===null?Z(Ga,Ga.current):Z(Ga,a.pool)}function f_(){var s=nm();return s===null?null:{parent:un._currentValue,pool:s}}var Jo=Error(n(460)),im=Error(n(474)),Vh=Error(n(542)),Uh={then:function(){}};function p_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function m_(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(ir,ir),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,y_(s),s;default:if(typeof a.status=="string")a.then(ir,ir);else{if(s=we,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,y_(s),s}throw $a=a,Jo}}function Xa(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?($a=u,Jo):u}}var $a=null;function g_(){if($a===null)throw Error(n(459));var s=$a;return $a=null,s}function y_(s){if(s===Jo||s===Vh)throw Error(n(483))}var tl=null,Ec=0;function Hh(s){var a=Ec;return Ec+=1,tl===null&&(tl=[]),m_(tl,s,a)}function Cc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Gh(s,a){throw a.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function v_(s){function a(Y,G){if(s){var K=Y.deletions;K===null?(Y.deletions=[G],Y.flags|=16):K.push(G)}}function u(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function f(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function y(Y,G){return Y=rr(Y,G),Y.index=0,Y.sibling=null,Y}function b(Y,G,K){return Y.index=K,s?(K=Y.alternate,K!==null?(K=K.index,K<G?(Y.flags|=67108866,G):K):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function x(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function M(Y,G,K,lt){return G===null||G.tag!==6?(G=Xp(K,Y.mode,lt),G.return=Y,G):(G=y(G,K),G.return=Y,G)}function I(Y,G,K,lt){var Ot=K.type;return Ot===_?rt(Y,G,K.props.children,lt,K.key):G!==null&&(G.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&Xa(Ot)===G.type)?(G=y(G,K.props),Cc(G,K),G.return=Y,G):(G=Bh(K.type,K.key,K.props,null,Y.mode,lt),Cc(G,K),G.return=Y,G)}function Q(Y,G,K,lt){return G===null||G.tag!==4||G.stateNode.containerInfo!==K.containerInfo||G.stateNode.implementation!==K.implementation?(G=$p(K,Y.mode,lt),G.return=Y,G):(G=y(G,K.children||[]),G.return=Y,G)}function rt(Y,G,K,lt,Ot){return G===null||G.tag!==7?(G=ja(K,Y.mode,lt,Ot),G.return=Y,G):(G=y(G,K),G.return=Y,G)}function ut(Y,G,K){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Xp(""+G,Y.mode,K),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return K=Bh(G.type,G.key,G.props,null,Y.mode,K),Cc(K,G),K.return=Y,K;case S:return G=$p(G,Y.mode,K),G.return=Y,G;case k:return G=Xa(G),ut(Y,G,K)}if(W(G)||at(G))return G=ja(G,Y.mode,K,null),G.return=Y,G;if(typeof G.then=="function")return ut(Y,Hh(G),K);if(G.$$typeof===E)return ut(Y,zh(Y,G),K);Gh(Y,G)}return null}function J(Y,G,K,lt){var Ot=G!==null?G.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ot!==null?null:M(Y,G,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return K.key===Ot?I(Y,G,K,lt):null;case S:return K.key===Ot?Q(Y,G,K,lt):null;case k:return K=Xa(K),J(Y,G,K,lt)}if(W(K)||at(K))return Ot!==null?null:rt(Y,G,K,lt,null);if(typeof K.then=="function")return J(Y,G,Hh(K),lt);if(K.$$typeof===E)return J(Y,G,zh(Y,K),lt);Gh(Y,K)}return null}function tt(Y,G,K,lt,Ot){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Y=Y.get(K)||null,M(G,Y,""+lt,Ot);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case g:return Y=Y.get(lt.key===null?K:lt.key)||null,I(G,Y,lt,Ot);case S:return Y=Y.get(lt.key===null?K:lt.key)||null,Q(G,Y,lt,Ot);case k:return lt=Xa(lt),tt(Y,G,K,lt,Ot)}if(W(lt)||at(lt))return Y=Y.get(K)||null,rt(G,Y,lt,Ot,null);if(typeof lt.then=="function")return tt(Y,G,K,Hh(lt),Ot);if(lt.$$typeof===E)return tt(Y,G,K,zh(G,lt),Ot);Gh(G,lt)}return null}function xt(Y,G,K,lt){for(var Ot=null,ce=null,Et=G,Xt=G=0,te=null;Et!==null&&Xt<K.length;Xt++){Et.index>Xt?(te=Et,Et=null):te=Et.sibling;var ue=J(Y,Et,K[Xt],lt);if(ue===null){Et===null&&(Et=te);break}s&&Et&&ue.alternate===null&&a(Y,Et),G=b(ue,G,Xt),ce===null?Ot=ue:ce.sibling=ue,ce=ue,Et=te}if(Xt===K.length)return u(Y,Et),se&&ar(Y,Xt),Ot;if(Et===null){for(;Xt<K.length;Xt++)Et=ut(Y,K[Xt],lt),Et!==null&&(G=b(Et,G,Xt),ce===null?Ot=Et:ce.sibling=Et,ce=Et);return se&&ar(Y,Xt),Ot}for(Et=f(Et);Xt<K.length;Xt++)te=tt(Et,Y,Xt,K[Xt],lt),te!==null&&(s&&te.alternate!==null&&Et.delete(te.key===null?Xt:te.key),G=b(te,G,Xt),ce===null?Ot=te:ce.sibling=te,ce=te);return s&&Et.forEach(function(la){return a(Y,la)}),se&&ar(Y,Xt),Ot}function Nt(Y,G,K,lt){if(K==null)throw Error(n(151));for(var Ot=null,ce=null,Et=G,Xt=G=0,te=null,ue=K.next();Et!==null&&!ue.done;Xt++,ue=K.next()){Et.index>Xt?(te=Et,Et=null):te=Et.sibling;var la=J(Y,Et,ue.value,lt);if(la===null){Et===null&&(Et=te);break}s&&Et&&la.alternate===null&&a(Y,Et),G=b(la,G,Xt),ce===null?Ot=la:ce.sibling=la,ce=la,Et=te}if(ue.done)return u(Y,Et),se&&ar(Y,Xt),Ot;if(Et===null){for(;!ue.done;Xt++,ue=K.next())ue=ut(Y,ue.value,lt),ue!==null&&(G=b(ue,G,Xt),ce===null?Ot=ue:ce.sibling=ue,ce=ue);return se&&ar(Y,Xt),Ot}for(Et=f(Et);!ue.done;Xt++,ue=K.next())ue=tt(Et,Y,Xt,ue.value,lt),ue!==null&&(s&&ue.alternate!==null&&Et.delete(ue.key===null?Xt:ue.key),G=b(ue,G,Xt),ce===null?Ot=ue:ce.sibling=ue,ce=ue);return s&&Et.forEach(function(W2){return a(Y,W2)}),se&&ar(Y,Xt),Ot}function be(Y,G,K,lt){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case g:t:{for(var Ot=K.key;G!==null;){if(G.key===Ot){if(Ot=K.type,Ot===_){if(G.tag===7){u(Y,G.sibling),lt=y(G,K.props.children),lt.return=Y,Y=lt;break t}}else if(G.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===k&&Xa(Ot)===G.type){u(Y,G.sibling),lt=y(G,K.props),Cc(lt,K),lt.return=Y,Y=lt;break t}u(Y,G);break}else a(Y,G);G=G.sibling}K.type===_?(lt=ja(K.props.children,Y.mode,lt,K.key),lt.return=Y,Y=lt):(lt=Bh(K.type,K.key,K.props,null,Y.mode,lt),Cc(lt,K),lt.return=Y,Y=lt)}return x(Y);case S:t:{for(Ot=K.key;G!==null;){if(G.key===Ot)if(G.tag===4&&G.stateNode.containerInfo===K.containerInfo&&G.stateNode.implementation===K.implementation){u(Y,G.sibling),lt=y(G,K.children||[]),lt.return=Y,Y=lt;break t}else{u(Y,G);break}else a(Y,G);G=G.sibling}lt=$p(K,Y.mode,lt),lt.return=Y,Y=lt}return x(Y);case k:return K=Xa(K),be(Y,G,K,lt)}if(W(K))return xt(Y,G,K,lt);if(at(K)){if(Ot=at(K),typeof Ot!="function")throw Error(n(150));return K=Ot.call(K),Nt(Y,G,K,lt)}if(typeof K.then=="function")return be(Y,G,Hh(K),lt);if(K.$$typeof===E)return be(Y,G,zh(Y,K),lt);Gh(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,G!==null&&G.tag===6?(u(Y,G.sibling),lt=y(G,K),lt.return=Y,Y=lt):(u(Y,G),lt=Xp(K,Y.mode,lt),lt.return=Y,Y=lt),x(Y)):u(Y,G)}return function(Y,G,K,lt){try{Ec=0;var Ot=be(Y,G,K,lt);return tl=null,Ot}catch(Et){if(Et===Jo||Et===Vh)throw Et;var ce=Ai(29,Et,null,Y.mode);return ce.lanes=lt,ce.return=Y,ce}}}var Ya=v_(!0),b_=v_(!1),Xr=!1;function sm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $r(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Yr(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(fe&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Nh(s),n_(s,null,u),a}return Ph(s,f,a,u),Nh(s)}function Mc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ct(s,u)}}function am(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=x:b=b.next=x,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var om=!1;function Dc(){if(om){var s=Zo;if(s!==null)throw s}}function Rc(s,a,u,f){om=!1;var y=s.updateQueue;Xr=!1;var b=y.firstBaseUpdate,x=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var I=M,Q=I.next;I.next=null,x===null?b=Q:x.next=Q,x=I;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,M=rt.lastBaseUpdate,M!==x&&(M===null?rt.firstBaseUpdate=Q:M.next=Q,rt.lastBaseUpdate=I))}if(b!==null){var ut=y.baseState;x=0,rt=Q=I=null,M=b;do{var J=M.lane&-536870913,tt=J!==M.lane;if(tt?(Jt&J)===J:(f&J)===J){J!==0&&J===Qo&&(om=!0),rt!==null&&(rt=rt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var xt=s,Nt=M;J=a;var be=u;switch(Nt.tag){case 1:if(xt=Nt.payload,typeof xt=="function"){ut=xt.call(be,ut,J);break t}ut=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Nt.payload,J=typeof xt=="function"?xt.call(be,ut,J):xt,J==null)break t;ut=m({},ut,J);break t;case 2:Xr=!0}}J=M.callback,J!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=y.callbacks,tt===null?y.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},rt===null?(Q=rt=tt,I=ut):rt=rt.next=tt,x|=J;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;tt=M,M=tt.next,tt.next=null,y.lastBaseUpdate=tt,y.shared.pending=null}}while(!0);rt===null&&(I=ut),y.baseState=I,y.firstBaseUpdate=Q,y.lastBaseUpdate=rt,b===null&&(y.shared.lanes=0),Zr|=x,s.lanes=x,s.memoizedState=ut}}function __(s,a){if(typeof s!="function")throw Error(n(191,s));s.call(a)}function S_(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)__(u[s],a)}var el=P(null),Xh=P(0);function A_(s,a){s=yr,Z(Xh,s),Z(el,a),yr=s|a.baseLanes}function lm(){Z(Xh,yr),Z(el,el.current)}function cm(){yr=Xh.current,j(el),j(Xh)}var wi=P(null),Qi=null;function qr(s){var a=s.alternate;Z(nn,nn.current&1),Z(wi,s),Qi===null&&(a===null||el.current!==null||a.memoizedState!==null)&&(Qi=s)}function um(s){Z(nn,nn.current),Z(wi,s),Qi===null&&(Qi=s)}function w_(s){s.tag===22?(Z(nn,nn.current),Z(wi,s),Qi===null&&(Qi=s)):Wr()}function Wr(){Z(nn,nn.current),Z(wi,wi.current)}function xi(s){j(wi),Qi===s&&(Qi=null),j(nn)}var nn=P(0);function $h(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||gg(u)||yg(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var cr=0,Gt=null,ye=null,hn=null,Yh=!1,nl=!1,qa=!1,qh=0,Oc=0,il=null,zR=0;function Qe(){throw Error(n(321))}function hm(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Si(s[u],a[u]))return!1;return!0}function dm(s,a,u,f,y,b){return cr=b,Gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=s===null||s.memoizedState===null?aS:Cm,qa=!1,b=u(f,y),qa=!1,nl&&(b=T_(a,u,f,y)),x_(s),b}function x_(s){O.H=Pc;var a=ye!==null&&ye.next!==null;if(cr=0,hn=ye=Gt=null,Yh=!1,Oc=0,il=null,a)throw Error(n(300));s===null||dn||(s=s.dependencies,s!==null&&Ih(s)&&(dn=!0))}function T_(s,a,u,f){Gt=s;var y=0;do{if(nl&&(il=null),Oc=0,nl=!1,25<=y)throw Error(n(301));if(y+=1,hn=ye=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}O.H=oS,b=a(u,f)}while(nl);return b}function jR(){var s=O.H,a=s.useState()[0];return a=typeof a.then=="function"?Lc(a):a,s=s.useState()[0],(ye!==null?ye.memoizedState:null)!==s&&(Gt.flags|=1024),a}function fm(){var s=qh!==0;return qh=0,s}function pm(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function mm(s){if(Yh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Yh=!1}cr=0,hn=ye=Gt=null,nl=!1,Oc=qh=0,il=null}function Kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Gt.memoizedState=hn=s:hn=hn.next=s,hn}function sn(){if(ye===null){var s=Gt.alternate;s=s!==null?s.memoizedState:null}else s=ye.next;var a=hn===null?Gt.memoizedState:hn.next;if(a!==null)hn=a,ye=s;else{if(s===null)throw Gt.alternate===null?Error(n(467)):Error(n(310));ye=s,s={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},hn===null?Gt.memoizedState=hn=s:hn=hn.next=s}return hn}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lc(s){var a=Oc;return Oc+=1,il===null&&(il=[]),s=m_(il,s,a),a=Gt,(hn===null?a.memoizedState:hn.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?aS:Cm),s}function Kh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lc(s);if(s.$$typeof===E)return Rn(s)}throw Error(n(438,String(s)))}function gm(s){var a=null,u=Gt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=Gt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Wh(),Gt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=$;return a.index++,u}function ur(s,a){return typeof a=="function"?a(s):a}function Qh(s){var a=sn();return ym(a,ye,s)}function ym(s,a,u){var f=s.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=s.baseQueue,b=f.pending;if(b!==null){if(y!==null){var x=y.next;y.next=b.next,b.next=x}a.baseQueue=y=b,f.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{a=y.next;var M=x=null,I=null,Q=a,rt=!1;do{var ut=Q.lane&-536870913;if(ut!==Q.lane?(Jt&ut)===ut:(cr&ut)===ut){var J=Q.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ut===Qo&&(rt=!0);else if((cr&J)===J){Q=Q.next,J===Qo&&(rt=!0);continue}else ut={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(M=I=ut,x=b):I=I.next=ut,Gt.lanes|=J,Zr|=J;ut=Q.action,qa&&u(b,ut),b=Q.hasEagerState?Q.eagerState:u(b,ut)}else J={lane:ut,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(M=I=J,x=b):I=I.next=J,Gt.lanes|=ut,Zr|=ut;Q=Q.next}while(Q!==null&&Q!==a);if(I===null?x=b:I.next=M,!Si(b,s.memoizedState)&&(dn=!0,rt&&(u=Zo,u!==null)))throw u;s.memoizedState=b,s.baseState=x,s.baseQueue=I,f.lastRenderedState=b}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function vm(s){var a=sn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var x=y=y.next;do b=s(b,x.action),x=x.next;while(x!==y);Si(b,a.memoizedState)||(dn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function E_(s,a,u){var f=Gt,y=sn(),b=se;if(b){if(u===void 0)throw Error(n(407));u=u()}else u=a();var x=!Si((ye||y).memoizedState,u);if(x&&(y.memoizedState=u,dn=!0),y=y.queue,Sm(D_.bind(null,f,y,s),[s]),y.getSnapshot!==a||x||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,sl(9,{destroy:void 0},M_.bind(null,f,y,u,a),null),we===null)throw Error(n(349));b||(cr&127)!==0||C_(f,a,u)}return u}function C_(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Gt.updateQueue,a===null?(a=Wh(),Gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function M_(s,a,u,f){a.value=u,a.getSnapshot=f,R_(a)&&O_(s)}function D_(s,a,u){return u(function(){R_(a)&&O_(s)})}function R_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Si(s,u)}catch{return!0}}function O_(s){var a=za(s,2);a!==null&&ui(a,s,2)}function bm(s){var a=Kn();if(typeof s=="function"){var u=s;if(s=u(),qa){de(!0);try{u()}finally{de(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:s},a}function L_(s,a,u,f){return s.baseState=u,ym(s,ye,typeof f=="function"?f:ur)}function VR(s,a,u,f,y){if(td(s))throw Error(n(485));if(s=a.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){b.listeners.push(x)}};O.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,k_(a,b)):(b.next=u.next,a.pending=u.next=b)}}function k_(s,a){var u=a.action,f=a.payload,y=s.state;if(a.isTransition){var b=O.T,x={};O.T=x;try{var M=u(y,f),I=O.S;I!==null&&I(x,M),P_(s,a,M)}catch(Q){_m(s,a,Q)}finally{b!==null&&x.types!==null&&(b.types=x.types),O.T=b}}else try{b=u(y,f),P_(s,a,b)}catch(Q){_m(s,a,Q)}}function P_(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){N_(s,a,f)},function(f){return _m(s,a,f)}):N_(s,a,u)}function N_(s,a,u){a.status="fulfilled",a.value=u,B_(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,k_(s,u)))}function _m(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,B_(a),a=a.next;while(a!==f)}s.action=null}function B_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function F_(s,a){return a}function I_(s,a){if(se){var u=we.formState;if(u!==null){t:{var f=Gt;if(se){if(Le){e:{for(var y=Le,b=Ki;y.nodeType!==8;){if(!b){y=null;break e}if(y=Zi(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Le=Zi(y.nextSibling),f=y.data==="F!";break t}}Hr(f)}f=!1}f&&(a=u[0])}}return u=Kn(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:a},u.queue=f,u=iS.bind(null,Gt,f),f.dispatch=u,f=bm(!1),b=Em.bind(null,Gt,!1,f.queue),f=Kn(),y={state:a,dispatch:null,action:s,pending:null},f.queue=y,u=VR.bind(null,Gt,y,b,u),y.dispatch=u,f.memoizedState=s,[a,u,!1]}function z_(s){var a=sn();return j_(a,ye,s)}function j_(s,a,u){if(a=ym(s,a,F_)[0],s=Qh(ur)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Lc(a)}catch(x){throw x===Jo?Vh:x}else f=a;a=sn();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(Gt.flags|=2048,sl(9,{destroy:void 0},UR.bind(null,y,u),null)),[f,b,s]}function UR(s,a){s.action=a}function V_(s){var a=sn(),u=ye;if(u!==null)return j_(a,u,s);sn(),a=a.memoizedState,u=sn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function sl(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=Gt.updateQueue,a===null&&(a=Wh(),Gt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function U_(){return sn().memoizedState}function Zh(s,a,u,f){var y=Kn();Gt.flags|=s,y.memoizedState=sl(1|a,{destroy:void 0},u,f===void 0?null:f)}function Jh(s,a,u,f){var y=sn();f=f===void 0?null:f;var b=y.memoizedState.inst;ye!==null&&f!==null&&hm(f,ye.memoizedState.deps)?y.memoizedState=sl(a,b,u,f):(Gt.flags|=s,y.memoizedState=sl(1|a,b,u,f))}function H_(s,a){Zh(8390656,8,s,a)}function Sm(s,a){Jh(2048,8,s,a)}function HR(s){Gt.flags|=4;var a=Gt.updateQueue;if(a===null)a=Wh(),Gt.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function G_(s){var a=sn().memoizedState;return HR({ref:a,nextImpl:s}),function(){if((fe&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function X_(s,a){return Jh(4,2,s,a)}function $_(s,a){return Jh(4,4,s,a)}function Y_(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function q_(s,a,u){u=u!=null?u.concat([s]):null,Jh(4,4,Y_.bind(null,a,s),u)}function Am(){}function W_(s,a){var u=sn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&hm(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function K_(s,a){var u=sn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&hm(a,f[1]))return f[0];if(f=s(),qa){de(!0);try{s()}finally{de(!1)}}return u.memoizedState=[f,a],f}function wm(s,a,u){return u===void 0||(cr&1073741824)!==0&&(Jt&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=QS(),Gt.lanes|=s,Zr|=s,u)}function Q_(s,a,u,f){return Si(u,a)?u:el.current!==null?(s=wm(s,u,f),Si(s,a)||(dn=!0),s):(cr&42)===0||(cr&1073741824)!==0&&(Jt&261930)===0?(dn=!0,s.memoizedState=u):(s=QS(),Gt.lanes|=s,Zr|=s,a)}function Z_(s,a,u,f,y){var b=N.p;N.p=b!==0&&8>b?b:8;var x=O.T,M={};O.T=M,Em(s,!1,a,u);try{var I=y(),Q=O.S;if(Q!==null&&Q(M,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var rt=IR(I,f);kc(s,a,rt,Ci(s))}else kc(s,a,f,Ci(s))}catch(ut){kc(s,a,{then:function(){},status:"rejected",reason:ut},Ci())}finally{N.p=b,x!==null&&M.types!==null&&(x.types=M.types),O.T=x}}function GR(){}function xm(s,a,u,f){if(s.tag!==5)throw Error(n(476));var y=J_(s).queue;Z_(s,y,a,z,u===null?GR:function(){return tS(s),u(f)})}function J_(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:z},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function tS(s){var a=J_(s);a.next===null&&(a=s.alternate.memoizedState),kc(s,a.next.queue,{},Ci())}function Tm(){return Rn(Kc)}function eS(){return sn().memoizedState}function nS(){return sn().memoizedState}function XR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ci();s=$r(u);var f=Yr(a,s,u);f!==null&&(ui(f,a,u),Mc(f,a,u)),a={cache:tm()},s.payload=a;return}a=a.return}}function $R(s,a,u){var f=Ci();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},td(s)?sS(a,u):(u=Hp(s,a,u,f),u!==null&&(ui(u,s,f),rS(u,a,f)))}function iS(s,a,u){var f=Ci();kc(s,a,u,f)}function kc(s,a,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(td(s))sS(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var x=a.lastRenderedState,M=b(x,u);if(y.hasEagerState=!0,y.eagerState=M,Si(M,x))return Ph(s,a,y,0),we===null&&kh(),!1}catch{}if(u=Hp(s,a,y,f),u!==null)return ui(u,s,f),rS(u,a,f),!0}return!1}function Em(s,a,u,f){if(f={lane:2,revertLane:sg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},td(s)){if(a)throw Error(n(479))}else a=Hp(s,u,f,2),a!==null&&ui(a,s,2)}function td(s){var a=s.alternate;return s===Gt||a!==null&&a===Gt}function sS(s,a){nl=Yh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function rS(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,ct(s,u)}}var Pc={readContext:Rn,use:Kh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Pc.useEffectEvent=Qe;var aS={readContext:Rn,use:Kh,useCallback:function(s,a){return Kn().memoizedState=[s,a===void 0?null:a],s},useContext:Rn,useEffect:H_,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Zh(4194308,4,Y_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Zh(4194308,4,s,a)},useInsertionEffect:function(s,a){Zh(4,2,s,a)},useMemo:function(s,a){var u=Kn();a=a===void 0?null:a;var f=s();if(qa){de(!0);try{s()}finally{de(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=Kn();if(u!==void 0){var y=u(a);if(qa){de(!0);try{u(a)}finally{de(!1)}}}else y=a;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=$R.bind(null,Gt,s),[f.memoizedState,s]},useRef:function(s){var a=Kn();return s={current:s},a.memoizedState=s},useState:function(s){s=bm(s);var a=s.queue,u=iS.bind(null,Gt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Am,useDeferredValue:function(s,a){var u=Kn();return wm(u,s,a)},useTransition:function(){var s=bm(!1);return s=Z_.bind(null,Gt,s.queue,!0,!1),Kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=Gt,y=Kn();if(se){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),we===null)throw Error(n(349));(Jt&127)!==0||C_(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,H_(D_.bind(null,f,b,s),[s]),f.flags|=2048,sl(9,{destroy:void 0},M_.bind(null,f,b,u,a),null),u},useId:function(){var s=Kn(),a=we.identifierPrefix;if(se){var u=Os,f=Rs;u=(f&~(1<<32-le(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=qh++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=zR++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Tm,useFormState:I_,useActionState:I_,useOptimistic:function(s){var a=Kn();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Em.bind(null,Gt,!0,u),u.dispatch=a,[s,a]},useMemoCache:gm,useCacheRefresh:function(){return Kn().memoizedState=XR.bind(null,Gt)},useEffectEvent:function(s){var a=Kn(),u={impl:s};return a.memoizedState=u,function(){if((fe&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Cm={readContext:Rn,use:Kh,useCallback:W_,useContext:Rn,useEffect:Sm,useImperativeHandle:q_,useInsertionEffect:X_,useLayoutEffect:$_,useMemo:K_,useReducer:Qh,useRef:U_,useState:function(){return Qh(ur)},useDebugValue:Am,useDeferredValue:function(s,a){var u=sn();return Q_(u,ye.memoizedState,s,a)},useTransition:function(){var s=Qh(ur)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Lc(s),a]},useSyncExternalStore:E_,useId:eS,useHostTransitionStatus:Tm,useFormState:z_,useActionState:z_,useOptimistic:function(s,a){var u=sn();return L_(u,ye,s,a)},useMemoCache:gm,useCacheRefresh:nS};Cm.useEffectEvent=G_;var oS={readContext:Rn,use:Kh,useCallback:W_,useContext:Rn,useEffect:Sm,useImperativeHandle:q_,useInsertionEffect:X_,useLayoutEffect:$_,useMemo:K_,useReducer:vm,useRef:U_,useState:function(){return vm(ur)},useDebugValue:Am,useDeferredValue:function(s,a){var u=sn();return ye===null?wm(u,s,a):Q_(u,ye.memoizedState,s,a)},useTransition:function(){var s=vm(ur)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Lc(s),a]},useSyncExternalStore:E_,useId:eS,useHostTransitionStatus:Tm,useFormState:V_,useActionState:V_,useOptimistic:function(s,a){var u=sn();return ye!==null?L_(u,ye,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:gm,useCacheRefresh:nS};oS.useEffectEvent=G_;function Mm(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:m({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Dm={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Ci(),y=$r(f);y.payload=a,u!=null&&(y.callback=u),a=Yr(s,y,f),a!==null&&(ui(a,s,f),Mc(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Ci(),y=$r(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Yr(s,y,f),a!==null&&(ui(a,s,f),Mc(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Ci(),f=$r(u);f.tag=2,a!=null&&(f.callback=a),a=Yr(s,f,u),a!==null&&(ui(a,s,u),Mc(a,s,u))}};function lS(s,a,u,f,y,b,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,x):a.prototype&&a.prototype.isPureReactComponent?!_c(u,f)||!_c(y,b):!0}function cS(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Dm.enqueueReplaceState(a,a.state,null)}function Wa(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=m({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function uS(s){Lh(s)}function hS(s){console.error(s)}function dS(s){Lh(s)}function ed(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function fS(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Rm(s,a,u){return u=$r(u),u.tag=3,u.payload={element:null},u.callback=function(){ed(s,a)},u}function pS(s){return s=$r(s),s.tag=3,s}function mS(s,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;s.payload=function(){return y(b)},s.callback=function(){fS(a,u,f)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){fS(a,u,f),typeof y!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function YR(s,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Ko(a,u,y,!0),u=wi.current,u!==null){switch(u.tag){case 31:case 13:return Qi===null?fd():u.alternate===null&&Ze===0&&(Ze=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Uh?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),eg(s,f,y)),!1;case 22:return u.flags|=65536,f===Uh?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),eg(s,f,y)),!1}throw Error(n(435,u.tag))}return eg(s,f,y),fd(),!1}if(se)return a=wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Wp&&(s=Error(n(422),{cause:f}),wc(Yi(s,u)))):(f!==Wp&&(a=Error(n(423),{cause:f}),wc(Yi(a,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=Yi(f,u),y=Rm(s.stateNode,f,y),am(s,y),Ze!==4&&(Ze=2)),!1;var b=Error(n(520),{cause:f});if(b=Yi(b,u),Uc===null?Uc=[b]:Uc.push(b),Ze!==4&&(Ze=2),a===null)return!0;f=Yi(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Rm(u.stateNode,f,s),am(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Jr===null||!Jr.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=pS(y),mS(y,s,u,f),am(u,y),!1}u=u.return}while(u!==null);return!1}var Om=Error(n(461)),dn=!1;function On(s,a,u,f){a.child=s===null?b_(a,null,u,f):Ya(a,s.child,u,f)}function gS(s,a,u,f,y){u=u.render;var b=a.ref;if("ref"in f){var x={};for(var M in f)M!=="ref"&&(x[M]=f[M])}else x=f;return Ha(a),f=dm(s,a,u,x,b,y),M=fm(),s!==null&&!dn?(pm(s,a,y),hr(s,a,y)):(se&&M&&Yp(a),a.flags|=1,On(s,a,f,y),a.child)}function yS(s,a,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!Gp(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,vS(s,a,b,f,y)):(s=Bh(u.type,null,f,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!zm(s,y)){var x=b.memoizedProps;if(u=u.compare,u=u!==null?u:_c,u(x,f)&&s.ref===a.ref)return hr(s,a,y)}return a.flags|=1,s=rr(b,f),s.ref=a.ref,s.return=a,a.child=s}function vS(s,a,u,f,y){if(s!==null){var b=s.memoizedProps;if(_c(b,f)&&s.ref===a.ref)if(dn=!1,a.pendingProps=f=b,zm(s,y))(s.flags&131072)!==0&&(dn=!0);else return a.lanes=s.lanes,hr(s,a,y)}return Lm(s,a,u,f,y)}function bS(s,a,u,f){var y=f.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(f=a.child=s.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,a.child=null;return _S(s,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&jh(a,b!==null?b.cachePool:null),b!==null?A_(a,b):lm(),w_(a);else return f=a.lanes=536870912,_S(s,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(jh(a,b.cachePool),A_(a,b),Wr(),a.memoizedState=null):(s!==null&&jh(a,null),lm(),Wr());return On(s,a,y,u),a.child}function Nc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function _S(s,a,u,f,y){var b=nm();return b=b===null?null:{parent:un._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},s!==null&&jh(a,null),lm(),w_(a),s!==null&&Ko(s,a,f,!0),a.childLanes=y,null}function nd(s,a){return a=sd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function SS(s,a,u){return Ya(a,s.child,null,u),s=nd(a,a.pendingProps),s.flags|=2,xi(a),a.memoizedState=null,s}function qR(s,a,u){var f=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(se){if(f.mode==="hidden")return s=nd(a,f),a.lanes=536870912,Nc(null,s);if(um(a),(s=Le)?(s=kA(s,Ki),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Vr!==null?{id:Rs,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},u=s_(s),u.return=a,a.child=u,Dn=a,Le=null)):s=null,s===null)throw Hr(a);return a.lanes=536870912,null}return nd(a,f)}var b=s.memoizedState;if(b!==null){var x=b.dehydrated;if(um(a),y)if(a.flags&256)a.flags&=-257,a=SS(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(n(558));else if(dn||Ko(s,a,u,!1),y=(u&s.childLanes)!==0,dn||y){if(f=we,f!==null&&(x=ht(f,u),x!==0&&x!==b.retryLane))throw b.retryLane=x,za(s,x),ui(f,s,x),Om;fd(),a=SS(s,a,u)}else s=b.treeContext,Le=Zi(x.nextSibling),Dn=a,se=!0,Ur=null,Ki=!1,s!==null&&o_(a,s),a=nd(a,f),a.flags|=4096;return a}return s=rr(s.child,{mode:f.mode,children:f.children}),s.ref=a.ref,a.child=s,s.return=a,s}function id(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Lm(s,a,u,f,y){return Ha(a),u=dm(s,a,u,f,void 0,y),f=fm(),s!==null&&!dn?(pm(s,a,y),hr(s,a,y)):(se&&f&&Yp(a),a.flags|=1,On(s,a,u,y),a.child)}function AS(s,a,u,f,y,b){return Ha(a),a.updateQueue=null,u=T_(a,f,u,y),x_(s),f=fm(),s!==null&&!dn?(pm(s,a,b),hr(s,a,b)):(se&&f&&Yp(a),a.flags|=1,On(s,a,u,b),a.child)}function wS(s,a,u,f,y){if(Ha(a),a.stateNode===null){var b=$o,x=u.contextType;typeof x=="object"&&x!==null&&(b=Rn(x)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dm,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},sm(a),x=u.contextType,b.context=typeof x=="object"&&x!==null?Rn(x):$o,b.state=a.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(Mm(a,u,x,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(x=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),x!==b.state&&Dm.enqueueReplaceState(b,b.state,null),Rc(a,f,b,y),Dc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){b=a.stateNode;var M=a.memoizedProps,I=Wa(u,M);b.props=I;var Q=b.context,rt=u.contextType;x=$o,typeof rt=="object"&&rt!==null&&(x=Rn(rt));var ut=u.getDerivedStateFromProps;rt=typeof ut=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,rt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||Q!==x)&&cS(a,b,f,x),Xr=!1;var J=a.memoizedState;b.state=J,Rc(a,f,b,y),Dc(),Q=a.memoizedState,M||J!==Q||Xr?(typeof ut=="function"&&(Mm(a,u,ut,f),Q=a.memoizedState),(I=Xr||lS(a,u,I,f,J,Q,x))?(rt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Q),b.props=f,b.state=Q,b.context=x,f=I):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,rm(s,a),x=a.memoizedProps,rt=Wa(u,x),b.props=rt,ut=a.pendingProps,J=b.context,Q=u.contextType,I=$o,typeof Q=="object"&&Q!==null&&(I=Rn(Q)),M=u.getDerivedStateFromProps,(Q=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==ut||J!==I)&&cS(a,b,f,I),Xr=!1,J=a.memoizedState,b.state=J,Rc(a,f,b,y),Dc();var tt=a.memoizedState;x!==ut||J!==tt||Xr||s!==null&&s.dependencies!==null&&Ih(s.dependencies)?(typeof M=="function"&&(Mm(a,u,M,f),tt=a.memoizedState),(rt=Xr||lS(a,u,rt,f,J,tt,I)||s!==null&&s.dependencies!==null&&Ih(s.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,tt,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,tt,I)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=tt),b.props=f,b.state=tt,b.context=I,f=rt):(typeof b.componentDidUpdate!="function"||x===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),f=!1)}return b=f,id(s,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&f?(a.child=Ya(a,s.child,null,y),a.child=Ya(a,null,u,y)):On(s,a,u,y),a.memoizedState=b.state,s=a.child):s=hr(s,a,y),s}function xS(s,a,u,f){return Va(),a.flags|=256,On(s,a,u,f),a.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(s){return{baseLanes:s,cachePool:f_()}}function Nm(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Ei),s}function TS(s,a,u){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,x;if((x=b)||(x=s!==null&&s.memoizedState===null?!1:(nn.current&2)!==0),x&&(y=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(se){if(y?qr(a):Wr(),(s=Le)?(s=kA(s,Ki),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Vr!==null?{id:Rs,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},u=s_(s),u.return=a,a.child=u,Dn=a,Le=null)):s=null,s===null)throw Hr(a);return yg(s)?a.lanes=32:a.lanes=536870912,null}var M=f.children;return f=f.fallback,y?(Wr(),y=a.mode,M=sd({mode:"hidden",children:M},y),f=ja(f,y,u,null),M.return=a,f.return=a,M.sibling=f,a.child=M,f=a.child,f.memoizedState=Pm(u),f.childLanes=Nm(s,x,u),a.memoizedState=km,Nc(null,f)):(qr(a),Bm(a,M))}var I=s.memoizedState;if(I!==null&&(M=I.dehydrated,M!==null)){if(b)a.flags&256?(qr(a),a.flags&=-257,a=Fm(s,a,u)):a.memoizedState!==null?(Wr(),a.child=s.child,a.flags|=128,a=null):(Wr(),M=f.fallback,y=a.mode,f=sd({mode:"visible",children:f.children},y),M=ja(M,y,u,null),M.flags|=2,f.return=a,M.return=a,f.sibling=M,a.child=f,Ya(a,s.child,null,u),f=a.child,f.memoizedState=Pm(u),f.childLanes=Nm(s,x,u),a.memoizedState=km,a=Nc(null,f));else if(qr(a),yg(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var Q=x.dgst;x=Q,f=Error(n(419)),f.stack="",f.digest=x,wc({value:f,source:null,stack:null}),a=Fm(s,a,u)}else if(dn||Ko(s,a,u,!1),x=(u&s.childLanes)!==0,dn||x){if(x=we,x!==null&&(f=ht(x,u),f!==0&&f!==I.retryLane))throw I.retryLane=f,za(s,f),ui(x,s,f),Om;gg(M)||fd(),a=Fm(s,a,u)}else gg(M)?(a.flags|=192,a.child=s.child,a=null):(s=I.treeContext,Le=Zi(M.nextSibling),Dn=a,se=!0,Ur=null,Ki=!1,s!==null&&o_(a,s),a=Bm(a,f.children),a.flags|=4096);return a}return y?(Wr(),M=f.fallback,y=a.mode,I=s.child,Q=I.sibling,f=rr(I,{mode:"hidden",children:f.children}),f.subtreeFlags=I.subtreeFlags&65011712,Q!==null?M=rr(Q,M):(M=ja(M,y,u,null),M.flags|=2),M.return=a,f.return=a,f.sibling=M,a.child=f,Nc(null,f),f=a.child,M=s.child.memoizedState,M===null?M=Pm(u):(y=M.cachePool,y!==null?(I=un._currentValue,y=y.parent!==I?{parent:I,pool:I}:y):y=f_(),M={baseLanes:M.baseLanes|u,cachePool:y}),f.memoizedState=M,f.childLanes=Nm(s,x,u),a.memoizedState=km,Nc(s.child,f)):(qr(a),u=s.child,s=u.sibling,u=rr(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=u,a.memoizedState=null,u)}function Bm(s,a){return a=sd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function sd(s,a){return s=Ai(22,s,null,a),s.lanes=0,s}function Fm(s,a,u){return Ya(a,s.child,null,u),s=Bm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ES(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Zp(s.return,a,u)}function Im(s,a,u,f,y,b){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=y,x.treeForkCount=b)}function CS(s,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var x=nn.current,M=(x&2)!==0;if(M?(x=x&1|2,a.flags|=128):x&=1,Z(nn,x),On(s,a,f,u),f=se?Ac:0,!M&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ES(s,u,a);else if(s.tag===19)ES(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&$h(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Im(a,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&$h(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Im(a,!0,u,null,b,f);break;case"together":Im(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function hr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Zr|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Ko(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=rr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=rr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function zm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Ih(s)))}function WR(s,a,u){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),Gr(a,un,s.memoizedState.cache),Va();break;case 27:case 5:kt(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:Gr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,um(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(qr(a),a.flags|=128,null):(u&a.child.childLanes)!==0?TS(s,a,u):(qr(a),s=hr(s,a,u),s!==null?s.sibling:null);qr(a);break;case 19:var y=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Ko(s,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return CS(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Z(nn,nn.current),f)break;return null;case 22:return a.lanes=0,bS(s,a,u,a.pendingProps);case 24:Gr(a,un,s.memoizedState.cache)}return hr(s,a,u)}function MS(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)dn=!0;else{if(!zm(s,u)&&(a.flags&128)===0)return dn=!1,WR(s,a,u);dn=(s.flags&131072)!==0}else dn=!1,se&&(a.flags&1048576)!==0&&a_(a,Ac,a.index);switch(a.lanes=0,a.tag){case 16:t:{var f=a.pendingProps;if(s=Xa(a.elementType),a.type=s,typeof s=="function")Gp(s)?(f=Wa(s,f),a.tag=1,a=wS(null,a,s,f,u)):(a.tag=0,a=Lm(null,a,s,f,u));else{if(s!=null){var y=s.$$typeof;if(y===D){a.tag=11,a=gS(null,a,s,f,u);break t}else if(y===R){a.tag=14,a=yS(null,a,s,f,u);break t}}throw a=q(s)||s,Error(n(306,a,""))}}return a;case 0:return Lm(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=Wa(f,a.pendingProps),wS(s,a,f,y,u);case 3:t:{if(Dt(a,a.stateNode.containerInfo),s===null)throw Error(n(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,rm(s,a),Rc(a,f,null,u);var x=a.memoizedState;if(f=x.cache,Gr(a,un,f),f!==b.cache&&Jp(a,[un],u,!0),Dc(),f=x.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=xS(s,a,f,u);break t}else if(f!==y){y=Yi(Error(n(424)),a),wc(y),a=xS(s,a,f,u);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Le=Zi(s.firstChild),Dn=a,se=!0,Ur=null,Ki=!0,u=b_(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Va(),f===y){a=hr(s,a,u);break t}On(s,a,f,u)}a=a.child}return a;case 26:return id(s,a),s===null?(u=zA(a.type,null,a.pendingProps,null))?a.memoizedState=u:se||(u=a.type,s=a.pendingProps,f=_d(yt.current).createElement(u),f[Ht]=a,f[Yt]=s,Ln(f,u,s),Ke(f),a.stateNode=f):a.memoizedState=zA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return kt(a),s===null&&se&&(f=a.stateNode=BA(a.type,a.pendingProps,yt.current),Dn=a,Ki=!0,y=Le,ia(a.type)?(vg=y,Le=Zi(f.firstChild)):Le=y),On(s,a,a.pendingProps.children,u),id(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&se&&((y=f=Le)&&(f=T2(f,a.type,a.pendingProps,Ki),f!==null?(a.stateNode=f,Dn=a,Le=Zi(f.firstChild),Ki=!1,y=!0):y=!1),y||Hr(a)),kt(a),y=a.type,b=a.pendingProps,x=s!==null?s.memoizedProps:null,f=b.children,fg(y,b)?f=null:x!==null&&fg(y,x)&&(a.flags|=32),a.memoizedState!==null&&(y=dm(s,a,jR,null,null,u),Kc._currentValue=y),id(s,a),On(s,a,f,u),a.child;case 6:return s===null&&se&&((s=u=Le)&&(u=E2(u,a.pendingProps,Ki),u!==null?(a.stateNode=u,Dn=a,Le=null,s=!0):s=!1),s||Hr(a)),null;case 13:return TS(s,a,u);case 4:return Dt(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ya(a,null,f,u):On(s,a,f,u),a.child;case 11:return gS(s,a,a.type,a.pendingProps,u);case 7:return On(s,a,a.pendingProps,u),a.child;case 8:return On(s,a,a.pendingProps.children,u),a.child;case 12:return On(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Gr(a,a.type,f.value),On(s,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,Ha(a),y=Rn(y),f=f(y),a.flags|=1,On(s,a,f,u),a.child;case 14:return yS(s,a,a.type,a.pendingProps,u);case 15:return vS(s,a,a.type,a.pendingProps,u);case 19:return CS(s,a,u);case 31:return qR(s,a,u);case 22:return bS(s,a,u,a.pendingProps);case 24:return Ha(a),f=Rn(un),s===null?(y=nm(),y===null&&(y=we,b=tm(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:f,cache:y},sm(a),Gr(a,un,y)):((s.lanes&u)!==0&&(rm(s,a),Rc(a,null,null,u),Dc()),y=s.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Gr(a,un,f)):(f=b.cache,Gr(a,un,f),f!==y.cache&&Jp(a,[un],u,!0))),On(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function dr(s){s.flags|=4}function jm(s,a,u,f,y){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(eA())s.flags|=8192;else throw $a=Uh,im}else s.flags&=-16777217}function DS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!GA(a))if(eA())s.flags|=8192;else throw $a=Uh,im}function rd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ot():536870912,s.lanes|=a,ll|=a)}function Bc(s,a){if(!se)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function ke(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function KR(s,a,u){var f=a.pendingProps;switch(qp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(a),null;case 1:return ke(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),lr(un),Pt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Wo(a)?dr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kp())),ke(a),null;case 26:var y=a.type,b=a.memoizedState;return s===null?(dr(a),b!==null?(ke(a),DS(a,b)):(ke(a),jm(a,y,null,f,u))):b?b!==s.memoizedState?(dr(a),ke(a),DS(a,b)):(ke(a),a.flags&=-16777217):(s=s.memoizedProps,s!==f&&dr(a),ke(a),jm(a,y,s,f,u)),null;case 27:if(Rt(a),u=yt.current,y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&dr(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return ke(a),null}s=it.current,Wo(a)?l_(a):(s=BA(y,f,u),a.stateNode=s,dr(a))}return ke(a),null;case 5:if(Rt(a),y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&dr(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return ke(a),null}if(b=it.current,Wo(a))l_(a);else{var x=_d(yt.current);switch(b){case 1:b=x.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=x.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=x.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=x.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=x.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?x.createElement(y,{is:f.is}):x.createElement(y)}}b[Ht]=a,b[Yt]=f;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)b.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=b;t:switch(Ln(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&dr(a)}}return ke(a),jm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&dr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(s=yt.current,Wo(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,y=Dn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[Ht]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||TA(s.nodeValue,u)),s||Hr(a,!0)}else s=_d(s).createTextNode(f),s[Ht]=a,a.stateNode=s}return ke(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(f=Wo(a),u!==null){if(s===null){if(!f)throw Error(n(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Ht]=a}else Va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ke(a),s=!1}else u=Kp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(xi(a),a):(xi(a),null);if((a.flags&128)!==0)throw Error(n(558))}return ke(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Wo(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Ht]=a}else Va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ke(a),y=!1}else y=Kp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(xi(a),a):(xi(a),null)}return xi(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,s=s!==null&&s.memoizedState!==null,u&&(f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),rd(a,a.updateQueue),ke(a),null);case 4:return Pt(),s===null&&lg(a.stateNode.containerInfo),ke(a),null;case 10:return lr(a.type),ke(a),null;case 19:if(j(nn),f=a.memoizedState,f===null)return ke(a),null;if(y=(a.flags&128)!==0,b=f.rendering,b===null)if(y)Bc(f,!1);else{if(Ze!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=$h(s),b!==null){for(a.flags|=128,Bc(f,!1),s=b.updateQueue,a.updateQueue=s,rd(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)i_(u,s),u=u.sibling;return Z(nn,nn.current&1|2),se&&ar(a,f.treeForkCount),a.child}s=s.sibling}f.tail!==null&&Ae()>ud&&(a.flags|=128,y=!0,Bc(f,!1),a.lanes=4194304)}else{if(!y)if(s=$h(b),s!==null){if(a.flags|=128,y=!0,s=s.updateQueue,a.updateQueue=s,rd(a,s),Bc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!se)return ke(a),null}else 2*Ae()-f.renderingStartTime>ud&&u!==536870912&&(a.flags|=128,y=!0,Bc(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(s=f.last,s!==null?s.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ae(),s.sibling=null,u=nn.current,Z(nn,y?u&1|2:u&1),se&&ar(a,f.treeForkCount),s):(ke(a),null);case 22:case 23:return xi(a),cm(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(ke(a),a.subtreeFlags&6&&(a.flags|=8192)):ke(a),u=a.updateQueue,u!==null&&rd(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&j(Ga),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),lr(un),ke(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function QR(s,a){switch(qp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return lr(un),Pt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Rt(a),null;case 31:if(a.memoizedState!==null){if(xi(a),a.alternate===null)throw Error(n(340));Va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(xi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Va()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return j(nn),null;case 4:return Pt(),null;case 10:return lr(a.type),null;case 22:case 23:return xi(a),cm(),s!==null&&j(Ga),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return lr(un),null;case 25:return null;default:return null}}function RS(s,a){switch(qp(a),a.tag){case 3:lr(un),Pt();break;case 26:case 27:case 5:Rt(a);break;case 4:Pt();break;case 31:a.memoizedState!==null&&xi(a);break;case 13:xi(a);break;case 19:j(nn);break;case 10:lr(a.type);break;case 22:case 23:xi(a),cm(),s!==null&&j(Ga);break;case 24:lr(un)}}function Fc(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var b=u.create,x=u.inst;f=b(),x.destroy=f}u=u.next}while(u!==y)}}catch(M){me(a,a.return,M)}}function Kr(s,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&s)===s){var x=f.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,y=a;var I=u,Q=M;try{Q()}catch(rt){me(y,I,rt)}}}f=f.next}while(f!==b)}}catch(rt){me(a,a.return,rt)}}function OS(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{S_(a,u)}catch(f){me(s,s.return,f)}}}function LS(s,a,u){u.props=Wa(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){me(s,a,f)}}function Ic(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){me(s,a,y)}}function Ls(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){me(s,a,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){me(s,a,y)}else u.current=null}function kS(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){me(s,s.return,y)}}function Vm(s,a,u){try{var f=s.stateNode;b2(f,s.type,u,a),f[Yt]=a}catch(y){me(s,s.return,y)}}function PS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ia(s.type)||s.tag===4}function Um(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||PS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ia(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hm(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ir));else if(f!==4&&(f===27&&ia(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Hm(s,a,u),s=s.sibling;s!==null;)Hm(s,a,u),s=s.sibling}function ad(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&ia(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(ad(s,a,u),s=s.sibling;s!==null;)ad(s,a,u),s=s.sibling}function NS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ln(a,f,u),a[Ht]=s,a[Yt]=u}catch(b){me(s,s.return,b)}}var fr=!1,fn=!1,Gm=!1,BS=typeof WeakSet=="function"?WeakSet:Set,wn=null;function ZR(s,a){if(s=s.containerInfo,hg=Cd,s=qb(s),Fp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var x=0,M=-1,I=-1,Q=0,rt=0,ut=s,J=null;e:for(;;){for(var tt;ut!==u||y!==0&&ut.nodeType!==3||(M=x+y),ut!==b||f!==0&&ut.nodeType!==3||(I=x+f),ut.nodeType===3&&(x+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)J=ut,ut=tt;for(;;){if(ut===s)break e;if(J===u&&++Q===y&&(M=x),J===b&&++rt===f&&(I=x),(tt=ut.nextSibling)!==null)break;ut=J,J=ut.parentNode}ut=tt}u=M===-1||I===-1?null:{start:M,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(dg={focusedElem:s,selectionRange:u},Cd=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var xt=Wa(u.type,y);s=f.getSnapshotBeforeUpdate(xt,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Nt){me(u,u.return,Nt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)mg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}}function FS(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:mr(s,u),f&4&&Fc(5,u);break;case 1:if(mr(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(x){me(u,u.return,x)}else{var y=Wa(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(y,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){me(u,u.return,x)}}f&64&&OS(u),f&512&&Ic(u,u.return);break;case 3:if(mr(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{S_(s,a)}catch(x){me(u,u.return,x)}}break;case 27:a===null&&f&4&&NS(u);case 26:case 5:mr(s,u),a===null&&f&4&&kS(u),f&512&&Ic(u,u.return);break;case 12:mr(s,u);break;case 31:mr(s,u),f&4&&jS(s,u);break;case 13:mr(s,u),f&4&&VS(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=o2.bind(null,u),C2(s,u))));break;case 22:if(f=u.memoizedState!==null||fr,!f){a=a!==null&&a.memoizedState!==null||fn,y=fr;var b=fn;fr=f,(fn=a)&&!b?gr(s,u,(u.subtreeFlags&8772)!==0):mr(s,u),fr=y,fn=b}break;case 30:break;default:mr(s,u)}}function IS(s){var a=s.alternate;a!==null&&(s.alternate=null,IS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Bo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Be=null,ai=!1;function pr(s,a,u){for(u=u.child;u!==null;)zS(s,a,u),u=u.sibling}function zS(s,a,u){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Wn,u)}catch{}switch(u.tag){case 26:fn||Ls(u,a),pr(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fn||Ls(u,a);var f=Be,y=ai;ia(u.type)&&(Be=u.stateNode,ai=!1),pr(s,a,u),Yc(u.stateNode),Be=f,ai=y;break;case 5:fn||Ls(u,a);case 6:if(f=Be,y=ai,Be=null,pr(s,a,u),Be=f,ai=y,Be!==null)if(ai)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(u.stateNode)}catch(b){me(u,a,b)}else try{Be.removeChild(u.stateNode)}catch(b){me(u,a,b)}break;case 18:Be!==null&&(ai?(s=Be,OA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),gl(s)):OA(Be,u.stateNode));break;case 4:f=Be,y=ai,Be=u.stateNode.containerInfo,ai=!0,pr(s,a,u),Be=f,ai=y;break;case 0:case 11:case 14:case 15:Kr(2,u,a),fn||Kr(4,u,a),pr(s,a,u);break;case 1:fn||(Ls(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&LS(u,a,f)),pr(s,a,u);break;case 21:pr(s,a,u);break;case 22:fn=(f=fn)||u.memoizedState!==null,pr(s,a,u),fn=f;break;default:pr(s,a,u)}}function jS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{gl(s)}catch(u){me(a,a.return,u)}}}function VS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gl(s)}catch(u){me(a,a.return,u)}}function JR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new BS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new BS),a;default:throw Error(n(435,s.tag))}}function od(s,a){var u=JR(s);a.forEach(function(f){if(!u.has(f)){u.add(f);var y=l2.bind(null,s,f);f.then(y,y)}})}function oi(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=s,x=a,M=x;t:for(;M!==null;){switch(M.tag){case 27:if(ia(M.type)){Be=M.stateNode,ai=!1;break t}break;case 5:Be=M.stateNode,ai=!1;break t;case 3:case 4:Be=M.stateNode.containerInfo,ai=!0;break t}M=M.return}if(Be===null)throw Error(n(160));zS(b,x,y),Be=null,ai=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)US(a,s),a=a.sibling}var ys=null;function US(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:oi(a,s),li(s),f&4&&(Kr(3,s,s.return),Fc(3,s),Kr(5,s,s.return));break;case 1:oi(a,s),li(s),f&512&&(fn||u===null||Ls(u,u.return)),f&64&&fr&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=ys;if(oi(a,s),li(s),f&512&&(fn||u===null||Ls(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){t:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ir]||b[Ht]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ln(b,f,u),b[Ht]=s,Ke(b),f=b;break t;case"link":var x=UA("link","href",y).get(f+(u.href||""));if(x){for(var M=0;M<x.length;M++)if(b=x[M],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(M,1);break e}}b=y.createElement(f),Ln(b,f,u),y.head.appendChild(b);break;case"meta":if(x=UA("meta","content",y).get(f+(u.content||""))){for(M=0;M<x.length;M++)if(b=x[M],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(M,1);break e}}b=y.createElement(f),Ln(b,f,u),y.head.appendChild(b);break;default:throw Error(n(468,f))}b[Ht]=s,Ke(b),f=b}s.stateNode=f}else HA(y,s.type,s.stateNode);else s.stateNode=VA(y,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?HA(y,s.type,s.stateNode):VA(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Vm(s,s.memoizedProps,u.memoizedProps)}break;case 27:oi(a,s),li(s),f&512&&(fn||u===null||Ls(u,u.return)),u!==null&&f&4&&Vm(s,s.memoizedProps,u.memoizedProps);break;case 5:if(oi(a,s),li(s),f&512&&(fn||u===null||Ls(u,u.return)),s.flags&32){y=s.stateNode;try{zo(y,"")}catch(xt){me(s,s.return,xt)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,Vm(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Gm=!0);break;case 6:if(oi(a,s),li(s),f&4){if(s.stateNode===null)throw Error(n(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(xt){me(s,s.return,xt)}}break;case 3:if(wd=null,y=ys,ys=Sd(a.containerInfo),oi(a,s),ys=y,li(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{gl(a.containerInfo)}catch(xt){me(s,s.return,xt)}Gm&&(Gm=!1,HS(s));break;case 4:f=ys,ys=Sd(s.stateNode.containerInfo),oi(a,s),li(s),ys=f;break;case 12:oi(a,s),li(s);break;case 31:oi(a,s),li(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,od(s,f)));break;case 13:oi(a,s),li(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cd=Ae()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,od(s,f)));break;case 22:y=s.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,Q=fr,rt=fn;if(fr=Q||y,fn=rt||I,oi(a,s),fn=rt,fr=Q,li(s),f&8192)t:for(a=s.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||I||fr||fn||Ka(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){I=u=a;try{if(b=I.stateNode,y)x=b.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=I.stateNode;var ut=I.memoizedProps.style,J=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;M.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xt){me(I,I.return,xt)}}}else if(a.tag===6){if(u===null){I=a;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(xt){me(I,I.return,xt)}}}else if(a.tag===18){if(u===null){I=a;try{var tt=I.stateNode;y?LA(tt,!0):LA(I.stateNode,!1)}catch(xt){me(I,I.return,xt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,od(s,u))));break;case 19:oi(a,s),li(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,od(s,f)));break;case 30:break;case 21:break;default:oi(a,s),li(s)}}function li(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(PS(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,b=Um(s);ad(s,b,y);break;case 5:var x=u.stateNode;u.flags&32&&(zo(x,""),u.flags&=-33);var M=Um(s);ad(s,M,x);break;case 3:case 4:var I=u.stateNode.containerInfo,Q=Um(s);Hm(s,Q,I);break;default:throw Error(n(161))}}catch(rt){me(s,s.return,rt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;HS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function mr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)FS(s,a.alternate,a),a=a.sibling}function Ka(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Kr(4,a,a.return),Ka(a);break;case 1:Ls(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&LS(a,a.return,u),Ka(a);break;case 27:Yc(a.stateNode);case 26:case 5:Ls(a,a.return),Ka(a);break;case 22:a.memoizedState===null&&Ka(a);break;case 30:Ka(a);break;default:Ka(a)}s=s.sibling}}function gr(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=s,b=a,x=b.flags;switch(b.tag){case 0:case 11:case 15:gr(y,b,u),Fc(4,b);break;case 1:if(gr(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){me(f,f.return,Q)}if(f=b,y=f.updateQueue,y!==null){var M=f.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)__(I[y],M)}catch(Q){me(f,f.return,Q)}}u&&x&64&&OS(b),Ic(b,b.return);break;case 27:NS(b);case 26:case 5:gr(y,b,u),u&&f===null&&x&4&&kS(b),Ic(b,b.return);break;case 12:gr(y,b,u);break;case 31:gr(y,b,u),u&&x&4&&jS(y,b);break;case 13:gr(y,b,u),u&&x&4&&VS(y,b);break;case 22:b.memoizedState===null&&gr(y,b,u),Ic(b,b.return);break;case 30:break;default:gr(y,b,u)}a=a.sibling}}function Xm(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&xc(u))}function $m(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s))}function vs(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)GS(s,a,u,f),a=a.sibling}function GS(s,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:vs(s,a,u,f),y&2048&&Fc(9,a);break;case 1:vs(s,a,u,f);break;case 3:vs(s,a,u,f),y&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s)));break;case 12:if(y&2048){vs(s,a,u,f),s=a.stateNode;try{var b=a.memoizedProps,x=b.id,M=b.onPostCommit;typeof M=="function"&&M(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){me(a,a.return,I)}}else vs(s,a,u,f);break;case 31:vs(s,a,u,f);break;case 13:vs(s,a,u,f);break;case 23:break;case 22:b=a.stateNode,x=a.alternate,a.memoizedState!==null?b._visibility&2?vs(s,a,u,f):zc(s,a):b._visibility&2?vs(s,a,u,f):(b._visibility|=2,rl(s,a,u,f,(a.subtreeFlags&10256)!==0||!1)),y&2048&&Xm(x,a);break;case 24:vs(s,a,u,f),y&2048&&$m(a.alternate,a);break;default:vs(s,a,u,f)}}function rl(s,a,u,f,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,x=a,M=u,I=f,Q=x.flags;switch(x.tag){case 0:case 11:case 15:rl(b,x,M,I,y),Fc(8,x);break;case 23:break;case 22:var rt=x.stateNode;x.memoizedState!==null?rt._visibility&2?rl(b,x,M,I,y):zc(b,x):(rt._visibility|=2,rl(b,x,M,I,y)),y&&Q&2048&&Xm(x.alternate,x);break;case 24:rl(b,x,M,I,y),y&&Q&2048&&$m(x.alternate,x);break;default:rl(b,x,M,I,y)}a=a.sibling}}function zc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,y=f.flags;switch(f.tag){case 22:zc(u,f),y&2048&&Xm(f.alternate,f);break;case 24:zc(u,f),y&2048&&$m(f.alternate,f);break;default:zc(u,f)}a=a.sibling}}var jc=8192;function al(s,a,u){if(s.subtreeFlags&jc)for(s=s.child;s!==null;)XS(s,a,u),s=s.sibling}function XS(s,a,u){switch(s.tag){case 26:al(s,a,u),s.flags&jc&&s.memoizedState!==null&&z2(u,ys,s.memoizedState,s.memoizedProps);break;case 5:al(s,a,u);break;case 3:case 4:var f=ys;ys=Sd(s.stateNode.containerInfo),al(s,a,u),ys=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=jc,jc=16777216,al(s,a,u),jc=f):al(s,a,u));break;default:al(s,a,u)}}function $S(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Vc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];wn=f,qS(f,s)}$S(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)YS(s),s=s.sibling}function YS(s){switch(s.tag){case 0:case 11:case 15:Vc(s),s.flags&2048&&Kr(9,s,s.return);break;case 3:Vc(s);break;case 12:Vc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ld(s)):Vc(s);break;default:Vc(s)}}function ld(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];wn=f,qS(f,s)}$S(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Kr(8,a,a.return),ld(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ld(a));break;default:ld(a)}s=s.sibling}}function qS(s,a){for(;wn!==null;){var u=wn;switch(u.tag){case 0:case 11:case 15:Kr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:xc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,wn=f;else t:for(u=s;wn!==null;){f=wn;var y=f.sibling,b=f.return;if(IS(f),f===u){wn=null;break t}if(y!==null){y.return=b,wn=y;break t}wn=b}}}var t2={getCacheForType:function(s){var a=Rn(un),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return Rn(un).controller.signal}},e2=typeof WeakMap=="function"?WeakMap:Map,fe=0,we=null,Kt=null,Jt=0,pe=0,Ti=null,Qr=!1,ol=!1,Ym=!1,yr=0,Ze=0,Zr=0,Qa=0,qm=0,Ei=0,ll=0,Uc=null,ci=null,Wm=!1,cd=0,WS=0,ud=1/0,hd=null,Jr=null,bn=0,ta=null,cl=null,vr=0,Km=0,Qm=null,KS=null,Hc=0,Zm=null;function Ci(){return(fe&2)!==0&&Jt!==0?Jt&-Jt:O.T!==null?sg():Bt()}function QS(){if(Ei===0)if((Jt&536870912)===0||se){var s=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),Ei=s}else Ei=536870912;return s=wi.current,s!==null&&(s.flags|=32),Ei}function ui(s,a,u){(s===we&&(pe===2||pe===9)||s.cancelPendingCommit!==null)&&(ul(s,0),ea(s,Jt,Ei,!1)),nt(s,u),((fe&2)===0||s!==we)&&(s===we&&((fe&2)===0&&(Qa|=u),Ze===4&&ea(s,Jt,Ei,!1)),ks(s))}function ZS(s,a,u){if((fe&6)!==0)throw Error(n(327));var f=!u&&(a&127)===0&&(a&s.expiredLanes)===0||wt(s,a),y=f?s2(s,a):tg(s,a,!0),b=f;do{if(y===0){ol&&!f&&ea(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!n2(u)){y=tg(s,a,!1),b=!1;continue}if(y===2){if(b=a,s.errorRecoveryDisabledLanes&b)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var M=s;y=Uc;var I=M.current.memoizedState.isDehydrated;if(I&&(ul(M,x).flags|=256),x=tg(M,x,!1),x!==2){if(Ym&&!I){M.errorRecoveryDisabledLanes|=b,Qa|=b,y=4;break t}b=ci,ci=y,b!==null&&(ci===null?ci=b:ci.push.apply(ci,b))}y=x}if(b=!1,y!==2)continue}}if(y===1){ul(s,0),ea(s,a,0,!0);break}t:{switch(f=s,b=y,b){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:ea(f,a,Ei,!Qr);break t;case 2:ci=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(y=cd+300-Ae(),10<y)){if(ea(f,a,Ei,!Qr),_i(f,0,!0)!==0)break t;vr=a,f.timeoutHandle=DA(JS.bind(null,f,u,ci,hd,Wm,a,Ei,Qa,ll,Qr,b,"Throttled",-0,0),y);break t}JS(f,u,ci,hd,Wm,a,Ei,Qa,ll,Qr,b,null,-0,0)}}break}while(!0);ks(s)}function JS(s,a,u,f,y,b,x,M,I,Q,rt,ut,J,tt){if(s.timeoutHandle=-1,ut=a.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ir},XS(a,b,ut);var xt=(b&62914560)===b?cd-Ae():(b&4194048)===b?WS-Ae():0;if(xt=j2(ut,xt),xt!==null){vr=b,s.cancelPendingCommit=xt(oA.bind(null,s,a,b,u,f,y,x,M,I,rt,ut,null,J,tt)),ea(s,b,x,!Q);return}}oA(s,a,b,u,f,y,x,M,I)}function n2(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!Si(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ea(s,a,u,f){a&=~qm,a&=~Qa,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var y=a;0<y;){var b=31-le(y),x=1<<b;f[b]=-1,y&=~x}u!==0&&vt(s,u,a)}function dd(){return(fe&6)===0?(Gc(0),!1):!0}function Jm(){if(Kt!==null){if(pe===0)var s=Kt.return;else s=Kt,or=Ua=null,mm(s),tl=null,Ec=0,s=Kt;for(;s!==null;)RS(s.alternate,s),s=s.return;Kt=null}}function ul(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,A2(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),vr=0,Jm(),we=s,Kt=u=rr(s.current,null),Jt=a,pe=0,Ti=null,Qr=!1,ol=wt(s,a),Ym=!1,ll=Ei=qm=Qa=Zr=Ze=0,ci=Uc=null,Wm=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var y=31-le(f),b=1<<y;a|=s[y],f&=~b}return yr=a,kh(),u}function tA(s,a){Gt=null,O.H=Pc,a===Jo||a===Vh?(a=g_(),pe=3):a===im?(a=g_(),pe=4):pe=a===Om?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ti=a,Kt===null&&(Ze=1,ed(s,Yi(a,s.current)))}function eA(){var s=wi.current;return s===null?!0:(Jt&4194048)===Jt?Qi===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?s===Qi:!1}function nA(){var s=O.H;return O.H=Pc,s===null?Pc:s}function iA(){var s=O.A;return O.A=t2,s}function fd(){Ze=4,Qr||(Jt&4194048)!==Jt&&wi.current!==null||(ol=!0),(Zr&134217727)===0&&(Qa&134217727)===0||we===null||ea(we,Jt,Ei,!1)}function tg(s,a,u){var f=fe;fe|=2;var y=nA(),b=iA();(we!==s||Jt!==a)&&(hd=null,ul(s,a)),a=!1;var x=Ze;t:do try{if(pe!==0&&Kt!==null){var M=Kt,I=Ti;switch(pe){case 8:Jm(),x=6;break t;case 3:case 2:case 9:case 6:wi.current===null&&(a=!0);var Q=pe;if(pe=0,Ti=null,hl(s,M,I,Q),u&&ol){x=0;break t}break;default:Q=pe,pe=0,Ti=null,hl(s,M,I,Q)}}i2(),x=Ze;break}catch(rt){tA(s,rt)}while(!0);return a&&s.shellSuspendCounter++,or=Ua=null,fe=f,O.H=y,O.A=b,Kt===null&&(we=null,Jt=0,kh()),x}function i2(){for(;Kt!==null;)sA(Kt)}function s2(s,a){var u=fe;fe|=2;var f=nA(),y=iA();we!==s||Jt!==a?(hd=null,ud=Ae()+500,ul(s,a)):ol=wt(s,a);t:do try{if(pe!==0&&Kt!==null){a=Kt;var b=Ti;e:switch(pe){case 1:pe=0,Ti=null,hl(s,a,b,1);break;case 2:case 9:if(p_(b)){pe=0,Ti=null,rA(a);break}a=function(){pe!==2&&pe!==9||we!==s||(pe=7),ks(s)},b.then(a,a);break t;case 3:pe=7;break t;case 4:pe=5;break t;case 7:p_(b)?(pe=0,Ti=null,rA(a)):(pe=0,Ti=null,hl(s,a,b,7));break;case 5:var x=null;switch(Kt.tag){case 26:x=Kt.memoizedState;case 5:case 27:var M=Kt;if(x?GA(x):M.stateNode.complete){pe=0,Ti=null;var I=M.sibling;if(I!==null)Kt=I;else{var Q=M.return;Q!==null?(Kt=Q,pd(Q)):Kt=null}break e}}pe=0,Ti=null,hl(s,a,b,5);break;case 6:pe=0,Ti=null,hl(s,a,b,6);break;case 8:Jm(),Ze=6;break t;default:throw Error(n(462))}}r2();break}catch(rt){tA(s,rt)}while(!0);return or=Ua=null,O.H=f,O.A=y,fe=u,Kt!==null?0:(we=null,Jt=0,kh(),Ze)}function r2(){for(;Kt!==null&&!Se();)sA(Kt)}function sA(s){var a=MS(s.alternate,s,yr);s.memoizedProps=s.pendingProps,a===null?pd(s):Kt=a}function rA(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=AS(u,a,a.pendingProps,a.type,void 0,Jt);break;case 11:a=AS(u,a,a.pendingProps,a.type.render,a.ref,Jt);break;case 5:mm(a);default:RS(u,a),a=Kt=i_(a,yr),a=MS(u,a,yr)}s.memoizedProps=s.pendingProps,a===null?pd(s):Kt=a}function hl(s,a,u,f){or=Ua=null,mm(a),tl=null,Ec=0;var y=a.return;try{if(YR(s,y,a,u,Jt)){Ze=1,ed(s,Yi(u,s.current)),Kt=null;return}}catch(b){if(y!==null)throw Kt=y,b;Ze=1,ed(s,Yi(u,s.current)),Kt=null;return}a.flags&32768?(se||f===1?s=!0:ol||(Jt&536870912)!==0?s=!1:(Qr=s=!0,(f===2||f===9||f===3||f===6)&&(f=wi.current,f!==null&&f.tag===13&&(f.flags|=16384))),aA(a,s)):pd(a)}function pd(s){var a=s;do{if((a.flags&32768)!==0){aA(a,Qr);return}s=a.return;var u=KR(a.alternate,a,yr);if(u!==null){Kt=u;return}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=s}while(a!==null);Ze===0&&(Ze=5)}function aA(s,a){do{var u=QR(s.alternate,s);if(u!==null){u.flags&=32767,Kt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Kt=s;return}Kt=s=u}while(s!==null);Ze=6,Kt=null}function oA(s,a,u,f,y,b,x,M,I){s.cancelPendingCommit=null;do md();while(bn!==0);if((fe&6)!==0)throw Error(n(327));if(a!==null){if(a===s.current)throw Error(n(177));if(b=a.lanes|a.childLanes,b|=Up,pt(s,u,b,x,M,I),s===we&&(Kt=we=null,Jt=0),cl=a,ta=s,vr=u,Km=b,Qm=y,KS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c2(Oe,function(){return dA(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=O.T,O.T=null,y=N.p,N.p=2,x=fe,fe|=4;try{ZR(s,a,u)}finally{fe=x,N.p=y,O.T=f}}bn=1,lA(),cA(),uA()}}function lA(){if(bn===1){bn=0;var s=ta,a=cl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=O.T,O.T=null;var f=N.p;N.p=2;var y=fe;fe|=4;try{US(a,s);var b=dg,x=qb(s.containerInfo),M=b.focusedElem,I=b.selectionRange;if(x!==M&&M&&M.ownerDocument&&Yb(M.ownerDocument.documentElement,M)){if(I!==null&&Fp(M)){var Q=I.start,rt=I.end;if(rt===void 0&&(rt=Q),"selectionStart"in M)M.selectionStart=Q,M.selectionEnd=Math.min(rt,M.value.length);else{var ut=M.ownerDocument||document,J=ut&&ut.defaultView||window;if(J.getSelection){var tt=J.getSelection(),xt=M.textContent.length,Nt=Math.min(I.start,xt),be=I.end===void 0?Nt:Math.min(I.end,xt);!tt.extend&&Nt>be&&(x=be,be=Nt,Nt=x);var Y=$b(M,Nt),G=$b(M,be);if(Y&&G&&(tt.rangeCount!==1||tt.anchorNode!==Y.node||tt.anchorOffset!==Y.offset||tt.focusNode!==G.node||tt.focusOffset!==G.offset)){var K=ut.createRange();K.setStart(Y.node,Y.offset),tt.removeAllRanges(),Nt>be?(tt.addRange(K),tt.extend(G.node,G.offset)):(K.setEnd(G.node,G.offset),tt.addRange(K))}}}}for(ut=[],tt=M;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ut.length;M++){var lt=ut[M];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Cd=!!hg,dg=hg=null}finally{fe=y,N.p=f,O.T=u}}s.current=a,bn=2}}function cA(){if(bn===2){bn=0;var s=ta,a=cl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=O.T,O.T=null;var f=N.p;N.p=2;var y=fe;fe|=4;try{FS(s,a.alternate,a)}finally{fe=y,N.p=f,O.T=u}}bn=3}}function uA(){if(bn===4||bn===3){bn=0,fs();var s=ta,a=cl,u=vr,f=KS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,cl=ta=null,hA(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Jr=null),_t(u),a=a.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Wn,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=O.T,y=N.p,N.p=2,O.T=null;try{for(var b=s.onRecoverableError,x=0;x<f.length;x++){var M=f[x];b(M.value,{componentStack:M.stack})}}finally{O.T=a,N.p=y}}(vr&3)!==0&&md(),ks(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===Zm?Hc++:(Hc=0,Zm=s):Hc=0,Gc(0)}}function hA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,xc(a)))}function md(){return lA(),cA(),uA(),dA()}function dA(){if(bn!==5)return!1;var s=ta,a=Km;Km=0;var u=_t(vr),f=O.T,y=N.p;try{N.p=32>u?32:u,O.T=null,u=Qm,Qm=null;var b=ta,x=vr;if(bn=0,cl=ta=null,vr=0,(fe&6)!==0)throw Error(n(331));var M=fe;if(fe|=4,YS(b.current),GS(b,b.current,x,u),fe=M,Gc(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Wn,b)}catch{}return!0}finally{N.p=y,O.T=f,hA(s,a)}}function fA(s,a,u){a=Yi(u,a),a=Rm(s.stateNode,a,2),s=Yr(s,a,2),s!==null&&(nt(s,2),ks(s))}function me(s,a,u){if(s.tag===3)fA(s,s,u);else for(;a!==null;){if(a.tag===3){fA(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Jr===null||!Jr.has(f))){s=Yi(u,s),u=pS(2),f=Yr(a,u,2),f!==null&&(mS(u,f,a,s),nt(f,2),ks(f));break}}a=a.return}}function eg(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new e2;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(Ym=!0,y.add(u),s=a2.bind(null,s,a,u),a.then(s,s))}function a2(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,we===s&&(Jt&u)===u&&(Ze===4||Ze===3&&(Jt&62914560)===Jt&&300>Ae()-cd?(fe&2)===0&&ul(s,0):qm|=u,ll===Jt&&(ll=0)),ks(s)}function pA(s,a){a===0&&(a=ot()),s=za(s,a),s!==null&&(nt(s,a),ks(s))}function o2(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),pA(s,u)}function l2(s,a){var u=0;switch(s.tag){case 31:case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(a),pA(s,u)}function c2(s,a){return cn(s,a)}var gd=null,dl=null,ng=!1,yd=!1,ig=!1,na=0;function ks(s){s!==dl&&s.next===null&&(dl===null?gd=dl=s:dl=dl.next=s),yd=!0,ng||(ng=!0,h2())}function Gc(s,a){if(!ig&&yd){ig=!0;do for(var u=!1,f=gd;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var x=f.suspendedLanes,M=f.pingedLanes;b=(1<<31-le(42|s)+1)-1,b&=y&~(x&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,vA(f,b))}else b=Jt,b=_i(f,f===we?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||wt(f,b)||(u=!0,vA(f,b));f=f.next}while(u);ig=!1}}function u2(){mA()}function mA(){yd=ng=!1;var s=0;na!==0&&S2()&&(s=na);for(var a=Ae(),u=null,f=gd;f!==null;){var y=f.next,b=gA(f,a);b===0?(f.next=null,u===null?gd=y:u.next=y,y===null&&(dl=u)):(u=f,(s!==0||(b&3)!==0)&&(yd=!0)),f=y}bn!==0&&bn!==5||Gc(s),na!==0&&(na=0)}function gA(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var x=31-le(b),M=1<<x,I=y[x];I===-1?((M&u)===0||(M&f)!==0)&&(y[x]=V(M,a)):I<=a&&(s.expiredLanes|=M),b&=~M}if(a=we,u=Jt,u=_i(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(pe===2||pe===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&he(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||wt(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&he(f),_t(u)){case 2:case 8:u=An;break;case 32:u=Oe;break;case 268435456:u=je;break;default:u=Oe}return f=yA.bind(null,s),u=cn(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&he(f),s.callbackPriority=2,s.callbackNode=null,2}function yA(s,a){if(bn!==0&&bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(md()&&s.callbackNode!==u)return null;var f=Jt;return f=_i(s,s===we?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(ZS(s,f,a),gA(s,Ae()),s.callbackNode!=null&&s.callbackNode===u?yA.bind(null,s):null)}function vA(s,a){if(md())return null;ZS(s,a,!0)}function h2(){w2(function(){(fe&6)!==0?cn(en,u2):mA()})}function sg(){if(na===0){var s=Qo;s===0&&(s=jn,jn<<=1,(jn&261888)===0&&(jn=256)),na=s}return na}function bA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Th(""+s)}function _A(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function d2(s,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var b=bA((y[Yt]||null).action),x=f.submitter;x&&(a=(a=x[Yt]||null)?bA(a.formAction):x.getAttribute("formAction"),a!==null&&(b=a,x=null));var M=new Dh("action","action",null,f,y);s.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(na!==0){var I=x?_A(y,x):new FormData(y);xm(u,{pending:!0,data:I,method:y.method,action:b},null,I)}}else typeof b=="function"&&(M.preventDefault(),I=x?_A(y,x):new FormData(y),xm(u,{pending:!0,data:I,method:y.method,action:b},b,I))},currentTarget:y}]})}}for(var rg=0;rg<Vp.length;rg++){var ag=Vp[rg],f2=ag.toLowerCase(),p2=ag[0].toUpperCase()+ag.slice(1);gs(f2,"on"+p2)}gs(Qb,"onAnimationEnd"),gs(Zb,"onAnimationIteration"),gs(Jb,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(RR,"onTransitionRun"),gs(OR,"onTransitionStart"),gs(LR,"onTransitionCancel"),gs(t_,"onTransitionEnd"),Fo("onMouseEnter",["mouseout","mouseover"]),Fo("onMouseLeave",["mouseout","mouseover"]),Fo("onPointerEnter",["pointerout","pointerover"]),Fo("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function SA(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;t:{var b=void 0;if(a)for(var x=f.length-1;0<=x;x--){var M=f[x],I=M.instance,Q=M.currentTarget;if(M=M.listener,I!==b&&y.isPropagationStopped())break t;b=M,y.currentTarget=Q;try{b(y)}catch(rt){Lh(rt)}y.currentTarget=null,b=I}else for(x=0;x<f.length;x++){if(M=f[x],I=M.instance,Q=M.currentTarget,M=M.listener,I!==b&&y.isPropagationStopped())break t;b=M,y.currentTarget=Q;try{b(y)}catch(rt){Lh(rt)}y.currentTarget=null,b=I}}}}function Qt(s,a){var u=a[ge];u===void 0&&(u=a[ge]=new Set);var f=s+"__bubble";u.has(f)||(AA(a,s,2,!1),u.add(f))}function og(s,a,u){var f=0;a&&(f|=4),AA(u,s,f,a)}var vd="_reactListening"+Math.random().toString(36).slice(2);function lg(s){if(!s[vd]){s[vd]=!0,zr.forEach(function(u){u!=="selectionchange"&&(m2.has(u)||og(u,!1,s),og(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[vd]||(a[vd]=!0,og("selectionchange",!1,a))}}function AA(s,a,u,f){switch(QA(a)){case 2:var y=H2;break;case 8:y=G2;break;default:y=wg}u=y.bind(null,a,u,s),y=void 0,!Mp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function cg(s,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)t:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var M=f.stateNode.containerInfo;if(M===y)break;if(x===4)for(x=f.return;x!==null;){var I=x.tag;if((I===3||I===4)&&x.stateNode.containerInfo===y)return;x=x.return}for(;M!==null;){if(x=tr(M),x===null)return;if(I=x.tag,I===5||I===6||I===26||I===27){f=b=x;continue t}M=M.parentNode}}f=f.return}Cb(function(){var Q=b,rt=Ep(u),ut=[];t:{var J=e_.get(s);if(J!==void 0){var tt=Dh,xt=s;switch(s){case"keypress":if(Ch(u)===0)break t;case"keydown":case"keyup":tt=lR;break;case"focusin":xt="focus",tt=Lp;break;case"focusout":xt="blur",tt=Lp;break;case"beforeblur":case"afterblur":tt=Lp;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=KD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=hR;break;case Qb:case Zb:case Jb:tt=JD;break;case t_:tt=fR;break;case"scroll":case"scrollend":tt=qD;break;case"wheel":tt=mR;break;case"copy":case"cut":case"paste":tt=eR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Lb;break;case"toggle":case"beforetoggle":tt=yR}var Nt=(a&4)!==0,be=!Nt&&(s==="scroll"||s==="scrollend"),Y=Nt?J!==null?J+"Capture":null:J;Nt=[];for(var G=Q,K;G!==null;){var lt=G;if(K=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||K===null||Y===null||(lt=fc(G,Y),lt!=null&&Nt.push($c(G,lt,K))),be)break;G=G.return}0<Nt.length&&(J=new tt(J,xt,null,u,rt),ut.push({event:J,listeners:Nt}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",J&&u!==Tp&&(xt=u.relatedTarget||u.fromElement)&&(tr(xt)||xt[qt]))break t;if((tt||J)&&(J=rt.window===rt?rt:(J=rt.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(xt=u.relatedTarget||u.toElement,tt=Q,xt=xt?tr(xt):null,xt!==null&&(be=o(xt),Nt=xt.tag,xt!==be||Nt!==5&&Nt!==27&&Nt!==6)&&(xt=null)):(tt=null,xt=Q),tt!==xt)){if(Nt=Rb,lt="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Nt=Lb,lt="onPointerLeave",Y="onPointerEnter",G="pointer"),be=tt==null?J:ie(tt),K=xt==null?J:ie(xt),J=new Nt(lt,G+"leave",tt,u,rt),J.target=be,J.relatedTarget=K,lt=null,tr(rt)===Q&&(Nt=new Nt(Y,G+"enter",xt,u,rt),Nt.target=K,Nt.relatedTarget=be,lt=Nt),be=lt,tt&&xt)e:{for(Nt=g2,Y=tt,G=xt,K=0,lt=Y;lt;lt=Nt(lt))K++;lt=0;for(var Ot=G;Ot;Ot=Nt(Ot))lt++;for(;0<K-lt;)Y=Nt(Y),K--;for(;0<lt-K;)G=Nt(G),lt--;for(;K--;){if(Y===G||G!==null&&Y===G.alternate){Nt=Y;break e}Y=Nt(Y),G=Nt(G)}Nt=null}else Nt=null;tt!==null&&wA(ut,J,tt,Nt,!1),xt!==null&&be!==null&&wA(ut,be,xt,Nt,!0)}}t:{if(J=Q?ie(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var ce=jb;else if(Ib(J))if(Vb)ce=CR;else{ce=TR;var Et=xR}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&xp(Q.elementType)&&(ce=jb):ce=ER;if(ce&&(ce=ce(s,Q))){zb(ut,ce,u,rt);break t}Et&&Et(s,J,Q),s==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&wp(J,"number",J.value)}switch(Et=Q?ie(Q):window,s){case"focusin":(Ib(Et)||Et.contentEditable==="true")&&(Ho=Et,Ip=Q,Sc=null);break;case"focusout":Sc=Ip=Ho=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,Wb(ut,u,rt);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":Wb(ut,u,rt)}var Xt;if(Pp)t:{switch(s){case"compositionstart":var te="onCompositionStart";break t;case"compositionend":te="onCompositionEnd";break t;case"compositionupdate":te="onCompositionUpdate";break t}te=void 0}else Uo?Bb(s,u)&&(te="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(te="onCompositionStart");te&&(kb&&u.locale!=="ko"&&(Uo||te!=="onCompositionStart"?te==="onCompositionEnd"&&Uo&&(Xt=Mb()):(jr=rt,Dp="value"in jr?jr.value:jr.textContent,Uo=!0)),Et=bd(Q,te),0<Et.length&&(te=new Ob(te,s,null,u,rt),ut.push({event:te,listeners:Et}),Xt?te.data=Xt:(Xt=Fb(u),Xt!==null&&(te.data=Xt)))),(Xt=bR?_R(s,u):SR(s,u))&&(te=bd(Q,"onBeforeInput"),0<te.length&&(Et=new Ob("onBeforeInput","beforeinput",null,u,rt),ut.push({event:Et,listeners:te}),Et.data=Xt)),d2(ut,s,Q,u,rt)}SA(ut,a)})}function $c(s,a,u){return{instance:s,listener:a,currentTarget:u}}function bd(s,a){for(var u=a+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=fc(s,u),y!=null&&f.unshift($c(s,y,b)),y=fc(s,a),y!=null&&f.push($c(s,y,b))),s.tag===3)return f;s=s.return}return[]}function g2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wA(s,a,u,f,y){for(var b=a._reactName,x=[];u!==null&&u!==f;){var M=u,I=M.alternate,Q=M.stateNode;if(M=M.tag,I!==null&&I===f)break;M!==5&&M!==26&&M!==27||Q===null||(I=Q,y?(Q=fc(u,b),Q!=null&&x.unshift($c(u,Q,I))):y||(Q=fc(u,b),Q!=null&&x.push($c(u,Q,I)))),u=u.return}x.length!==0&&s.push({event:a,listeners:x})}var y2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function xA(s){return(typeof s=="string"?s:""+s).replace(y2,`
`).replace(v2,"")}function TA(s,a){return a=xA(a),xA(s)===a}function ve(s,a,u,f,y,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||zo(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&zo(s,""+f);break;case"className":wh(s,"class",f);break;case"tabIndex":wh(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":wh(s,u,f);break;case"style":Tb(s,f,b);break;case"data":if(a!=="object"){wh(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Th(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&ve(s,a,"name",y.name,y,null),ve(s,a,"formEncType",y.formEncType,y,null),ve(s,a,"formMethod",y.formMethod,y,null),ve(s,a,"formTarget",y.formTarget,y,null)):(ve(s,a,"encType",y.encType,y,null),ve(s,a,"method",y.method,y,null),ve(s,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Th(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=ir);break;case"onScroll":f!=null&&Qt("scroll",s);break;case"onScrollEnd":f!=null&&Qt("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Th(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":Qt("beforetoggle",s),Qt("toggle",s),Ah(s,"popover",f);break;case"xlinkActuate":nr(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":nr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":nr(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":nr(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":nr(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":nr(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":nr(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":nr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":nr(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ah(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=$D.get(u)||u,Ah(s,u,f))}}function ug(s,a,u,f,y,b){switch(u){case"style":Tb(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof f=="string"?zo(s,f):(typeof f=="number"||typeof f=="bigint")&&zo(s,""+f);break;case"onScroll":f!=null&&Qt("scroll",s);break;case"onScrollEnd":f!=null&&Qt("scrollend",s);break;case"onClick":f!=null&&(s.onclick=ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sh.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=s[Yt]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,y);break t}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Ah(s,u,f)}}}function Ln(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",s),Qt("load",s);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var x=u[b];if(x!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ve(s,a,b,x,u,null)}}y&&ve(s,a,"srcSet",u.srcSet,u,null),f&&ve(s,a,"src",u.src,u,null);return;case"input":Qt("invalid",s);var M=b=x=y=null,I=null,Q=null;for(f in u)if(u.hasOwnProperty(f)){var rt=u[f];if(rt!=null)switch(f){case"name":y=rt;break;case"type":x=rt;break;case"checked":I=rt;break;case"defaultChecked":Q=rt;break;case"value":b=rt;break;case"defaultValue":M=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,a));break;default:ve(s,a,f,rt,u,null)}}Sb(s,b,M,I,Q,x,y,!1);return;case"select":Qt("invalid",s),f=x=b=null;for(y in u)if(u.hasOwnProperty(y)&&(M=u[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":x=M;break;case"multiple":f=M;default:ve(s,a,y,M,u,null)}a=b,u=x,s.multiple=!!f,a!=null?Io(s,!!f,a,!1):u!=null&&Io(s,!!f,u,!0);return;case"textarea":Qt("invalid",s),b=y=f=null;for(x in u)if(u.hasOwnProperty(x)&&(M=u[x],M!=null))switch(x){case"value":f=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:ve(s,a,x,M,u,null)}wb(s,f,y,b);return;case"option":for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null)&&(I==="selected"?s.selected=f&&typeof f!="function"&&typeof f!="symbol":ve(s,a,I,f,u,null));return;case"dialog":Qt("beforetoggle",s),Qt("toggle",s),Qt("cancel",s),Qt("close",s);break;case"iframe":case"object":Qt("load",s);break;case"video":case"audio":for(f=0;f<Xc.length;f++)Qt(Xc[f],s);break;case"image":Qt("error",s),Qt("load",s);break;case"details":Qt("toggle",s);break;case"embed":case"source":case"link":Qt("error",s),Qt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ve(s,a,Q,f,u,null)}return;default:if(xp(a)){for(rt in u)u.hasOwnProperty(rt)&&(f=u[rt],f!==void 0&&ug(s,a,rt,f,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(f=u[M],f!=null&&ve(s,a,M,f,u,null))}function b2(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,x=null,M=null,I=null,Q=null,rt=null;for(tt in u){var ut=u[tt];if(u.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":I=ut;default:f.hasOwnProperty(tt)||ve(s,a,tt,null,f,ut)}}for(var J in f){var tt=f[J];if(ut=u[J],f.hasOwnProperty(J)&&(tt!=null||ut!=null))switch(J){case"type":b=tt;break;case"name":y=tt;break;case"checked":Q=tt;break;case"defaultChecked":rt=tt;break;case"value":x=tt;break;case"defaultValue":M=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,a));break;default:tt!==ut&&ve(s,a,J,tt,f,ut)}}Ap(s,x,M,I,Q,rt,b,y);return;case"select":tt=x=M=J=null;for(b in u)if(I=u[b],u.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":tt=I;default:f.hasOwnProperty(b)||ve(s,a,b,null,f,I)}for(y in f)if(b=f[y],I=u[y],f.hasOwnProperty(y)&&(b!=null||I!=null))switch(y){case"value":J=b;break;case"defaultValue":M=b;break;case"multiple":x=b;default:b!==I&&ve(s,a,y,b,f,I)}a=M,u=x,f=tt,J!=null?Io(s,!!u,J,!1):!!f!=!!u&&(a!=null?Io(s,!!u,a,!0):Io(s,!!u,u?[]:"",!1));return;case"textarea":tt=J=null;for(M in u)if(y=u[M],u.hasOwnProperty(M)&&y!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ve(s,a,M,null,f,y)}for(x in f)if(y=f[x],b=u[x],f.hasOwnProperty(x)&&(y!=null||b!=null))switch(x){case"value":J=y;break;case"defaultValue":tt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==b&&ve(s,a,x,y,f,b)}Ab(s,J,tt);return;case"option":for(var xt in u)J=u[xt],u.hasOwnProperty(xt)&&J!=null&&!f.hasOwnProperty(xt)&&(xt==="selected"?s.selected=!1:ve(s,a,xt,null,f,J));for(I in f)J=f[I],tt=u[I],f.hasOwnProperty(I)&&J!==tt&&(J!=null||tt!=null)&&(I==="selected"?s.selected=J&&typeof J!="function"&&typeof J!="symbol":ve(s,a,I,J,f,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in u)J=u[Nt],u.hasOwnProperty(Nt)&&J!=null&&!f.hasOwnProperty(Nt)&&ve(s,a,Nt,null,f,J);for(Q in f)if(J=f[Q],tt=u[Q],f.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,a));break;default:ve(s,a,Q,J,f,tt)}return;default:if(xp(a)){for(var be in u)J=u[be],u.hasOwnProperty(be)&&J!==void 0&&!f.hasOwnProperty(be)&&ug(s,a,be,void 0,f,J);for(rt in f)J=f[rt],tt=u[rt],!f.hasOwnProperty(rt)||J===tt||J===void 0&&tt===void 0||ug(s,a,rt,J,f,tt);return}}for(var Y in u)J=u[Y],u.hasOwnProperty(Y)&&J!=null&&!f.hasOwnProperty(Y)&&ve(s,a,Y,null,f,J);for(ut in f)J=f[ut],tt=u[ut],!f.hasOwnProperty(ut)||J===tt||J==null&&tt==null||ve(s,a,ut,J,f,tt)}function EA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,x=y.initiatorType,M=y.duration;if(b&&M&&EA(x)){for(x=0,M=y.responseEnd,f+=1;f<u.length;f++){var I=u[f],Q=I.startTime;if(Q>M)break;var rt=I.transferSize,ut=I.initiatorType;rt&&EA(ut)&&(I=I.responseEnd,x+=rt*(I<M?1:(M-Q)/(I-Q)))}if(--f,a+=8*(b+x)/(y.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var hg=null,dg=null;function _d(s){return s.nodeType===9?s:s.ownerDocument}function CA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function fg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pg=null;function S2(){var s=window.event;return s&&s.type==="popstate"?s===pg?!1:(pg=s,!0):(pg=null,!1)}var DA=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(s){return RA.resolve(null).then(s).catch(x2)}:DA;function x2(s){setTimeout(function(){throw s})}function ia(s){return s==="head"}function OA(s,a){var u=a,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){s.removeChild(y),gl(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Yc(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Yc(u);for(var b=u.firstChild;b;){var x=b.nextSibling,M=b.nodeName;b[Ir]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=x}}else u==="body"&&Yc(s.ownerDocument.body);u=y}while(u);gl(a)}function LA(s,a){var u=s;s=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=f}while(u)}function mg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":mg(u),Bo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function T2(s,a,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Ir])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Zi(s.nextSibling),s===null)break}return null}function E2(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Zi(s.nextSibling),s===null))return null;return s}function kA(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Zi(s.nextSibling),s===null))return null;return s}function gg(s){return s.data==="$?"||s.data==="$~"}function yg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function C2(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Zi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var vg=null;function PA(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return Zi(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function NA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function BA(s,a,u){switch(a=_d(u),s){case"html":if(s=a.documentElement,!s)throw Error(n(452));return s;case"head":if(s=a.head,!s)throw Error(n(453));return s;case"body":if(s=a.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Yc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Bo(s)}var Ji=new Map,FA=new Set;function Sd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var br=N.d;N.d={f:M2,r:D2,D:R2,C:O2,L:L2,m:k2,X:N2,S:P2,M:B2};function M2(){var s=br.f(),a=dd();return s||a}function D2(s){var a=er(s);a!==null&&a.tag===5&&a.type==="form"?tS(a):br.r(s)}var fl=typeof document>"u"?null:document;function IA(s,a,u){var f=fl;if(f&&typeof a=="string"&&a){var y=Xi(a);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),FA.has(y)||(FA.add(y),s={rel:s,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Ln(a,"link",s),Ke(a),f.head.appendChild(a)))}}function R2(s){br.D(s),IA("dns-prefetch",s,null)}function O2(s,a){br.C(s,a),IA("preconnect",s,a)}function L2(s,a,u){br.L(s,a,u);var f=fl;if(f&&s&&a){var y='link[rel="preload"][as="'+Xi(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Xi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Xi(u.imageSizes)+'"]')):y+='[href="'+Xi(s)+'"]';var b=y;switch(a){case"style":b=pl(s);break;case"script":b=ml(s)}Ji.has(b)||(s=m({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Ji.set(b,s),f.querySelector(y)!==null||a==="style"&&f.querySelector(qc(b))||a==="script"&&f.querySelector(Wc(b))||(a=f.createElement("link"),Ln(a,"link",s),Ke(a),f.head.appendChild(a)))}}function k2(s,a){br.m(s,a);var u=fl;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Xi(f)+'"][href="'+Xi(s)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ml(s)}if(!Ji.has(b)&&(s=m({rel:"modulepreload",href:s},a),Ji.set(b,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wc(b)))return}f=u.createElement("link"),Ln(f,"link",s),Ke(f),u.head.appendChild(f)}}}function P2(s,a,u){br.S(s,a,u);var f=fl;if(f&&s){var y=Un(f).hoistableStyles,b=pl(s);a=a||"default";var x=y.get(b);if(!x){var M={loading:0,preload:null};if(x=f.querySelector(qc(b)))M.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Ji.get(b))&&bg(s,u);var I=x=f.createElement("link");Ke(I),Ln(I,"link",s),I._p=new Promise(function(Q,rt){I.onload=Q,I.onerror=rt}),I.addEventListener("load",function(){M.loading|=1}),I.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ad(x,a,f)}x={type:"stylesheet",instance:x,count:1,state:M},y.set(b,x)}}}function N2(s,a){br.X(s,a);var u=fl;if(u&&s){var f=Un(u).hoistableScripts,y=ml(s),b=f.get(y);b||(b=u.querySelector(Wc(y)),b||(s=m({src:s,async:!0},a),(a=Ji.get(y))&&_g(s,a),b=u.createElement("script"),Ke(b),Ln(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function B2(s,a){br.M(s,a);var u=fl;if(u&&s){var f=Un(u).hoistableScripts,y=ml(s),b=f.get(y);b||(b=u.querySelector(Wc(y)),b||(s=m({src:s,async:!0,type:"module"},a),(a=Ji.get(y))&&_g(s,a),b=u.createElement("script"),Ke(b),Ln(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function zA(s,a,u,f){var y=(y=yt.current)?Sd(y):null;if(!y)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=pl(u.href),u=Un(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=pl(u.href);var b=Un(y).hoistableStyles,x=b.get(s);if(x||(y=y.ownerDocument||y,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,x),(b=y.querySelector(qc(s)))&&!b._p&&(x.instance=b,x.state.loading=5),Ji.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ji.set(s,u),b||F2(y,s,u,x.state))),a&&f===null)throw Error(n(528,""));return x}if(a&&f!==null)throw Error(n(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ml(u),u=Un(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function pl(s){return'href="'+Xi(s)+'"'}function qc(s){return'link[rel="stylesheet"]['+s+"]"}function jA(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function F2(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Ln(a,"link",u),Ke(a),s.head.appendChild(a))}function ml(s){return'[src="'+Xi(s)+'"]'}function Wc(s){return"script[async]"+s}function VA(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Xi(u.href)+'"]');if(f)return a.instance=f,Ke(f),f;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ke(f),Ln(f,"style",y),Ad(f,u.precedence,s),a.instance=f;case"stylesheet":y=pl(u.href);var b=s.querySelector(qc(y));if(b)return a.state.loading|=4,a.instance=b,Ke(b),b;f=jA(u),(y=Ji.get(y))&&bg(f,y),b=(s.ownerDocument||s).createElement("link"),Ke(b);var x=b;return x._p=new Promise(function(M,I){x.onload=M,x.onerror=I}),Ln(b,"link",f),a.state.loading|=4,Ad(b,u.precedence,s),a.instance=b;case"script":return b=ml(u.src),(y=s.querySelector(Wc(b)))?(a.instance=y,Ke(y),y):(f=u,(y=Ji.get(b))&&(f=m({},u),_g(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),Ke(y),Ln(y,"link",f),s.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Ad(f,u.precedence,s));return a.instance}function Ad(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,x=0;x<f.length;x++){var M=f[x];if(M.dataset.precedence===a)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function bg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function _g(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var wd=null;function UA(s,a,u){if(wd===null){var f=new Map,y=wd=new Map;y.set(u,f)}else y=wd,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[Ir]||b[Ht]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var x=b.getAttribute(a)||"";x=s+x;var M=f.get(x);M?M.push(b):f.set(x,[b])}}return f}function HA(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function I2(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function GA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function z2(s,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=pl(f.href),b=a.querySelector(qc(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=xd.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=b,Ke(b);return}b=a.ownerDocument||a,f=jA(f),(y=Ji.get(y))&&bg(f,y),b=b.createElement("link"),Ke(b);var x=b;x._p=new Promise(function(M,I){x.onload=M,x.onerror=I}),Ln(b,"link",f),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=xd.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Sg=0;function j2(s,a){return s.stylesheets&&s.count===0&&Ed(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var f=setTimeout(function(){if(s.stylesheets&&Ed(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Sg===0&&(Sg=62500*_2());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ed(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Sg?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Td=null;function Ed(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Td=new Map,a.forEach(V2,s),Td=null,xd.call(s))}function V2(s,a){if(!(a.state.loading&4)){var u=Td.get(s);if(u)var f=u.get(null);else{u=new Map,Td.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var x=y[b];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),f=x)}f&&u.set(null,f)}y=a.instance,x=y.getAttribute("data-precedence"),b=u.get(x)||f,b===f&&u.set(null,y),u.set(x,y),this.count++,f=xd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),a.state.loading|=4}}var Kc={$$typeof:E,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function U2(s,a,u,f,y,b,x,M,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=X(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X(0),this.hiddenUpdates=X(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function XA(s,a,u,f,y,b,x,M,I,Q,rt,ut){return s=new U2(s,a,u,x,I,Q,rt,ut,M),a=1,b===!0&&(a|=24),b=Ai(3,null,null,a),s.current=b,b.stateNode=s,a=tm(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},sm(b),s}function $A(s){return s?(s=$o,s):$o}function YA(s,a,u,f,y,b){y=$A(y),f.context===null?f.context=y:f.pendingContext=y,f=$r(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Yr(s,f,a),u!==null&&(ui(u,s,a),Mc(u,s,a))}function qA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Ag(s,a){qA(s,a),(s=s.alternate)&&qA(s,a)}function WA(s){if(s.tag===13||s.tag===31){var a=za(s,67108864);a!==null&&ui(a,s,67108864),Ag(s,67108864)}}function KA(s){if(s.tag===13||s.tag===31){var a=Ci();a=mt(a);var u=za(s,a);u!==null&&ui(u,s,a),Ag(s,a)}}var Cd=!0;function H2(s,a,u,f){var y=O.T;O.T=null;var b=N.p;try{N.p=2,wg(s,a,u,f)}finally{N.p=b,O.T=y}}function G2(s,a,u,f){var y=O.T;O.T=null;var b=N.p;try{N.p=8,wg(s,a,u,f)}finally{N.p=b,O.T=y}}function wg(s,a,u,f){if(Cd){var y=xg(f);if(y===null)cg(s,a,f,Md,u),ZA(s,f);else if($2(y,s,a,u,f))f.stopPropagation();else if(ZA(s,f),a&4&&-1<X2.indexOf(s)){for(;y!==null;){var b=er(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var x=Mn(b.pendingLanes);if(x!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var I=1<<31-le(x);M.entanglements[1]|=I,x&=~I}ks(b),(fe&6)===0&&(ud=Ae()+500,Gc(0))}}break;case 31:case 13:M=za(b,2),M!==null&&ui(M,b,2),dd(),Ag(b,2)}if(b=xg(f),b===null&&cg(s,a,f,Md,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else cg(s,a,f,null,u)}}function xg(s){return s=Ep(s),Tg(s)}var Md=null;function Tg(s){if(Md=null,s=tr(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Md=s,null}function QA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case en:return 2;case An:return 8;case Oe:case In:return 32;case je:return 268435456;default:return 32}default:return 32}}var Eg=!1,sa=null,ra=null,aa=null,Qc=new Map,Zc=new Map,oa=[],X2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZA(s,a){switch(s){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Qc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(a.pointerId)}}function Jc(s,a,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=er(a),a!==null&&WA(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function $2(s,a,u,f,y){switch(a){case"focusin":return sa=Jc(sa,s,a,u,f,y),!0;case"dragenter":return ra=Jc(ra,s,a,u,f,y),!0;case"mouseover":return aa=Jc(aa,s,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return Qc.set(b,Jc(Qc.get(b)||null,s,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Zc.set(b,Jc(Zc.get(b)||null,s,a,u,f,y)),!0}return!1}function JA(s){var a=tr(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,ne(s.priority,function(){KA(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,ne(s.priority,function(){KA(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=xg(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Tp=f,u.target.dispatchEvent(f),Tp=null}else return a=er(u),a!==null&&WA(a),s.blockedOn=u,!1;a.shift()}return!0}function tw(s,a,u){Dd(s)&&u.delete(a)}function Y2(){Eg=!1,sa!==null&&Dd(sa)&&(sa=null),ra!==null&&Dd(ra)&&(ra=null),aa!==null&&Dd(aa)&&(aa=null),Qc.forEach(tw),Zc.forEach(tw)}function Rd(s,a){s.blockedOn===a&&(s.blockedOn=null,Eg||(Eg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Y2)))}var Od=null;function ew(s){Od!==s&&(Od=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Od===s&&(Od=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],y=s[a+2];if(typeof f!="function"){if(Tg(f||u)===null)continue;break}var b=er(u);b!==null&&(s.splice(a,3),a-=3,xm(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function gl(s){function a(I){return Rd(I,s)}sa!==null&&Rd(sa,s),ra!==null&&Rd(ra,s),aa!==null&&Rd(aa,s),Qc.forEach(a),Zc.forEach(a);for(var u=0;u<oa.length;u++){var f=oa[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<oa.length&&(u=oa[0],u.blockedOn===null);)JA(u),u.blockedOn===null&&oa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],x=y[Yt]||null;if(typeof b=="function")x||ew(u);else if(x){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,x=b[Yt]||null)M=x.formAction;else if(Tg(y)!==null)continue}else M=x.action;typeof M=="function"?u[f+1]=M:(u.splice(f,3),f-=3),ew(u)}}}function nw(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(x){return y=x})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Cg(s){this._internalRoot=s}Ld.prototype.render=Cg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));var u=a.current,f=Ci();YA(u,f,s,a,null,null)},Ld.prototype.unmount=Cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;YA(s.current,2,null,s,null,null),dd(),a[qt]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bt();s={blockedOn:null,target:s,priority:a};for(var u=0;u<oa.length&&a!==0&&a<oa[u].priority;u++);oa.splice(u,0,s),u===0&&JA(s)}};var iw=t.version;if(iw!=="19.2.3")throw Error(n(527,iw,"19.2.3"));N.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var q2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Wn=kd.inject(q2),Pe=kd}catch{}}return eu.createRoot=function(s,a){if(!i(s))throw Error(n(299));var u=!1,f="",y=uS,b=hS,x=dS;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=XA(s,1,!1,null,null,u,f,null,y,b,x,nw),s[qt]=a.current,lg(s),new Cg(a)},eu.hydrateRoot=function(s,a,u){if(!i(s))throw Error(n(299));var f=!1,y="",b=uS,x=hS,M=dS,I=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(I=u.formState)),a=XA(s,1,!0,a,u??null,f,y,I,b,x,M,nw),a.context=$A(null),u=a.current,f=Ci(),f=mt(f),y=$r(f),y.callback=null,Yr(u,y,f),u=f,a.current.lanes=u,nt(a,u),ks(a),s[qt]=a.current,lg(s),new Ld(a)},eu.version="19.2.3",eu}var mw;function sO(){if(mw)return Og.exports;mw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Og.exports=iO(),Og.exports}var rO=sO();function aO({onFinish:r}){const[t,e]=U.useState(!1);return U.useEffect(()=>{const n=setTimeout(()=>{e(!0)},2200),i=setTimeout(()=>{r()},3e3);return()=>{clearTimeout(n),clearTimeout(i)}},[r]),B.jsxs("div",{className:`boot-screen ${t?"fade-out":""}`,children:[B.jsx("img",{src:"/gagan-portfolio/apple-logo.png",className:"apple-logo",alt:"Apple logo"}),B.jsx("div",{className:"loading-bar",children:B.jsx("div",{className:"loading-progress"})})]})}function oO({onUnlock:r}){return U.useEffect(()=>{const t=()=>r();return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[r]),B.jsxs("div",{className:"lock-screen",onClick:r,children:[B.jsxs("div",{className:"lock-top",children:[B.jsx("div",{className:"lock-date",children:new Date().toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),B.jsx("div",{className:"lock-time",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),B.jsxs("div",{className:"lock-bottom",children:[B.jsx("img",{src:"/gagan-portfolio/profile.jpg",className:"profile-pic"}),B.jsx("div",{className:"profile-name",children:"Gagan Chauhan"}),B.jsx("div",{className:"unlock-hint",children:"Click anywhere or press any key to unlock"})]})]})}var Jd={exports:{}},lO=Jd.exports,gw;function cO(){return gw||(gw=1,(function(r,t){(function(e,n){r.exports=n()})(lO,(function(){var e=1e3,n=6e4,i=36e5,o="millisecond",l="second",c="minute",h="hour",d="day",p="week",m="month",v="quarter",g="year",S="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var W=["th","st","nd","rd"],O=q%100;return"["+q+(W[(O-20)%10]||W[O]||W[0])+"]"}},E=function(q,W,O){var N=String(q);return!N||N.length>=W?q:""+Array(W+1-N.length).join(O)+q},D={s:E,z:function(q){var W=-q.utcOffset(),O=Math.abs(W),N=Math.floor(O/60),z=O%60;return(W<=0?"+":"-")+E(N,2,"0")+":"+E(z,2,"0")},m:function q(W,O){if(W.date()<O.date())return-q(O,W);var N=12*(O.year()-W.year())+(O.month()-W.month()),z=W.clone().add(N,m),st=O-z<0,dt=W.clone().add(N+(st?-1:1),m);return+(-(N+(O-z)/(st?z-dt:dt-z))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:m,y:g,w:p,d,D:S,h,m:c,s:l,ms:o,Q:v}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},C="en",L={};L[C]=T;var R="$isDayjsObject",k=function(q){return q instanceof at||!(!q||!q[R])},F=function q(W,O,N){var z;if(!W)return C;if(typeof W=="string"){var st=W.toLowerCase();L[st]&&(z=st),O&&(L[st]=O,z=st);var dt=W.split("-");if(!z&&dt.length>1)return q(dt[0])}else{var P=W.name;L[P]=W,z=P}return!N&&z&&(C=z),z||!N&&C},$=function(q,W){if(k(q))return q.clone();var O=typeof W=="object"?W:{};return O.date=q,O.args=arguments,new at(O)},H=D;H.l=F,H.i=k,H.w=function(q,W){return $(q,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var at=(function(){function q(O){this.$L=F(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[R]=!0}var W=q.prototype;return W.parse=function(O){this.$d=(function(N){var z=N.date,st=N.utc;if(z===null)return new Date(NaN);if(H.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var dt=z.match(w);if(dt){var P=dt[2]-1||0,j=(dt[7]||"0").substring(0,3);return st?new Date(Date.UTC(dt[1],P,dt[3]||1,dt[4]||0,dt[5]||0,dt[6]||0,j)):new Date(dt[1],P,dt[3]||1,dt[4]||0,dt[5]||0,dt[6]||0,j)}}return new Date(z)})(O),this.init()},W.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},W.$utils=function(){return H},W.isValid=function(){return this.$d.toString()!==_},W.isSame=function(O,N){var z=$(O);return this.startOf(N)<=z&&z<=this.endOf(N)},W.isAfter=function(O,N){return $(O)<this.startOf(N)},W.isBefore=function(O,N){return this.endOf(N)<$(O)},W.$g=function(O,N,z){return H.u(O)?this[N]:this.set(z,O)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(O,N){var z=this,st=!!H.u(N)||N,dt=H.p(O),P=function(Pt,kt){var Rt=H.w(z.$u?Date.UTC(z.$y,kt,Pt):new Date(z.$y,kt,Pt),z);return st?Rt:Rt.endOf(d)},j=function(Pt,kt){return H.w(z.toDate()[Pt].apply(z.toDate("s"),(st?[0,0,0,0]:[23,59,59,999]).slice(kt)),z)},Z=this.$W,it=this.$M,ft=this.$D,yt="set"+(this.$u?"UTC":"");switch(dt){case g:return st?P(1,0):P(31,11);case m:return st?P(1,it):P(0,it+1);case p:var gt=this.$locale().weekStart||0,Dt=(Z<gt?Z+7:Z)-gt;return P(st?ft-Dt:ft+(6-Dt),it);case d:case S:return j(yt+"Hours",0);case h:return j(yt+"Minutes",1);case c:return j(yt+"Seconds",2);case l:return j(yt+"Milliseconds",3);default:return this.clone()}},W.endOf=function(O){return this.startOf(O,!1)},W.$set=function(O,N){var z,st=H.p(O),dt="set"+(this.$u?"UTC":""),P=(z={},z[d]=dt+"Date",z[S]=dt+"Date",z[m]=dt+"Month",z[g]=dt+"FullYear",z[h]=dt+"Hours",z[c]=dt+"Minutes",z[l]=dt+"Seconds",z[o]=dt+"Milliseconds",z)[st],j=st===d?this.$D+(N-this.$W):N;if(st===m||st===g){var Z=this.clone().set(S,1);Z.$d[P](j),Z.init(),this.$d=Z.set(S,Math.min(this.$D,Z.daysInMonth())).$d}else P&&this.$d[P](j);return this.init(),this},W.set=function(O,N){return this.clone().$set(O,N)},W.get=function(O){return this[H.p(O)]()},W.add=function(O,N){var z,st=this;O=Number(O);var dt=H.p(N),P=function(it){var ft=$(st);return H.w(ft.date(ft.date()+Math.round(it*O)),st)};if(dt===m)return this.set(m,this.$M+O);if(dt===g)return this.set(g,this.$y+O);if(dt===d)return P(1);if(dt===p)return P(7);var j=(z={},z[c]=n,z[h]=i,z[l]=e,z)[dt]||1,Z=this.$d.getTime()+O*j;return H.w(Z,this)},W.subtract=function(O,N){return this.add(-1*O,N)},W.format=function(O){var N=this,z=this.$locale();if(!this.isValid())return z.invalidDate||_;var st=O||"YYYY-MM-DDTHH:mm:ssZ",dt=H.z(this),P=this.$H,j=this.$m,Z=this.$M,it=z.weekdays,ft=z.months,yt=z.meridiem,gt=function(kt,Rt,Wt,zt){return kt&&(kt[Rt]||kt(N,st))||Wt[Rt].slice(0,zt)},Dt=function(kt){return H.s(P%12||12,kt,"0")},Pt=yt||function(kt,Rt,Wt){var zt=kt<12?"AM":"PM";return Wt?zt.toLowerCase():zt};return st.replace(A,(function(kt,Rt){return Rt||(function(Wt){switch(Wt){case"YY":return String(N.$y).slice(-2);case"YYYY":return H.s(N.$y,4,"0");case"M":return Z+1;case"MM":return H.s(Z+1,2,"0");case"MMM":return gt(z.monthsShort,Z,ft,3);case"MMMM":return gt(ft,Z);case"D":return N.$D;case"DD":return H.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return gt(z.weekdaysMin,N.$W,it,2);case"ddd":return gt(z.weekdaysShort,N.$W,it,3);case"dddd":return it[N.$W];case"H":return String(P);case"HH":return H.s(P,2,"0");case"h":return Dt(1);case"hh":return Dt(2);case"a":return Pt(P,j,!0);case"A":return Pt(P,j,!1);case"m":return String(j);case"mm":return H.s(j,2,"0");case"s":return String(N.$s);case"ss":return H.s(N.$s,2,"0");case"SSS":return H.s(N.$ms,3,"0");case"Z":return dt}return null})(kt)||dt.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(O,N,z){var st,dt=this,P=H.p(N),j=$(O),Z=(j.utcOffset()-this.utcOffset())*n,it=this-j,ft=function(){return H.m(dt,j)};switch(P){case g:st=ft()/12;break;case m:st=ft();break;case v:st=ft()/3;break;case p:st=(it-Z)/6048e5;break;case d:st=(it-Z)/864e5;break;case h:st=it/i;break;case c:st=it/n;break;case l:st=it/e;break;default:st=it}return z?st:H.a(st)},W.daysInMonth=function(){return this.endOf(m).$D},W.$locale=function(){return L[this.$L]},W.locale=function(O,N){if(!O)return this.$L;var z=this.clone(),st=F(O,N,!0);return st&&(z.$L=st),z},W.clone=function(){return H.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},q})(),et=at.prototype;return $.prototype=et,[["$ms",o],["$s",l],["$m",c],["$H",h],["$W",d],["$M",m],["$y",g],["$D",S]].forEach((function(q){et[q[1]]=function(W){return this.$g(W,q[0],q[1])}})),$.extend=function(q,W){return q.$i||(q(W,at,$),q.$i=!0),$},$.locale=F,$.isDayjs=k,$.unix=function(q){return $(1e3*q)},$.en=L[C],$.Ls=L,$.p={},$}))})(Jd)),Jd.exports}var uO=cO();const hO=$f(uO),Mt="/gagan-portfolio/",dO=[{id:1,name:"Projects",type:"finder"},{id:3,name:"Contact",type:"contact"},{id:4,name:"Resume",type:"resume"}],fO=[{id:1,img:`${Mt}icons/wifi.svg`},{id:2,img:`${Mt}icons/search.svg`},{id:3,img:`${Mt}icons/user.svg`},{id:4,img:`${Mt}icons/mode.svg`}],pO=[{id:"finder",name:"Portfolio",icon:`${Mt}images/finder.png`,canOpen:!0},{id:"safari",name:"Articles",icon:`${Mt}images/safari.png`,canOpen:!0},{id:"photos",name:"Gallery",icon:`${Mt}images/photos.png`,canOpen:!0},{id:"contact",name:"Contact",icon:`${Mt}images/contact.png`,canOpen:!0},{id:"terminal",name:"Skills",icon:`${Mt}images/terminal.png`,canOpen:!0},{id:"trash",name:"Archive",icon:`${Mt}images/trash.png`,canOpen:!0}],mO=[{id:1,date:"Jan 20, 2026",title:"Git Isnt Guessing  Its Running an Algorithm on Your Typos",image:`${Mt}images/blog-2.png`,link:"https://www.linkedin.com/feed/update/urn:li:activity:7419091326526271488/"},{id:2,date:"Nov 13, 2025",title:"Inside the Browser: How Downloads, Temp Files, and Resume Really Work",image:`${Mt}images/blog-4.png`,link:"https://medium.com/@chauhangagan117/inside-the-browser-how-downloads-temp-files-and-resume-really-work-27b2e20b5c9d"},{id:3,date:"Aug 23, 2025",title:" Master Prefix Sum + HashMap in 7 Days  A Simple Practice Plan",image:`${Mt}images/blog-5.png`,link:"https://medium.com/@chauhangagan117/master-prefix-sum-hashmap-in-7-days-a-simple-practice-plan-5cd22e5d0458"}],yw=[{category:"Programming Languages",items:["C","C++","Java","Python","JavaScript","TypeScript","SQL"]},{category:"Frontend",items:["HTML5","CSS3","React.js","Redux","Redux Toolkit"]},{category:"Styling",items:["Bootstrap","Tailwind CSS"]},{category:"Backend",items:["Flask"]},{category:"Databases",items:["MySQL","MongoDB"]},{category:"Testing",items:["Cypress","Playwright"]},{category:"DevOps & Cloud",items:["AWS","Jenkins","Git","GitHub","Bitbucket","GitHub Copilot"]},{category:"Collaboration",items:["Jira","Confluence","Microsoft 365","Slack"]}],gO=[{id:1,text:"Github",icon:`${Mt}icons/github.svg`,bg:"#24292e",link:"https://github.com/GAGGZ1"},{id:2,text:"LinkedIn",icon:`${Mt}icons/linkedin.svg`,bg:"#0a66c2",link:"https://www.linkedin.com/in/gaganchauhan/"},{id:3,text:"Twitter/X",icon:`${Mt}icons/twitter.svg`,bg:"#1d9bf0",link:"https://x.com/CHAUHAN702"},{id:4,text:"Instagram",icon:`${Mt}icons/instagram-5.png`,bg:"#ec0075",link:"https://www.instagram.com/9agan/"}],yO=[{id:1,icon:`${Mt}icons/gicon1.svg`,title:"Library"},{id:2,icon:`${Mt}icons/gicon2.svg`,title:"Memories"},{id:3,icon:`${Mt}icons/file.svg`,title:"Places"},{id:4,icon:`${Mt}icons/gicon4.svg`,title:"People"},{id:5,icon:`${Mt}icons/gicon5.svg`,title:"Favorites"}],vO=[{id:1,img:`${Mt}images/gal-5.jpeg`},{id:2,img:`${Mt}images/gal-1.jpeg`},{id:3,img:`${Mt}images/gal4.jpeg`},{id:4,img:`${Mt}images/gal-4.jpeg`}],bO={id:1,type:"work",name:"Work",icon:`${Mt}icons/work.svg`,kind:"folder",children:[{id:"automation-anywhere",name:"Software Engineering Intern",company:"Automation Anywhere",location:"Bengaluru, India",duration:"Jul 2025  Present",kind:"folder",experience:{description:["Automated end-to-end UI test suites using Cypress and Playwright with TypeScript, improving overall test coverage by 85% and reducing regression effort.","Identified and resolved flaky test cases by stabilizing selectors, improving waits, and optimizing test logic, leading to more reliable CI test runs.","Performed thorough manual UI testing to validate new features, edge cases, and production bug fixes before automation coverage.","Collaborated in an Agile development environment using Jira for sprint tracking, Confluence for documentation, and Bitbucket for version control and code reviews."],tech:["TypeScript","Java","JavaScript","Cypress","Playwright","Jenkins","AWS","Jira","Bitbucket"]}},{id:"gssoc",name:"Open-Source Contributor",company:"GirlScript Summer of Code (GSSoC 2024)",location:"Remote",duration:"Jun 2024  Aug 2024",kind:"folder",experience:{description:["Improved API performance by 20% through bug fixes and backend optimizations.","Enhanced project usability by 30% by leading feature integration and improvements.","Collaborated with maintainers and contributors using Git-based workflows and code reviews."],tech:["API Development","Git","Open Source","JavaScript"]}},{id:"palo-alto",name:"Cybersecurity Virtual Intern",company:"Palo Alto Networks (AICTE  EduSkills)",location:"Remote",duration:"Sep 2023  Nov 2023",kind:"folder",experience:{description:["Completed a 10-week cybersecurity internship covering network security fundamentals.","Learned cloud security concepts and Security Operations Center (SOC) workflows.","Gained hands-on exposure to real-world security practices and threat analysis."],tech:["Network Security","Cloud Security","SOC","Cybersecurity Fundamentals"]}}]},_O={children:[{id:"1",name:"e-Chikitsalaya",icon:`${Mt}images/folder.png`,kind:"folder",windowPosition:"top-[5vh] left-5",children:[{id:1,name:"Overview.txt",icon:`${Mt}images/txt.png`,kind:"file",fileType:"txt",description:["A full-stack telemedicine platform enabling doctor appointment booking, secure payments, and real-time video consultations.","Built using Python, Flask, MySQL, Stripe, Socket.IO, HTML, CSS, and JavaScript.","Includes chatbot support, real-time messaging, and dark/light mode for enhanced UX."],position:"top-10 right-20"},{id:2,name:"GitHub Repo",icon:`${Mt}images/GitHub-Logo.wine.svg`,kind:"file",fileType:"url",href:"https://github.com/GAGGZ1/Hospital-System-Video-Calling-with-Doctors-",position:"top-5 left-10"}]},{id:"2",name:"Travel Story",icon:`${Mt}images/folder.png`,kind:"folder",windowPosition:"top-[18vh] left-7",children:[{id:1,name:"Overview.txt",icon:`${Mt}images/txt.png`,kind:"file",fileType:"txt",description:["A personal travel timeline app allowing users to create, edit, delete, and filter stories.","Built with React, Node.js, Express, and MongoDB.","Implements JWT authentication, image uploads, and story pinning."],position:"top-52 right-40"},{id:2,name:"Live Demo",icon:`${Mt}images/safari.png`,kind:"file",fileType:"url",href:"https://travel-story-1-q16j.onrender.com/"},{id:3,name:"GitHub Repo",icon:`${Mt}images/GitHub-Logo.wine.svg`,kind:"file",fileType:"url",href:"https://github.com/GAGGZ1/Travel-Story",position:"top-50 right-100"}]},{id:"3",name:"Flask Blog App",icon:`${Mt}images/folder.png`,kind:"folder",windowPosition:"top-[42vh] left-5",children:[{id:1,name:"Overview.txt",icon:`${Mt}images/txt.png`,kind:"file",fileType:"txt",description:["A secure blog platform with authentication, image uploads, and date-based search.","Built using Flask, SQLAlchemy, Flask-Login, Flask-WTF, and Jinja2.","Focuses on backend security, session management, and optimized DB queries."]},{id:2,name:"GitHub Repo",icon:`${Mt}images/GitHub-Logo.wine.svg`,kind:"file",fileType:"url",href:"https://github.com/GAGGZ1/Flask-Blog/",position:"top-40 right-100"}]},{id:"4",name:"AI Note-Taking App",icon:`${Mt}images/folder.png`,kind:"folder",windowPosition:"top-[30vh] left-1",children:[{id:1,name:"Overview.txt",icon:`${Mt}images/txt.png`,kind:"file",fileType:"txt",description:["An AI-powered note-taking app with autocomplete and smart suggestions.","Built using Next.js 13, TypeScript, OpenAI API, Drizzle ORM, and Tailwind CSS.","Demonstrates AI integration with modern frontend architecture."]},{id:2,name:"GitHub Repo",icon:`${Mt}images/GitHub-Logo.wine.svg`,kind:"file",fileType:"url",href:"https://github.com/GAGGZ1/AI-Note-Taking-Assistant",position:"top-52 right-60"},{id:3,name:"Live Demo",icon:`${Mt}images/safari.png`,kind:"file",fileType:"url",href:"https://ai-note-taking-assistant-two.vercel.app/",position:"top-45 right-10"}]}]},SO={id:2,type:"about",name:"About me",icon:`${Mt}icons/info.svg`,kind:"folder",children:[{id:1,name:"me.png",icon:`${Mt}images/image.png`,kind:"file",fileType:"img",position:"top-10 left-5",imageUrl:`${Mt}images/profile.jpeg`},{id:2,name:"casual-me.png",icon:`${Mt}images/image.png`,kind:"file",fileType:"img",position:"top-28 right-72",imageUrl:`${Mt}images/gagan-3.jpeg`},{id:3,name:"currently-me.png",icon:`${Mt}images/image.png`,kind:"file",fileType:"img",position:"top-52 left-80",imageUrl:`${Mt}images/gagan-4.jpeg`},{id:4,name:"about-me.txt",icon:`${Mt}images/txt.png`,kind:"file",fileType:"txt",position:"top-60 left-5",subtitle:"Hey! Im Gagan Chauhan ",image:`${Mt}images/profile.jpeg`,description:["Im a final-year Computer Science student with a deep interest in solving engineering problems and building systems that scale. My core strength lies in Data Structures & Algorithms using Java, backed by strong problem-solving fundamentals.","Ive built multiple full-stack applications using the MERN stack (MongoDB, Express.js, React.js, Node.js), and I also work with Python + Flask to design clean APIs and connect robust databases.","I strongly believe self-discipline fuels growth. Lately, Ive been exploring AI, Machine Learning, and Deep Learning aiming to blend solid engineering with intelligent systems.","I enjoy building things, breaking them, learning from failures, and improving every iteration. Always curious. Always shipping."]}]},AO={id:3,type:"resume",name:"Resume",icon:`${Mt}icons/file.svg`,kind:"folder",children:[{id:1,name:"Resume.pdf",icon:`${Mt}images/pdf.png`,kind:"file",fileType:"pdf"}]},wO={id:4,type:"trash",name:"Trash",icon:`${Mt}icons/trash.svg`,kind:"folder",children:[{id:1,name:"trash1.png",icon:`${Mt}images/image.png`,kind:"file",fileType:"img",position:"top-10 left-10",imageUrl:`${Mt}images/trash-3.png`},{id:2,name:"trash2.png",icon:`${Mt}images/image.png`,kind:"file",fileType:"img",position:"top-40 left-80",imageUrl:`${Mt}images/trash-4.png`}]},Cr={work:bO,projects:_O,about:SO,resume:AO,trash:wO},Is=1e3,xO={finder:{isOpen:!1,zIndex:Is,data:null},contact:{isOpen:!1,zIndex:Is,data:null},resume:{isOpen:!1,zIndex:Is,data:null},safari:{isOpen:!1,zIndex:Is,data:null},photos:{isOpen:!1,zIndex:Is,data:null},terminal:{isOpen:!1,zIndex:Is,data:null},txtfile:{isOpen:!1,zIndex:Is,data:null},imgfile:{isOpen:!1,zIndex:Is,data:null}},vw=r=>{let t;const e=new Set,n=(d,p)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const v=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),e.forEach(g=>g(t,v))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>h,subscribe:d=>(e.add(d),()=>e.delete(d))},h=t=r(n,i,c);return c},TO=(r=>r?vw(r):vw),EO=r=>r;function CO(r,t=EO){const e=xs.useSyncExternalStore(r.subscribe,xs.useCallback(()=>t(r.getState()),[r,t]),xs.useCallback(()=>t(r.getInitialState()),[r,t]));return xs.useDebugValue(e),e}const bw=r=>{const t=TO(r),e=n=>CO(t,n);return Object.assign(e,t),e},j0=(r=>r?bw(r):bw);var ET=Symbol.for("immer-nothing"),_w=Symbol.for("immer-draftable"),ii=Symbol.for("immer-state");function ws(r,...t){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Ni=Object,Yl=Ni.getPrototypeOf,gf="constructor",Yf="prototype",Ey="configurable",yf="enumerable",tf="writable",ku="value",Aa=r=>!!r&&!!r[ii];function Or(r){return r?CT(r)||Wf(r)||!!r[_w]||!!r[gf]?.[_w]||Kf(r)||Qf(r):!1}var MO=Ni[Yf][gf].toString(),Sw=new WeakMap;function CT(r){if(!r||!V0(r))return!1;const t=Yl(r);if(t===null||t===Ni[Yf])return!0;const e=Ni.hasOwnProperty.call(t,gf)&&t[gf];if(e===Object)return!0;if(!Al(e))return!1;let n=Sw.get(e);return n===void 0&&(n=Function.toString.call(e),Sw.set(e,n)),n===MO}function qf(r,t,e=!0){ih(r)===0?(e?Reflect.ownKeys(r):Ni.keys(r)).forEach(i=>{t(i,r[i],r)}):r.forEach((n,i)=>t(i,n,r))}function ih(r){const t=r[ii];return t?t.type_:Wf(r)?1:Kf(r)?2:Qf(r)?3:0}var Aw=(r,t,e=ih(r))=>e===2?r.has(t):Ni[Yf].hasOwnProperty.call(r,t),Cy=(r,t,e=ih(r))=>e===2?r.get(t):r[t],vf=(r,t,e,n=ih(r))=>{n===2?r.set(t,e):n===3?r.add(e):r[t]=e};function DO(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t}var Wf=Array.isArray,Kf=r=>r instanceof Map,Qf=r=>r instanceof Set,V0=r=>typeof r=="object",Al=r=>typeof r=="function",Ng=r=>typeof r=="boolean";function RO(r){const t=+r;return Number.isInteger(t)&&String(t)===r}var wr=r=>r.copy_||r.base_,U0=r=>r.modified_?r.copy_:r.base_;function My(r,t){if(Kf(r))return new Map(r);if(Qf(r))return new Set(r);if(Wf(r))return Array[Yf].slice.call(r);const e=CT(r);if(t===!0||t==="class_only"&&!e){const n=Ni.getOwnPropertyDescriptors(r);delete n[ii];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const l=i[o],c=n[l];c[tf]===!1&&(c[tf]=!0,c[Ey]=!0),(c.get||c.set)&&(n[l]={[Ey]:!0,[tf]:!0,[yf]:c[yf],[ku]:r[l]})}return Ni.create(Yl(r),n)}else{const n=Yl(r);if(n!==null&&e)return{...r};const i=Ni.create(n);return Ni.assign(i,r)}}function H0(r,t=!1){return Zf(r)||Aa(r)||!Or(r)||(ih(r)>1&&Ni.defineProperties(r,{set:Pd,add:Pd,clear:Pd,delete:Pd}),Ni.freeze(r),t&&qf(r,(e,n)=>{H0(n,!0)},!1)),r}function OO(){ws(2)}var Pd={[ku]:OO};function Zf(r){return r===null||!V0(r)?!0:Ni.isFrozen(r)}var bf="MapSet",Dy="Patches",ww="ArrayMethods",MT={};function xo(r){const t=MT[r];return t||ws(0,r),t}var xw=r=>!!MT[r],Pu,DT=()=>Pu,LO=(r,t)=>({drafts_:[],parent_:r,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:xw(bf)?xo(bf):void 0,arrayMethodsPlugin_:xw(ww)?xo(ww):void 0});function Tw(r,t){t&&(r.patchPlugin_=xo(Dy),r.patches_=[],r.inversePatches_=[],r.patchListener_=t)}function Ry(r){Oy(r),r.drafts_.forEach(kO),r.drafts_=null}function Oy(r){r===Pu&&(Pu=r.parent_)}var Ew=r=>Pu=LO(Pu,r);function kO(r){const t=r[ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cw(r,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];if(r!==void 0&&r!==e){e[ii].modified_&&(Ry(t),ws(4)),Or(r)&&(r=Mw(t,r));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(e[ii].base_,r,t)}else r=Mw(t,e);return PO(t,r,!0),Ry(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),r!==ET?r:void 0}function Mw(r,t){if(Zf(t))return t;const e=t[ii];if(!e)return _f(t,r.handledSet_,r);if(!Jf(e,r))return t;if(!e.modified_)return e.base_;if(!e.finalized_){const{callbacks_:n}=e;if(n)for(;n.length>0;)n.pop()(r);LT(e,r)}return e.copy_}function PO(r,t,e=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&H0(t,e)}function RT(r){r.finalized_=!0,r.scope_.unfinalizedDrafts_--}var Jf=(r,t)=>r.scope_===t,NO=[];function OT(r,t,e,n){const i=wr(r),o=r.type_;if(n!==void 0&&Cy(i,n,o)===t){vf(i,n,e,o);return}if(!r.draftLocations_){const c=r.draftLocations_=new Map;qf(i,(h,d)=>{if(Aa(d)){const p=c.get(d)||[];p.push(h),c.set(d,p)}})}const l=r.draftLocations_.get(t)??NO;for(const c of l)vf(i,c,e,o)}function BO(r,t,e){r.callbacks_.push(function(i){const o=t;if(!o||!Jf(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const l=U0(o);OT(r,o.draft_??o,l,e),LT(o,i)})}function LT(r,t){if(r.modified_&&!r.finalized_&&(r.type_===3||r.type_===1&&r.allIndicesReassigned_||(r.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(r);i&&n.generatePatches_(r,i,t)}RT(r)}}function FO(r,t,e){const{scope_:n}=r;if(Aa(e)){const i=e[ii];Jf(i,n)&&i.callbacks_.push(function(){ef(r);const l=U0(i);OT(r,e,l,t)})}else Or(e)&&r.callbacks_.push(function(){const o=wr(r);r.type_===3?o.has(e)&&_f(e,n.handledSet_,n):Cy(o,t,r.type_)===e&&n.drafts_.length>1&&(r.assigned_.get(t)??!1)===!0&&r.copy_&&_f(Cy(r.copy_,t,r.type_),n.handledSet_,n)})}function _f(r,t,e){return!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||Aa(r)||t.has(r)||!Or(r)||Zf(r)||(t.add(r),qf(r,(n,i)=>{if(Aa(i)){const o=i[ii];if(Jf(o,e)){const l=U0(o);vf(r,n,l,r.type_),RT(o)}}else Or(i)&&_f(i,t,e)})),r}function IO(r,t){const e=Wf(r),n={type_:e?1:0,scope_:t?t.scope_:DT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,o=Sf;e&&(i=[n],o=Nu);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return n.draft_=c,n.revoke_=l,[c,n]}var Sf={get(r,t){if(t===ii)return r;let e=r.scope_.arrayMethodsPlugin_;const n=r.type_===1&&typeof t=="string";if(n&&e?.isArrayOperationMethod(t))return e.createMethodInterceptor(r,t);const i=wr(r);if(!Aw(i,t,r.type_))return zO(r,i,t);const o=i[t];if(r.finalized_||!Or(o)||n&&r.operationMethod&&e?.isMutatingArrayMethod(r.operationMethod)&&RO(t))return o;if(o===Bg(r.base_,t)){ef(r);const l=r.type_===1?+t:t,c=ky(r.scope_,o,r,l);return r.copy_[l]=c}return o},has(r,t){return t in wr(r)},ownKeys(r){return Reflect.ownKeys(wr(r))},set(r,t,e){const n=kT(wr(r),t);if(n?.set)return n.set.call(r.draft_,e),!0;if(!r.modified_){const i=Bg(wr(r),t),o=i?.[ii];if(o&&o.base_===e)return r.copy_[t]=e,r.assigned_.set(t,!1),!0;if(DO(e,i)&&(e!==void 0||Aw(r.base_,t,r.type_)))return!0;ef(r),Ly(r)}return r.copy_[t]===e&&(e!==void 0||t in r.copy_)||Number.isNaN(e)&&Number.isNaN(r.copy_[t])||(r.copy_[t]=e,r.assigned_.set(t,!0),FO(r,t,e)),!0},deleteProperty(r,t){return ef(r),Bg(r.base_,t)!==void 0||t in r.base_?(r.assigned_.set(t,!1),Ly(r)):r.assigned_.delete(t),r.copy_&&delete r.copy_[t],!0},getOwnPropertyDescriptor(r,t){const e=wr(r),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{[tf]:!0,[Ey]:r.type_!==1||t!=="length",[yf]:n[yf],[ku]:e[t]}},defineProperty(){ws(11)},getPrototypeOf(r){return Yl(r.base_)},setPrototypeOf(){ws(12)}},Nu={};for(let r in Sf){let t=Sf[r];Nu[r]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}Nu.deleteProperty=function(r,t){return Nu.set.call(this,r,t,void 0)};Nu.set=function(r,t,e){return Sf.set.call(this,r[0],t,e,r[0])};function Bg(r,t){const e=r[ii];return(e?wr(e):r)[t]}function zO(r,t,e){const n=kT(t,e);return n?ku in n?n[ku]:n.get?.call(r.draft_):void 0}function kT(r,t){if(!(t in r))return;let e=Yl(r);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Yl(e)}}function Ly(r){r.modified_||(r.modified_=!0,r.parent_&&Ly(r.parent_))}function ef(r){r.copy_||(r.assigned_=new Map,r.copy_=My(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var jO=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,e,n)=>{if(Al(t)&&!Al(e)){const o=e;e=t;const l=this;return function(h=o,...d){return l.produce(h,p=>e.call(this,p,...d))}}Al(e)||ws(6),n!==void 0&&!Al(n)&&ws(7);let i;if(Or(t)){const o=Ew(this),l=ky(o,t,void 0);let c=!0;try{i=e(l),c=!1}finally{c?Ry(o):Oy(o)}return Tw(o,n),Cw(i,o)}else if(!t||!V0(t)){if(i=e(t),i===void 0&&(i=t),i===ET&&(i=void 0),this.autoFreeze_&&H0(i,!0),n){const o=[],l=[];xo(Dy).generateReplacementPatches_(t,i,{patches_:o,inversePatches_:l}),n(o,l)}return i}else ws(1,t)},this.produceWithPatches=(t,e)=>{if(Al(t))return(l,...c)=>this.produceWithPatches(l,h=>t(h,...c));let n,i;return[this.produce(t,e,(l,c)=>{n=l,i=c}),n,i]},Ng(r?.autoFreeze)&&this.setAutoFreeze(r.autoFreeze),Ng(r?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),Ng(r?.useStrictIteration)&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){Or(r)||ws(8),Aa(r)&&(r=VO(r));const t=Ew(this),e=ky(t,r,void 0);return e[ii].isManual_=!0,Oy(t),e}finishDraft(r,t){const e=r&&r[ii];(!e||!e.isManual_)&&ws(9);const{scope_:n}=e;return Tw(n,t),Cw(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}e>-1&&(t=t.slice(e+1));const n=xo(Dy).applyPatches_;return Aa(r)?n(r,t):this.produce(r,i=>n(i,t))}};function ky(r,t,e,n){const[i,o]=Kf(t)?xo(bf).proxyMap_(t,e):Qf(t)?xo(bf).proxySet_(t,e):IO(t,e);return(e?.scope_??DT()).drafts_.push(i),o.callbacks_=e?.callbacks_??[],o.key_=n,e&&n!==void 0?BO(e,o,n):o.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=h;o.modified_&&d&&d.generatePatches_(o,[],h)}),i}function VO(r){return Aa(r)||ws(10,r),PT(r)}function PT(r){if(!Or(r)||Zf(r))return r;const t=r[ii];let e,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=My(r,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else e=My(r,!0);return qf(e,(i,o)=>{vf(e,i,PT(o))},n),t&&(t.finalized_=!1),e}var UO=new jO,HO=UO.produce;const GO=r=>(t,e,n)=>(n.setState=(i,o,...l)=>{const c=typeof i=="function"?HO(i):i;return t(c,o,...l)},r(n.setState,e,n)),NT=GO,hs=j0(NT(r=>({windows:structuredClone(xO),nextZIndex:Is+1,openWindow:(t,e=null)=>r(n=>{const i=n.windows[t];i&&(i.isOpen=!0,i.zIndex=n.nextZIndex++,i.data=e??i.data)}),closeWindow:t=>r(e=>{const n=e.windows[t];n&&(n.isOpen=!1,n.zIndex=Is,n.data=null)}),focusWindow:t=>r(e=>{const n=e.windows[t];n&&(n.zIndex=e.nextZIndex++)})}))),nf=j0(r=>({booting:!0,locked:!0,sleep:()=>r({locked:!0}),lock:()=>r({locked:!0}),restart:()=>r({booting:!0,locked:!1}),shutdown:()=>r({locked:!0})})),XO=()=>{const{openWindow:r}=hs(),{sleep:t,lock:e,restart:n,shutdown:i}=nf();console.log({sleep:t,lock:e,restart:n,shutdown:i});const[o,l]=U.useState(!1),c=U.useRef(null);return U.useEffect(()=>{const h=d=>{c.current&&!c.current.contains(d.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),B.jsxs("nav",{className:"navbar",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsxs("div",{ref:c,className:"relative",children:[B.jsx("button",{type:"button",onClick:()=>l(h=>!h),className:"apple-button",children:B.jsx("img",{src:"/gagan-portfolio/images/logo.svg",alt:"Apple",className:"w-5 h-5"})}),o&&B.jsxs("ul",{className:"apple-menu",children:[B.jsx("li",{onClick:()=>{r("contact"),l(!1)},children:"About This Portfolio"}),B.jsx("li",{children:"System Settings"}),B.jsx("li",{children:"App Store"}),B.jsx("li",{onClick:()=>{t(),l(!1)},children:"Sleep"}),B.jsx("li",{onClick:()=>{n(),l(!1)},children:"Restart"}),B.jsx("li",{onClick:()=>{i(),l(!1)},children:"Shut Down"}),B.jsx("li",{onClick:()=>{e(),l(!1)},children:"Lock Screen"})]})]}),B.jsx("p",{className:"font-bold",children:"Gagan's Portfolio"}),B.jsx("ul",{className:"nav-links",children:dO.map(({id:h,name:d,type:p})=>B.jsx("li",{onClick:()=>r(p),children:d},h))})]}),B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx("ul",{className:"flex gap-3",children:fO.map(({id:h,img:d})=>B.jsx("li",{children:B.jsx("img",{src:d,className:"icon-hover",alt:`icon-${h}`})},h))}),B.jsx("time",{children:hO().format("ddd MMM D h:mm A")})]})]})};function Ar(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BT(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var Ii={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ql={duration:.5,overwrite:!1,delay:0},G0,Bn,ze,ls=1e8,Ce=1/ls,Py=Math.PI*2,$O=Py/4,YO=0,FT=Math.sqrt,qO=Math.cos,WO=Math.sin,Cn=function(t){return typeof t=="string"},tn=function(t){return typeof t=="function"},Lr=function(t){return typeof t=="number"},X0=function(t){return typeof t>"u"},qs=function(t){return typeof t=="object"},pi=function(t){return t!==!1},$0=function(){return typeof window<"u"},Nd=function(t){return tn(t)||Cn(t)},IT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},qn=Array.isArray,KO=/random\([^)]+\)/g,QO=/,\s*/g,Dw=/(?:-?\.?\d|\.)+/gi,zT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Tl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Fg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jT=/[+-]=-?[.\d]+/,ZO=/[^,'"\[\]\s]+/gi,JO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ge,js,Ny,Y0,ji={},Af={},VT,UT=function(t){return(Af=Wl(t,ji))&&vi},q0=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Bu=function(t,e){return!e&&console.warn(t)},HT=function(t,e){return t&&(ji[t]=e)&&Af&&(Af[t]=e)||ji},Fu=function(){return 0},tL={suppressEvents:!0,isStart:!0,kill:!1},sf={suppressEvents:!0,kill:!1},eL={suppressEvents:!0},W0={},ba=[],By={},GT,Oi={},Ig={},Rw=30,rf=[],K0="",Q0=function(t){var e=t[0],n,i;if(qs(e)||tn(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(i=rf.length;i--&&!rf[i].targetTest(e););n=rf[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new pE(t[i],n)))||t.splice(i,1);return t},go=function(t){return t._gsap||Q0(cs(t))[0]._gsap},XT=function(t,e,n){return(n=t[e])&&tn(n)?t[e]():X0(n)&&t.getAttribute&&t.getAttribute(e)||n},mi=function(t,e){return(t=t.split(",")).forEach(e)||t},ln=function(t){return Math.round(t*1e5)/1e5||0},He=function(t){return Math.round(t*1e7)/1e7||0},kl=function(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+i:n==="-"?t-i:n==="*"?t*i:t/i},nL=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},wf=function(){var t=ba.length,e=ba.slice(0),n,i;for(By={},ba.length=0,n=0;n<t;n++)i=e[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Z0=function(t){return!!(t._initted||t._startAt||t.add)},$T=function(t,e,n,i){ba.length&&!Bn&&wf(),t.render(e,n,!!(Bn&&e<0&&Z0(t))),ba.length&&!Bn&&wf()},YT=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(ZO).length<2?e:Cn(t)?t.trim():t},qT=function(t){return t},Vi=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},iL=function(t){return function(e,n){for(var i in n)i in e||i==="duration"&&t||i==="ease"||(e[i]=n[i])}},Wl=function(t,e){for(var n in e)t[n]=e[n];return t},Ow=function r(t,e){for(var n in e)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=qs(e[n])?r(t[n]||(t[n]={}),e[n]):e[n]);return t},xf=function(t,e){var n={},i;for(i in t)i in e||(n[i]=t[i]);return n},_u=function(t){var e=t.parent||Ge,n=t.keyframes?iL(qn(t.keyframes)):Vi;if(pi(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},sL=function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0},WT=function(t,e,n,i,o){var l=t[i],c;if(o)for(c=e[o];l&&l[o]>c;)l=l._prev;return l?(e._next=l._next,l._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=l,e.parent=e._dp=t,e},tp=function(t,e,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var o=e._prev,l=e._next;o?o._next=l:t[n]===e&&(t[n]=l),l?l._prev=o:t[i]===e&&(t[i]=o),e._next=e._prev=e.parent=null},wa=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},yo=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},rL=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Fy=function(t,e,n,i){return t._startAt&&(Bn?t._startAt.revert(sf):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},aL=function r(t){return!t||t._ts&&r(t.parent)},Lw=function(t){return t._repeat?Kl(t._tTime,t=t.duration()+t._rDelay)*t:0},Kl=function(t,e){var n=Math.floor(t=He(t/e));return t&&n===t?n-1:n},Tf=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},ep=function(t){return t._end=He(t._start+(t._tDur/Math.abs(t._ts||t._rts||Ce)||0))},np=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=He(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),ep(t),n._dirty||yo(n,t)),t},KT=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Tf(t.rawTime(),e),(!e._dur||sh(0,e.totalDuration(),n)-e._tTime>Ce)&&e.render(n,!0)),yo(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Ce}},Hs=function(t,e,n,i){return e.parent&&wa(e),e._start=He((Lr(n)?n:n||t!==Ge?as(t,n,e):t._time)+e._delay),e._end=He(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),WT(t,e,"_first","_last",t._sort?"_start":0),Iy(e)||(t._recent=e),i||KT(t,e),t._ts<0&&np(t,t._tTime),t},QT=function(t,e){return(ji.ScrollTrigger||q0("scrollTrigger",e))&&ji.ScrollTrigger.create(e,t)},ZT=function(t,e,n,i,o){if(tv(t,e,o),!t._initted)return 1;if(!n&&t._pt&&!Bn&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&GT!==ki.frame)return ba.push(t),t._lazy=[o,i],1},oL=function r(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||r(e))},Iy=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},lL=function(t,e,n,i){var o=t.ratio,l=e<0||!e&&(!t._start&&oL(t)&&!(!t._initted&&Iy(t))||(t._ts<0||t._dp._ts<0)&&!Iy(t))?0:1,c=t._rDelay,h=0,d,p,m;if(c&&t._repeat&&(h=sh(0,t._tDur,e),p=Kl(h,c),t._yoyo&&p&1&&(l=1-l),p!==Kl(t._tTime,c)&&(o=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==o||Bn||i||t._zTime===Ce||!e&&t._zTime){if(!t._initted&&ZT(t,e,i,n,h))return;for(m=t._zTime,t._zTime=e||(n?Ce:0),n||(n=e&&!m),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=h,d=t._pt;d;)d.r(l,d.d),d=d._next;e<0&&Fy(t,e,n,!0),t._onUpdate&&!n&&Bi(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&Bi(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&wa(t,1),!n&&!Bn&&(Bi(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},cL=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<e)return i;i=i._prev}},Ql=function(t,e,n,i){var o=t._repeat,l=He(e)||0,c=t._tTime/t._tDur;return c&&!i&&(t._time*=l/t._dur),t._dur=l,t._tDur=o?o<0?1e10:He(l*(o+1)+t._rDelay*o):l,c>0&&!i&&np(t,t._tTime=t._tDur*c),t.parent&&ep(t),n||yo(t.parent,t),t},kw=function(t){return t instanceof Jn?yo(t):Ql(t,t._dur)},uL={_start:0,endTime:Fu,totalDuration:Fu},as=function r(t,e,n){var i=t.labels,o=t._recent||uL,l=t.duration()>=ls?o.endTime(!1):t._dur,c,h,d;return Cn(e)&&(isNaN(e)||e in i)?(h=e.charAt(0),d=e.substr(-1)==="%",c=e.indexOf("="),h==="<"||h===">"?(c>=0&&(e=e.replace(/=/,"")),(h==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(d?(c<0?o:n).totalDuration()/100:1)):c<0?(e in i||(i[e]=l),i[e]):(h=parseFloat(e.charAt(c-1)+e.substr(c+1)),d&&n&&(h=h/100*(qn(n)?n[0]:n).totalDuration()),c>1?r(t,e.substr(0,c-1),n)+h:l+h)):e==null?l:+e},Su=function(t,e,n){var i=Lr(e[1]),o=(i?2:1)+(t<2?0:1),l=e[o],c,h;if(i&&(l.duration=e[1]),l.parent=n,t){for(c=l,h=n;h&&!("immediateRender"in c);)c=h.vars.defaults||{},h=pi(h.vars.inherit)&&h.parent;l.immediateRender=pi(c.immediateRender),t<2?l.runBackwards=1:l.startAt=e[o-1]}return new yn(e[0],l,e[o+1])},Oa=function(t,e){return t||t===0?e(t):e},sh=function(t,e,n){return n<t?t:n>e?e:n},Xn=function(t,e){return!Cn(t)||!(e=JO.exec(t))?"":e[1]},hL=function(t,e,n){return Oa(n,function(i){return sh(t,e,i)})},zy=[].slice,JT=function(t,e){return t&&qs(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&qs(t[0]))&&!t.nodeType&&t!==js},dL=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(i){var o;return Cn(i)&&!e||JT(i,1)?(o=n).push.apply(o,cs(i)):n.push(i)})||n},cs=function(t,e,n){return ze&&!e&&ze.selector?ze.selector(t):Cn(t)&&!n&&(Ny||!Zl())?zy.call((e||Y0).querySelectorAll(t),0):qn(t)?dL(t,n):JT(t)?zy.call(t,0):t?[t]:[]},jy=function(t){return t=cs(t)[0]||Bu("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return cs(e,n.querySelectorAll?n:n===t?Bu("Invalid scope")||Y0.createElement("div"):t)}},tE=function(t){return t.sort(function(){return .5-Math.random()})},eE=function(t){if(tn(t))return t;var e=qs(t)?t:{each:t},n=vo(e.ease),i=e.from||0,o=parseFloat(e.base)||0,l={},c=i>0&&i<1,h=isNaN(i)||c,d=e.axis,p=i,m=i;return Cn(i)?p=m={center:.5,edges:.5,end:1}[i]||0:!c&&h&&(p=i[0],m=i[1]),function(v,g,S){var _=(S||e).length,w=l[_],A,T,E,D,C,L,R,k,F;if(!w){if(F=e.grid==="auto"?0:(e.grid||[1,ls])[1],!F){for(R=-ls;R<(R=S[F++].getBoundingClientRect().left)&&F<_;);F<_&&F--}for(w=l[_]=[],A=h?Math.min(F,_)*p-.5:i%F,T=F===ls?0:h?_*m/F-.5:i/F|0,R=0,k=ls,L=0;L<_;L++)E=L%F-A,D=T-(L/F|0),w[L]=C=d?Math.abs(d==="y"?D:E):FT(E*E+D*D),C>R&&(R=C),C<k&&(k=C);i==="random"&&tE(w),w.max=R-k,w.min=k,w.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(F>_?_-1:d?d==="y"?_/F:F:Math.max(F,_/F))||0)*(i==="edges"?-1:1),w.b=_<0?o-_:o,w.u=Xn(e.amount||e.each)||0,n=n&&_<0?hE(n):n}return _=(w[v]-w.min)/w.max||0,He(w.b+(n?n(_):_)*w.v)+w.u}},Vy=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=He(Math.round(parseFloat(n)/t)*t*e);return(i-i%1)/e+(Lr(n)?0:Xn(n))}},nE=function(t,e){var n=qn(t),i,o;return!n&&qs(t)&&(i=n=t.radius||ls,t.values?(t=cs(t.values),(o=!Lr(t[0]))&&(i*=i)):t=Vy(t.increment)),Oa(e,n?tn(t)?function(l){return o=t(l),Math.abs(o-l)<=i?o:l}:function(l){for(var c=parseFloat(o?l.x:l),h=parseFloat(o?l.y:0),d=ls,p=0,m=t.length,v,g;m--;)o?(v=t[m].x-c,g=t[m].y-h,v=v*v+g*g):v=Math.abs(t[m]-c),v<d&&(d=v,p=m);return p=!i||d<=i?t[p]:l,o||p===l||Lr(l)?p:p+Xn(l)}:Vy(t))},iE=function(t,e,n,i){return Oa(qn(t)?!e:n===!0?!!(n=0):!i,function(){return qn(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*i)/i})},fL=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return e.reduce(function(o,l){return l(o)},i)}},pL=function(t,e){return function(n){return t(parseFloat(n))+(e||Xn(n))}},mL=function(t,e,n){return rE(t,e,0,1,n)},sE=function(t,e,n){return Oa(n,function(i){return t[~~e(i)]})},gL=function r(t,e,n){var i=e-t;return qn(t)?sE(t,r(0,t.length),e):Oa(n,function(o){return(i+(o-t)%i)%i+t})},yL=function r(t,e,n){var i=e-t,o=i*2;return qn(t)?sE(t,r(0,t.length-1),e):Oa(n,function(l){return l=(o+(l-t)%o)%o||0,t+(l>i?o-l:l)})},Iu=function(t){return t.replace(KO,function(e){var n=e.indexOf("[")+1,i=e.substring(n||7,n?e.indexOf("]"):e.length-1).split(QO);return iE(n?i:+i[0],n?0:+i[1],+i[2]||1e-5)})},rE=function(t,e,n,i,o){var l=e-t,c=i-n;return Oa(o,function(h){return n+((h-t)/l*c||0)})},vL=function r(t,e,n,i){var o=isNaN(t+e)?0:function(g){return(1-g)*t+g*e};if(!o){var l=Cn(t),c={},h,d,p,m,v;if(n===!0&&(i=1)&&(n=null),l)t={p:t},e={p:e};else if(qn(t)&&!qn(e)){for(p=[],m=t.length,v=m-2,d=1;d<m;d++)p.push(r(t[d-1],t[d]));m--,o=function(S){S*=m;var _=Math.min(v,~~S);return p[_](S-_)},n=e}else i||(t=Wl(qn(t)?[]:{},t));if(!p){for(h in e)J0.call(c,t,h,"get",e[h]);o=function(S){return iv(S,c)||(l?t.p:t)}}}return Oa(n,o)},Pw=function(t,e,n){var i=t.labels,o=ls,l,c,h;for(l in i)c=i[l]-e,c<0==!!n&&c&&o>(c=Math.abs(c))&&(h=l,o=c);return h},Bi=function(t,e,n){var i=t.vars,o=i[e],l=ze,c=t._ctx,h,d,p;if(o)return h=i[e+"Params"],d=i.callbackScope||t,n&&ba.length&&wf(),c&&(ze=c),p=h?o.apply(d,h):o.call(d),ze=l,p},cu=function(t){return wa(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Bn),t.progress()<1&&Bi(t,"onInterrupt"),t},El,aE=[],oE=function(t){if(t)if(t=!t.name&&t.default||t,$0()||t.headless){var e=t.name,n=tn(t),i=e&&!n&&t.init?function(){this._props=[]}:t,o={init:Fu,render:iv,add:J0,kill:PL,modifier:kL,rawVars:0},l={targetTest:0,get:0,getSetter:nv,aliases:{},register:0};if(Zl(),t!==i){if(Oi[e])return;Vi(i,Vi(xf(t,o),l)),Wl(i.prototype,Wl(o,xf(t,l))),Oi[i.prop=e]=i,t.targetTest&&(rf.push(i),W0[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}HT(e,i),t.register&&t.register(vi,i,gi)}else aE.push(t)},xe=255,uu={aqua:[0,xe,xe],lime:[0,xe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xe],navy:[0,0,128],white:[xe,xe,xe],olive:[128,128,0],yellow:[xe,xe,0],orange:[xe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xe,0,0],pink:[xe,192,203],cyan:[0,xe,xe],transparent:[xe,xe,xe,0]},zg=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*xe+.5|0},lE=function(t,e,n){var i=t?Lr(t)?[t>>16,t>>8&xe,t&xe]:0:uu.black,o,l,c,h,d,p,m,v,g,S;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),uu[t])i=uu[t];else if(t.charAt(0)==="#"){if(t.length<6&&(o=t.charAt(1),l=t.charAt(2),c=t.charAt(3),t="#"+o+o+l+l+c+c+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&xe,i&xe,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&xe,t&xe]}else if(t.substr(0,3)==="hsl"){if(i=S=t.match(Dw),!e)h=+i[0]%360/360,d=+i[1]/100,p=+i[2]/100,l=p<=.5?p*(d+1):p+d-p*d,o=p*2-l,i.length>3&&(i[3]*=1),i[0]=zg(h+1/3,o,l),i[1]=zg(h,o,l),i[2]=zg(h-1/3,o,l);else if(~t.indexOf("="))return i=t.match(zT),n&&i.length<4&&(i[3]=1),i}else i=t.match(Dw)||uu.transparent;i=i.map(Number)}return e&&!S&&(o=i[0]/xe,l=i[1]/xe,c=i[2]/xe,m=Math.max(o,l,c),v=Math.min(o,l,c),p=(m+v)/2,m===v?h=d=0:(g=m-v,d=p>.5?g/(2-m-v):g/(m+v),h=m===o?(l-c)/g+(l<c?6:0):m===l?(c-o)/g+2:(o-l)/g+4,h*=60),i[0]=~~(h+.5),i[1]=~~(d*100+.5),i[2]=~~(p*100+.5)),n&&i.length<4&&(i[3]=1),i},cE=function(t){var e=[],n=[],i=-1;return t.split(_a).forEach(function(o){var l=o.match(Tl)||[];e.push.apply(e,l),n.push(i+=l.length+1)}),e.c=n,e},Nw=function(t,e,n){var i="",o=(t+i).match(_a),l=e?"hsla(":"rgba(",c=0,h,d,p,m;if(!o)return t;if(o=o.map(function(v){return(v=lE(v,e,1))&&l+(e?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(p=cE(t),h=n.c,h.join(i)!==p.c.join(i)))for(d=t.replace(_a,"1").split(Tl),m=d.length-1;c<m;c++)i+=d[c]+(~h.indexOf(c)?o.shift()||l+"0,0,0,0)":(p.length?p:o.length?o:n).shift());if(!d)for(d=t.split(_a),m=d.length-1;c<m;c++)i+=d[c]+o[c];return i+d[m]},_a=(function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in uu)r+="|"+t+"\\b";return new RegExp(r+")","gi")})(),bL=/hsl[a]?\(/,uE=function(t){var e=t.join(" "),n;if(_a.lastIndex=0,_a.test(e))return n=bL.test(e),t[1]=Nw(t[1],n),t[0]=Nw(t[0],n,cE(t[1])),!0},zu,ki=(function(){var r=Date.now,t=500,e=33,n=r(),i=n,o=1e3/240,l=o,c=[],h,d,p,m,v,g,S=function _(w){var A=r()-i,T=w===!0,E,D,C,L;if((A>t||A<0)&&(n+=A-e),i+=A,C=i-n,E=C-l,(E>0||T)&&(L=++m.frame,v=C-m.time*1e3,m.time=C=C/1e3,l+=E+(E>=o?4:o-E),D=1),T||(h=d(_)),D)for(g=0;g<c.length;g++)c[g](C,v,L,w)};return m={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(w){return v/(1e3/(w||60))},wake:function(){VT&&(!Ny&&$0()&&(js=Ny=window,Y0=js.document||{},ji.gsap=vi,(js.gsapVersions||(js.gsapVersions=[])).push(vi.version),UT(Af||js.GreenSockGlobals||!js.gsap&&js||{}),aE.forEach(oE)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&m.sleep(),d=p||function(w){return setTimeout(w,l-m.time*1e3+1|0)},zu=1,S(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(h),zu=0,d=Fu},lagSmoothing:function(w,A){t=w||1/0,e=Math.min(A||33,t)},fps:function(w){o=1e3/(w||240),l=m.time*1e3+o},add:function(w,A,T){var E=A?function(D,C,L,R){w(D,C,L,R),m.remove(E)}:w;return m.remove(w),c[T?"unshift":"push"](E),Zl(),E},remove:function(w,A){~(A=c.indexOf(w))&&c.splice(A,1)&&g>=A&&g--},_listeners:c},m})(),Zl=function(){return!zu&&ki.wake()},oe={},_L=/^[\d.\-M][\d.\-,\s]/,SL=/["']/g,AL=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),i=n[0],o=1,l=n.length,c,h,d;o<l;o++)h=n[o],c=o!==l-1?h.lastIndexOf(","):h.length,d=h.substr(0,c),e[i]=isNaN(d)?d.replace(SL,"").trim():+d,i=h.substr(c+1).trim();return e},wL=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)},xL=function(t){var e=(t+"").split("("),n=oe[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[AL(e[1])]:wL(t).split(",").map(YT)):oe._CE&&_L.test(t)?oe._CE("",t):n},hE=function(t){return function(e){return 1-t(1-e)}},dE=function r(t,e){for(var n=t._first,i;n;)n instanceof Jn?r(n,e):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==e&&(n.timeline?r(n.timeline,e):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=e)),n=n._next},vo=function(t,e){return t&&(tn(t)?t:oe[t]||xL(t))||e},Lo=function(t,e,n,i){n===void 0&&(n=function(h){return 1-e(1-h)}),i===void 0&&(i=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var o={easeIn:e,easeOut:n,easeInOut:i},l;return mi(t,function(c){oe[c]=ji[c]=o,oe[l=c.toLowerCase()]=n;for(var h in o)oe[l+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=oe[c+"."+h]=o[h]}),o},fE=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},jg=function r(t,e,n){var i=e>=1?e:1,o=(n||(t?.3:.45))/(e<1?e:1),l=o/Py*(Math.asin(1/i)||0),c=function(p){return p===1?1:i*Math.pow(2,-10*p)*WO((p-l)*o)+1},h=t==="out"?c:t==="in"?function(d){return 1-c(1-d)}:fE(c);return o=Py/o,h.config=function(d,p){return r(t,d,p)},h},Vg=function r(t,e){e===void 0&&(e=1.70158);var n=function(l){return l?--l*l*((e+1)*l+e)+1:0},i=t==="out"?n:t==="in"?function(o){return 1-n(1-o)}:fE(n);return i.config=function(o){return r(t,o)},i};mi("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;Lo(r+",Power"+(e-1),t?function(n){return Math.pow(n,e)}:function(n){return n},function(n){return 1-Math.pow(1-n,e)},function(n){return n<.5?Math.pow(n*2,e)/2:1-Math.pow((1-n)*2,e)/2})});oe.Linear.easeNone=oe.none=oe.Linear.easeIn;Lo("Elastic",jg("in"),jg("out"),jg());(function(r,t){var e=1/t,n=2*e,i=2.5*e,o=function(c){return c<e?r*c*c:c<n?r*Math.pow(c-1.5/t,2)+.75:c<i?r*(c-=2.25/t)*c+.9375:r*Math.pow(c-2.625/t,2)+.984375};Lo("Bounce",function(l){return 1-o(1-l)},o)})(7.5625,2.75);Lo("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Lo("Circ",function(r){return-(FT(1-r*r)-1)});Lo("Sine",function(r){return r===1?1:-qO(r*$O)+1});Lo("Back",Vg("in"),Vg("out"),Vg());oe.SteppedEase=oe.steps=ji.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,i=t+(e?0:1),o=e?1:0,l=1-Ce;return function(c){return((i*sh(0,l,c)|0)+o)*n}}};ql.ease=oe["quad.out"];mi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return K0+=r+","+r+"Params,"});var pE=function(t,e){this.id=YO++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:XT,this.set=e?e.getSetter:nv},ju=(function(){function r(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ql(this,+e.duration,1,1),this.data=e.data,ze&&(this._ctx=ze,ze.data.push(this)),zu||ki.wake()}var t=r.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,Ql(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,i){if(Zl(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(np(this,n),!o._dp||o.parent||KT(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Hs(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ce||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),$T(this,n,i)),this},t.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Lw(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},t.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Lw(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,i):this._repeat?Kl(this._tTime,o)+1:1},t.timeScale=function(n,i){if(!arguments.length)return this._rts===-Ce?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?Tf(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ce?0:this._rts,this.totalTime(sh(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),ep(this),rL(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Zl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ce&&(this._tTime-=Ce)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=He(n);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Hs(i,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(pi(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Tf(i.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=eL);var i=Bn;return Bn=n,Z0(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Bn=i,this},t.globalTime=function(n){for(var i=this,o=arguments.length?n:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,kw(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,kw(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,i){return this.totalTime(as(this,n),pi(i))},t.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,pi(i)),this._dur||(this._zTime=-Ce),this},t.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},t.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ce:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ce,this},t.isActive=function(){var n=this.parent||this._dp,i=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=i&&o<this.endTime(!0)-Ce)},t.eventCallback=function(n,i,o){var l=this.vars;return arguments.length>1?(i?(l[n]=i,o&&(l[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=i)):delete l[n],this):l[n]},t.then=function(n){var i=this,o=i._prom;return new Promise(function(l){var c=tn(n)?n:qT,h=function(){var p=i.then;i.then=null,o&&o(),tn(c)&&(c=c(i))&&(c.then||c===i)&&(i.then=p),l(c),i.then=p};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?h():i._prom=h})},t.kill=function(){cu(this)},r})();Vi(ju.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ce,_prom:0,_ps:!1,_rts:1});var Jn=(function(r){BT(t,r);function t(n,i){var o;return n===void 0&&(n={}),o=r.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=pi(n.sortChildren),Ge&&Hs(n.parent||Ge,Ar(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&QT(Ar(o),n.scrollTrigger),o}var e=t.prototype;return e.to=function(i,o,l){return Su(0,arguments,this),this},e.from=function(i,o,l){return Su(1,arguments,this),this},e.fromTo=function(i,o,l,c){return Su(2,arguments,this),this},e.set=function(i,o,l){return o.duration=0,o.parent=this,_u(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new yn(i,o,as(this,l),1),this},e.call=function(i,o,l){return Hs(this,yn.delayedCall(0,i,o),l)},e.staggerTo=function(i,o,l,c,h,d,p){return l.duration=o,l.stagger=l.stagger||c,l.onComplete=d,l.onCompleteParams=p,l.parent=this,new yn(i,l,as(this,h)),this},e.staggerFrom=function(i,o,l,c,h,d,p){return l.runBackwards=1,_u(l).immediateRender=pi(l.immediateRender),this.staggerTo(i,o,l,c,h,d,p)},e.staggerFromTo=function(i,o,l,c,h,d,p,m){return c.startAt=l,_u(c).immediateRender=pi(c.immediateRender),this.staggerTo(i,o,c,h,d,p,m)},e.render=function(i,o,l){var c=this._time,h=this._dirty?this.totalDuration():this._tDur,d=this._dur,p=i<=0?0:He(i),m=this._zTime<0!=i<0&&(this._initted||!d),v,g,S,_,w,A,T,E,D,C,L,R;if(this!==Ge&&p>h&&i>=0&&(p=h),p!==this._tTime||l||m){if(c!==this._time&&d&&(p+=this._time-c,i+=this._time-c),v=p,D=this._start,E=this._ts,A=!E,m&&(d||(c=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(L=this._yoyo,w=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,o,l);if(v=He(p%w),p===h?(_=this._repeat,v=d):(C=He(p/w),_=~~C,_&&_===C&&(v=d,_--),v>d&&(v=d)),C=Kl(this._tTime,w),!c&&this._tTime&&C!==_&&this._tTime-C*w-this._dur<=0&&(C=_),L&&_&1&&(v=d-v,R=1),_!==C&&!this._lock){var k=L&&C&1,F=k===(L&&_&1);if(_<C&&(k=!k),c=k?0:p%d?d:p,this._lock=1,this.render(c||(R?0:He(_*w)),o,!d)._lock=0,this._tTime=p,!o&&this.parent&&Bi(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1,C=_),c&&c!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,h=this._tDur,F&&(this._lock=2,c=k?d:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;dE(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=cL(this,He(c),He(v)),T&&(p-=v-(v=T._start))),this._tTime=p,this._time=v,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,c=0),!c&&p&&d&&!o&&!C&&(Bi(this,"onStart"),this._tTime!==p))return this;if(v>=c&&i>=0)for(g=this._first;g;){if(S=g._next,(g._act||v>=g._start)&&g._ts&&T!==g){if(g.parent!==this)return this.render(i,o,l);if(g.render(g._ts>0?(v-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(v-g._start)*g._ts,o,l),v!==this._time||!this._ts&&!A){T=0,S&&(p+=this._zTime=-Ce);break}}g=S}else{g=this._last;for(var $=i<0?i:v;g;){if(S=g._prev,(g._act||$<=g._end)&&g._ts&&T!==g){if(g.parent!==this)return this.render(i,o,l);if(g.render(g._ts>0?($-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+($-g._start)*g._ts,o,l||Bn&&Z0(g)),v!==this._time||!this._ts&&!A){T=0,S&&(p+=this._zTime=$?-Ce:Ce);break}}g=S}}if(T&&!o&&(this.pause(),T.render(v>=c?0:-Ce)._zTime=v>=c?1:-1,this._ts))return this._start=D,ep(this),this.render(i,o,l);this._onUpdate&&!o&&Bi(this,"onUpdate",!0),(p===h&&this._tTime>=this.totalDuration()||!p&&c)&&(D===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(p===h&&this._ts>0||!p&&this._ts<0)&&wa(this,1),!o&&!(i<0&&!c)&&(p||c||!h)&&(Bi(this,p===h&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(i,o){var l=this;if(Lr(o)||(o=as(this,o,i)),!(i instanceof ju)){if(qn(i))return i.forEach(function(c){return l.add(c,o)}),this;if(Cn(i))return this.addLabel(i,o);if(tn(i))i=yn.delayedCall(0,i);else return this}return this!==i?Hs(this,i,o):this},e.getChildren=function(i,o,l,c){i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=-ls);for(var h=[],d=this._first;d;)d._start>=c&&(d instanceof yn?o&&h.push(d):(l&&h.push(d),i&&h.push.apply(h,d.getChildren(!0,o,l)))),d=d._next;return h},e.getById=function(i){for(var o=this.getChildren(1,1,1),l=o.length;l--;)if(o[l].vars.id===i)return o[l]},e.remove=function(i){return Cn(i)?this.removeLabel(i):tn(i)?this.killTweensOf(i):(i.parent===this&&tp(this,i),i===this._recent&&(this._recent=this._last),yo(this))},e.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=He(ki.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},e.addLabel=function(i,o){return this.labels[i]=as(this,o),this},e.removeLabel=function(i){return delete this.labels[i],this},e.addPause=function(i,o,l){var c=yn.delayedCall(0,o||Fu,l);return c.data="isPause",this._hasPause=1,Hs(this,c,as(this,i))},e.removePause=function(i){var o=this._first;for(i=as(this,i);o;)o._start===i&&o.data==="isPause"&&wa(o),o=o._next},e.killTweensOf=function(i,o,l){for(var c=this.getTweensOf(i,l),h=c.length;h--;)fa!==c[h]&&c[h].kill(i,o);return this},e.getTweensOf=function(i,o){for(var l=[],c=cs(i),h=this._first,d=Lr(o),p;h;)h instanceof yn?nL(h._targets,c)&&(d?(!fa||h._initted&&h._ts)&&h.globalTime(0)<=o&&h.globalTime(h.totalDuration())>o:!o||h.isActive())&&l.push(h):(p=h.getTweensOf(c,o)).length&&l.push.apply(l,p),h=h._next;return l},e.tweenTo=function(i,o){o=o||{};var l=this,c=as(l,i),h=o,d=h.startAt,p=h.onStart,m=h.onStartParams,v=h.immediateRender,g,S=yn.to(l,Vi({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:o.duration||Math.abs((c-(d&&"time"in d?d.time:l._time))/l.timeScale())||Ce,onStart:function(){if(l.pause(),!g){var w=o.duration||Math.abs((c-(d&&"time"in d?d.time:l._time))/l.timeScale());S._dur!==w&&Ql(S,w,0,1).render(S._time,!0,!0),g=1}p&&p.apply(S,m||[])}},o));return v?S.render(0):S},e.tweenFromTo=function(i,o,l){return this.tweenTo(o,Vi({startAt:{time:as(this,i)}},l))},e.recent=function(){return this._recent},e.nextLabel=function(i){return i===void 0&&(i=this._time),Pw(this,as(this,i))},e.previousLabel=function(i){return i===void 0&&(i=this._time),Pw(this,as(this,i),1)},e.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ce)},e.shiftChildren=function(i,o,l){l===void 0&&(l=0);var c=this._first,h=this.labels,d;for(i=He(i);c;)c._start>=l&&(c._start+=i,c._end+=i),c=c._next;if(o)for(d in h)h[d]>=l&&(h[d]+=i);return yo(this)},e.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return r.prototype.invalidate.call(this,i)},e.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,l;o;)l=o._next,this.remove(o),o=l;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),yo(this)},e.totalDuration=function(i){var o=0,l=this,c=l._last,h=ls,d,p,m;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-i:i));if(l._dirty){for(m=l.parent;c;)d=c._prev,c._dirty&&c.totalDuration(),p=c._start,p>h&&l._sort&&c._ts&&!l._lock?(l._lock=1,Hs(l,c,p-c._delay,1)._lock=0):h=p,p<0&&c._ts&&(o-=p,(!m&&!l._dp||m&&m.smoothChildTiming)&&(l._start+=He(p/l._ts),l._time-=p,l._tTime-=p),l.shiftChildren(-p,!1,-1/0),h=0),c._end>o&&c._ts&&(o=c._end),c=d;Ql(l,l===Ge&&l._time>o?l._time:o,1,1),l._dirty=0}return l._tDur},t.updateRoot=function(i){if(Ge._ts&&($T(Ge,Tf(i,Ge)),GT=ki.frame),ki.frame>=Rw){Rw+=Ii.autoSleep||120;var o=Ge._first;if((!o||!o._ts)&&Ii.autoSleep&&ki._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||ki.sleep()}}},t})(ju);Vi(Jn.prototype,{_lock:0,_hasPause:0,_forcing:0});var TL=function(t,e,n,i,o,l,c){var h=new gi(this._pt,t,e,0,1,_E,null,o),d=0,p=0,m,v,g,S,_,w,A,T;for(h.b=n,h.e=i,n+="",i+="",(A=~i.indexOf("random("))&&(i=Iu(i)),l&&(T=[n,i],l(T,t,e),n=T[0],i=T[1]),v=n.match(Fg)||[];m=Fg.exec(i);)S=m[0],_=i.substring(d,m.index),g?g=(g+1)%5:_.substr(-5)==="rgba("&&(g=1),S!==v[p++]&&(w=parseFloat(v[p-1])||0,h._pt={_next:h._pt,p:_||p===1?_:",",s:w,c:S.charAt(1)==="="?kl(w,S)-w:parseFloat(S)-w,m:g&&g<4?Math.round:0},d=Fg.lastIndex);return h.c=d<i.length?i.substring(d,i.length):"",h.fp=c,(jT.test(i)||A)&&(h.e=0),this._pt=h,h},J0=function(t,e,n,i,o,l,c,h,d,p){tn(i)&&(i=i(o||0,t,l));var m=t[e],v=n!=="get"?n:tn(m)?d?t[e.indexOf("set")||!tn(t["get"+e.substr(3)])?e:"get"+e.substr(3)](d):t[e]():m,g=tn(m)?d?RL:vE:ev,S;if(Cn(i)&&(~i.indexOf("random(")&&(i=Iu(i)),i.charAt(1)==="="&&(S=kl(v,i)+(Xn(v)||0),(S||S===0)&&(i=S))),!p||v!==i||Uy)return!isNaN(v*i)&&i!==""?(S=new gi(this._pt,t,e,+v||0,i-(v||0),typeof m=="boolean"?LL:bE,0,g),d&&(S.fp=d),c&&S.modifier(c,this,t),this._pt=S):(!m&&!(e in t)&&q0(e,i),TL.call(this,t,e,v,i,g,h||Ii.stringFilter,d))},EL=function(t,e,n,i,o){if(tn(t)&&(t=Au(t,o,e,n,i)),!qs(t)||t.style&&t.nodeType||qn(t)||IT(t))return Cn(t)?Au(t,o,e,n,i):t;var l={},c;for(c in t)l[c]=Au(t[c],o,e,n,i);return l},mE=function(t,e,n,i,o,l){var c,h,d,p;if(Oi[t]&&(c=new Oi[t]).init(o,c.rawVars?e[t]:EL(e[t],i,o,l,n),n,i,l)!==!1&&(n._pt=h=new gi(n._pt,o,t,0,1,c.render,c,0,c.priority),n!==El))for(d=n._ptLookup[n._targets.indexOf(o)],p=c._props.length;p--;)d[c._props[p]]=h;return c},fa,Uy,tv=function r(t,e,n){var i=t.vars,o=i.ease,l=i.startAt,c=i.immediateRender,h=i.lazy,d=i.onUpdate,p=i.runBackwards,m=i.yoyoEase,v=i.keyframes,g=i.autoRevert,S=t._dur,_=t._startAt,w=t._targets,A=t.parent,T=A&&A.data==="nested"?A.vars.targets:w,E=t._overwrite==="auto"&&!G0,D=t.timeline,C,L,R,k,F,$,H,at,et,q,W,O,N;if(D&&(!v||!o)&&(o="none"),t._ease=vo(o,ql.ease),t._yEase=m?hE(vo(m===!0?o:m,ql.ease)):0,m&&t._yoyo&&!t._repeat&&(m=t._yEase,t._yEase=t._ease,t._ease=m),t._from=!D&&!!i.runBackwards,!D||v&&!i.stagger){if(at=w[0]?go(w[0]).harness:0,O=at&&i[at.prop],C=xf(i,W0),_&&(_._zTime<0&&_.progress(1),e<0&&p&&c&&!g?_.render(-1,!0):_.revert(p&&S?sf:tL),_._lazy=0),l){if(wa(t._startAt=yn.set(w,Vi({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!_&&pi(h),startAt:null,delay:0,onUpdate:d&&function(){return Bi(t,"onUpdate")},stagger:0},l))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(Bn||!c&&!g)&&t._startAt.revert(sf),c&&S&&e<=0&&n<=0){e&&(t._zTime=e);return}}else if(p&&S&&!_){if(e&&(c=!1),R=Vi({overwrite:!1,data:"isFromStart",lazy:c&&!_&&pi(h),immediateRender:c,stagger:0,parent:A},C),O&&(R[at.prop]=O),wa(t._startAt=yn.set(w,R)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(Bn?t._startAt.revert(sf):t._startAt.render(-1,!0)),t._zTime=e,!c)r(t._startAt,Ce,Ce);else if(!e)return}for(t._pt=t._ptCache=0,h=S&&pi(h)||h&&!S,L=0;L<w.length;L++){if(F=w[L],H=F._gsap||Q0(w)[L]._gsap,t._ptLookup[L]=q={},By[H.id]&&ba.length&&wf(),W=T===w?L:T.indexOf(F),at&&(et=new at).init(F,O||C,t,W,T)!==!1&&(t._pt=k=new gi(t._pt,F,et.name,0,1,et.render,et,0,et.priority),et._props.forEach(function(z){q[z]=k}),et.priority&&($=1)),!at||O)for(R in C)Oi[R]&&(et=mE(R,C,t,W,F,T))?et.priority&&($=1):q[R]=k=J0.call(t,F,R,"get",C[R],W,T,0,i.stringFilter);t._op&&t._op[L]&&t.kill(F,t._op[L]),E&&t._pt&&(fa=t,Ge.killTweensOf(F,q,t.globalTime(e)),N=!t.parent,fa=0),t._pt&&h&&(By[H.id]=1)}$&&SE(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!N,v&&e<=0&&D.render(ls,!0,!0)},CL=function(t,e,n,i,o,l,c,h){var d=(t._pt&&t._ptCache||(t._ptCache={}))[e],p,m,v,g;if(!d)for(d=t._ptCache[e]=[],v=t._ptLookup,g=t._targets.length;g--;){if(p=v[g][e],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==e&&p.fp!==e;)p=p._next;if(!p)return Uy=1,t.vars[e]="+=0",tv(t,c),Uy=0,h?Bu(e+" not eligible for reset"):1;d.push(p)}for(g=d.length;g--;)m=d[g],p=m._pt||m,p.s=(i||i===0)&&!o?i:p.s+(i||0)+l*p.c,p.c=n-p.s,m.e&&(m.e=ln(n)+Xn(m.e)),m.b&&(m.b=p.s+Xn(m.b))},ML=function(t,e){var n=t[0]?go(t[0]).harness:0,i=n&&n.aliases,o,l,c,h;if(!i)return e;o=Wl({},e);for(l in i)if(l in o)for(h=i[l].split(","),c=h.length;c--;)o[h[c]]=o[l];return o},DL=function(t,e,n,i){var o=e.ease||i||"power1.inOut",l,c;if(qn(e))c=n[t]||(n[t]=[]),e.forEach(function(h,d){return c.push({t:d/(e.length-1)*100,v:h,e:o})});else for(l in e)c=n[l]||(n[l]=[]),l==="ease"||c.push({t:parseFloat(t),v:e[l],e:o})},Au=function(t,e,n,i,o){return tn(t)?t.call(e,n,i,o):Cn(t)&&~t.indexOf("random(")?Iu(t):t},gE=K0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yE={};mi(gE+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return yE[r]=1});var yn=(function(r){BT(t,r);function t(n,i,o,l){var c;typeof i=="number"&&(o.duration=i,i=o,o=null),c=r.call(this,l?i:_u(i))||this;var h=c.vars,d=h.duration,p=h.delay,m=h.immediateRender,v=h.stagger,g=h.overwrite,S=h.keyframes,_=h.defaults,w=h.scrollTrigger,A=h.yoyoEase,T=i.parent||Ge,E=(qn(n)||IT(n)?Lr(n[0]):"length"in i)?[n]:cs(n),D,C,L,R,k,F,$,H;if(c._targets=E.length?Q0(E):Bu("GSAP target "+n+" not found. https://gsap.com",!Ii.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=g,S||v||Nd(d)||Nd(p)){if(i=c.vars,D=c.timeline=new Jn({data:"nested",defaults:_||{},targets:T&&T.data==="nested"?T.vars.targets:E}),D.kill(),D.parent=D._dp=Ar(c),D._start=0,v||Nd(d)||Nd(p)){if(R=E.length,$=v&&eE(v),qs(v))for(k in v)~gE.indexOf(k)&&(H||(H={}),H[k]=v[k]);for(C=0;C<R;C++)L=xf(i,yE),L.stagger=0,A&&(L.yoyoEase=A),H&&Wl(L,H),F=E[C],L.duration=+Au(d,Ar(c),C,F,E),L.delay=(+Au(p,Ar(c),C,F,E)||0)-c._delay,!v&&R===1&&L.delay&&(c._delay=p=L.delay,c._start+=p,L.delay=0),D.to(F,L,$?$(C,F,E):0),D._ease=oe.none;D.duration()?d=p=0:c.timeline=0}else if(S){_u(Vi(D.vars.defaults,{ease:"none"})),D._ease=vo(S.ease||i.ease||"none");var at=0,et,q,W;if(qn(S))S.forEach(function(O){return D.to(E,O,">")}),D.duration();else{L={};for(k in S)k==="ease"||k==="easeEach"||DL(k,S[k],L,S.easeEach);for(k in L)for(et=L[k].sort(function(O,N){return O.t-N.t}),at=0,C=0;C<et.length;C++)q=et[C],W={ease:q.e,duration:(q.t-(C?et[C-1].t:0))/100*d},W[k]=q.v,D.to(E,W,at),at+=W.duration;D.duration()<d&&D.to({},{duration:d-D.duration()})}}d||c.duration(d=D.duration())}else c.timeline=0;return g===!0&&!G0&&(fa=Ar(c),Ge.killTweensOf(E),fa=0),Hs(T,Ar(c),o),i.reversed&&c.reverse(),i.paused&&c.paused(!0),(m||!d&&!S&&c._start===He(T._time)&&pi(m)&&aL(Ar(c))&&T.data!=="nested")&&(c._tTime=-Ce,c.render(Math.max(0,-p)||0)),w&&QT(Ar(c),w),c}var e=t.prototype;return e.render=function(i,o,l){var c=this._time,h=this._tDur,d=this._dur,p=i<0,m=i>h-Ce&&!p?h:i<Ce?0:i,v,g,S,_,w,A,T,E,D;if(!d)lL(this,i,o,l);else if(m!==this._tTime||!i||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=m,E=this.timeline,this._repeat){if(_=d+this._rDelay,this._repeat<-1&&p)return this.totalTime(_*100+i,o,l);if(v=He(m%_),m===h?(S=this._repeat,v=d):(w=He(m/_),S=~~w,S&&S===w?(v=d,S--):v>d&&(v=d)),A=this._yoyo&&S&1,A&&(D=this._yEase,v=d-v),w=Kl(this._tTime,_),v===c&&!l&&this._initted&&S===w)return this._tTime=m,this;S!==w&&(E&&this._yEase&&dE(E,A),this.vars.repeatRefresh&&!A&&!this._lock&&v!==_&&this._initted&&(this._lock=l=1,this.render(He(_*S),!0).invalidate()._lock=0))}if(!this._initted){if(ZT(this,p?i:v,l,o,m))return this._tTime=0,this;if(c!==this._time&&!(l&&this.vars.repeatRefresh&&S!==w))return this;if(d!==this._dur)return this.render(i,o,l)}if(this._tTime=m,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=T=(D||this._ease)(v/d),this._from&&(this.ratio=T=1-T),!c&&m&&!o&&!w&&(Bi(this,"onStart"),this._tTime!==m))return this;for(g=this._pt;g;)g.r(T,g.d),g=g._next;E&&E.render(i<0?i:E._dur*E._ease(v/this._dur),o,l)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(p&&Fy(this,i,o,l),Bi(this,"onUpdate")),this._repeat&&S!==w&&this.vars.onRepeat&&!o&&this.parent&&Bi(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(p&&!this._onUpdate&&Fy(this,i,!0,!0),(i||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&wa(this,1),!o&&!(p&&!c)&&(m||c||A)&&(Bi(this,m===h?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},e.resetTo=function(i,o,l,c,h){zu||ki.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||tv(this,d),p=this._ease(d/this._dur),CL(this,i,o,l,c,p,d,h)?this.resetTo(i,o,l,c,1):(np(this,0),this.parent||WT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?cu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Bn),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,fa&&fa.vars.overwrite!==!0)._first||cu(this),this.parent&&l!==this.timeline.totalDuration()&&Ql(this,this._dur*this.timeline._tDur/l,0,1),this}var c=this._targets,h=i?cs(i):c,d=this._ptLookup,p=this._pt,m,v,g,S,_,w,A;if((!o||o==="all")&&sL(c,h))return o==="all"&&(this._pt=0),cu(this);for(m=this._op=this._op||[],o!=="all"&&(Cn(o)&&(_={},mi(o,function(T){return _[T]=1}),o=_),o=ML(c,o)),A=c.length;A--;)if(~h.indexOf(c[A])){v=d[A],o==="all"?(m[A]=o,S=v,g={}):(g=m[A]=m[A]||{},S=o);for(_ in S)w=v&&v[_],w&&((!("kill"in w.d)||w.d.kill(_)===!0)&&tp(this,w,"_pt"),delete v[_]),g!=="all"&&(g[_]=1)}return this._initted&&!this._pt&&p&&cu(this),this},t.to=function(i,o){return new t(i,o,arguments[2])},t.from=function(i,o){return Su(1,arguments)},t.delayedCall=function(i,o,l,c){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:c})},t.fromTo=function(i,o,l){return Su(2,arguments)},t.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(i,o)},t.killTweensOf=function(i,o,l){return Ge.killTweensOf(i,o,l)},t})(ju);Vi(yn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});mi("staggerTo,staggerFrom,staggerFromTo",function(r){yn[r]=function(){var t=new Jn,e=zy.call(arguments,0);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var ev=function(t,e,n){return t[e]=n},vE=function(t,e,n){return t[e](n)},RL=function(t,e,n,i){return t[e](i.fp,n)},OL=function(t,e,n){return t.setAttribute(e,n)},nv=function(t,e){return tn(t[e])?vE:X0(t[e])&&t.setAttribute?OL:ev},bE=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},LL=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},_E=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(t===1&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},iv=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},kL=function(t,e,n,i){for(var o=this._pt,l;o;)l=o._next,o.p===i&&o.modifier(t,e,n),o=l},PL=function(t){for(var e=this._pt,n,i;e;)i=e._next,e.p===t&&!e.op||e.op===t?tp(this,e,"_pt"):e.dep||(n=1),e=i;return!n},NL=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},SE=function(t){for(var e=t._pt,n,i,o,l;e;){for(n=e._next,i=o;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:l)?e._prev._next=e:o=e,(e._next=i)?i._prev=e:l=e,e=n}t._pt=o},gi=(function(){function r(e,n,i,o,l,c,h,d,p){this.t=n,this.s=o,this.c=l,this.p=i,this.r=c||bE,this.d=h||this,this.set=d||ev,this.pr=p||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(n,i,o){this.mSet=this.mSet||this.set,this.set=NL,this.m=n,this.mt=o,this.tween=i},r})();mi(K0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return W0[r]=1});ji.TweenMax=ji.TweenLite=yn;ji.TimelineLite=ji.TimelineMax=Jn;Ge=new Jn({sortChildren:!1,defaults:ql,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ii.stringFilter=uE;var bo=[],af={},BL=[],Bw=0,FL=0,Ug=function(t){return(af[t]||BL).map(function(e){return e()})},Hy=function(){var t=Date.now(),e=[];t-Bw>2&&(Ug("matchMediaInit"),bo.forEach(function(n){var i=n.queries,o=n.conditions,l,c,h,d;for(c in i)l=js.matchMedia(i[c]).matches,l&&(h=1),l!==o[c]&&(o[c]=l,d=1);d&&(n.revert(),h&&e.push(n))}),Ug("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),Bw=t,Ug("matchMedia"))},AE=(function(){function r(e,n){this.selector=n&&jy(n),this.data=[],this._r=[],this.isReverted=!1,this.id=FL++,e&&this.add(e)}var t=r.prototype;return t.add=function(n,i,o){tn(n)&&(o=i,i=n,n=tn);var l=this,c=function(){var d=ze,p=l.selector,m;return d&&d!==l&&d.data.push(l),o&&(l.selector=jy(o)),ze=l,m=i.apply(l,arguments),tn(m)&&l._r.push(m),ze=d,l.selector=p,l.isReverted=!1,m};return l.last=c,n===tn?c(l,function(h){return l.add(null,h)}):n?l[n]=c:c},t.ignore=function(n){var i=ze;ze=null,n(this),ze=i},t.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof yn&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,i){var o=this;if(n?(function(){for(var c=o.getTweens(),h=o.data.length,d;h--;)d=o.data[h],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(p){return c.splice(c.indexOf(p),1)}));for(c.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,m){return m.g-p.g||-1/0}).forEach(function(p){return p.t.revert(n)}),h=o.data.length;h--;)d=o.data[h],d instanceof Jn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof yn)&&d.revert&&d.revert(n);o._r.forEach(function(p){return p(n,o)}),o.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),i)for(var l=bo.length;l--;)bo[l].id===this.id&&bo.splice(l,1)},t.revert=function(n){this.kill(n||{})},r})(),IL=(function(){function r(e){this.contexts=[],this.scope=e,ze&&ze.data.push(this)}var t=r.prototype;return t.add=function(n,i,o){qs(n)||(n={matches:n});var l=new AE(0,o||this.scope),c=l.conditions={},h,d,p;ze&&!l.selector&&(l.selector=ze.selector),this.contexts.push(l),i=l.add("onMatch",i),l.queries=n;for(d in n)d==="all"?p=1:(h=js.matchMedia(n[d]),h&&(bo.indexOf(l)<0&&bo.push(l),(c[d]=h.matches)&&(p=1),h.addListener?h.addListener(Hy):h.addEventListener("change",Hy)));return p&&i(l,function(m){return l.add(null,m)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r})(),Ef={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(i){return oE(i)})},timeline:function(t){return new Jn(t)},getTweensOf:function(t,e){return Ge.getTweensOf(t,e)},getProperty:function(t,e,n,i){Cn(t)&&(t=cs(t)[0]);var o=go(t||{}).get,l=n?qT:YT;return n==="native"&&(n=""),t&&(e?l((Oi[e]&&Oi[e].get||o)(t,e,n,i)):function(c,h,d){return l((Oi[c]&&Oi[c].get||o)(t,c,h,d))})},quickSetter:function(t,e,n){if(t=cs(t),t.length>1){var i=t.map(function(p){return vi.quickSetter(p,e,n)}),o=i.length;return function(p){for(var m=o;m--;)i[m](p)}}t=t[0]||{};var l=Oi[e],c=go(t),h=c.harness&&(c.harness.aliases||{})[e]||e,d=l?function(p){var m=new l;El._pt=0,m.init(t,n?p+n:p,El,0,[t]),m.render(1,m),El._pt&&iv(1,El)}:c.set(t,h);return l?d:function(p){return d(t,h,n?p+n:p,c,1)}},quickTo:function(t,e,n){var i,o=vi.to(t,Vi((i={},i[e]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),l=function(h,d,p){return o.resetTo(e,h,d,p)};return l.tween=o,l},isTweening:function(t){return Ge.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=vo(t.ease,ql.ease)),Ow(ql,t||{})},config:function(t){return Ow(Ii,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,o=t.defaults,l=t.extendTimeline;(i||"").split(",").forEach(function(c){return c&&!Oi[c]&&!ji[c]&&Bu(e+" effect requires "+c+" plugin.")}),Ig[e]=function(c,h,d){return n(cs(c),Vi(h||{},o),d)},l&&(Jn.prototype[e]=function(c,h,d){return this.add(Ig[e](c,qs(h)?h:(d=h)&&{},this),d)})},registerEase:function(t,e){oe[t]=vo(e)},parseEase:function(t,e){return arguments.length?vo(t,e):oe},getById:function(t){return Ge.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new Jn(t),i,o;for(n.smoothChildTiming=pi(t.smoothChildTiming),Ge.remove(n),n._dp=0,n._time=n._tTime=Ge._time,i=Ge._first;i;)o=i._next,(e||!(!i._dur&&i instanceof yn&&i.vars.onComplete===i._targets[0]))&&Hs(n,i,i._start-i._delay),i=o;return Hs(Ge,n,0),n},context:function(t,e){return t?new AE(t,e):ze},matchMedia:function(t){return new IL(t)},matchMediaRefresh:function(){return bo.forEach(function(t){var e=t.conditions,n,i;for(i in e)e[i]&&(e[i]=!1,n=1);n&&t.revert()})||Hy()},addEventListener:function(t,e){var n=af[t]||(af[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=af[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)},utils:{wrap:gL,wrapYoyo:yL,distribute:eE,random:iE,snap:nE,normalize:mL,getUnit:Xn,clamp:hL,splitColor:lE,toArray:cs,selector:jy,mapRange:rE,pipe:fL,unitize:pL,interpolate:vL,shuffle:tE},install:UT,effects:Ig,ticker:ki,updateRoot:Jn.updateRoot,plugins:Oi,globalTimeline:Ge,core:{PropTween:gi,globals:HT,Tween:yn,Timeline:Jn,Animation:ju,getCache:go,_removeLinkedListItem:tp,reverting:function(){return Bn},context:function(t){return t&&ze&&(ze.data.push(t),t._ctx=ze),ze},suppressOverwrites:function(t){return G0=t}}};mi("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Ef[r]=yn[r]});ki.add(Jn.updateRoot);El=Ef.to({},{duration:0});var zL=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},jL=function(t,e){var n=t._targets,i,o,l;for(i in e)for(o=n.length;o--;)l=t._ptLookup[o][i],l&&(l=l.d)&&(l._pt&&(l=zL(l,i)),l&&l.modifier&&l.modifier(e[i],t,n[o],i))},Hg=function(t,e){return{name:t,headless:1,rawVars:1,init:function(i,o,l){l._onInit=function(c){var h,d;if(Cn(o)&&(h={},mi(o,function(p){return h[p]=1}),o=h),e){h={};for(d in o)h[d]=e(o[d]);o=h}jL(c,o)}}}},vi=Ef.registerPlugin({name:"attr",init:function(t,e,n,i,o){var l,c,h;this.tween=n;for(l in e)h=t.getAttribute(l)||"",c=this.add(t,"setAttribute",(h||0)+"",e[l],i,o,0,0,l),c.op=l,c.b=h,this._props.push(l)},render:function(t,e){for(var n=e._pt;n;)Bn?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Hg("roundProps",Vy),Hg("modifiers"),Hg("snap",nE))||Ef;yn.version=Jn.version=vi.version="3.14.2";VT=1;$0()&&Zl();oe.Power0;oe.Power1;oe.Power2;oe.Power3;oe.Power4;oe.Linear;oe.Quad;oe.Cubic;oe.Quart;oe.Quint;oe.Strong;oe.Elastic;oe.Back;oe.SteppedEase;oe.Bounce;oe.Sine;oe.Expo;oe.Circ;var Fw,pa,Pl,sv,lo,Iw,rv,VL=function(){return typeof window<"u"},kr={},so=180/Math.PI,Nl=Math.PI/180,yl=Math.atan2,zw=1e8,av=/([A-Z])/g,UL=/(left|right|width|margin|padding|x)/i,HL=/[\s,\(]\S/,Xs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gy=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},GL=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},XL=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},$L=function(t,e){return e.set(e.t,e.p,t===1?e.e:t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},YL=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},wE=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},xE=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},qL=function(t,e,n){return t.style[e]=n},WL=function(t,e,n){return t.style.setProperty(e,n)},KL=function(t,e,n){return t._gsap[e]=n},QL=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},ZL=function(t,e,n,i,o){var l=t._gsap;l.scaleX=l.scaleY=n,l.renderTransform(o,l)},JL=function(t,e,n,i,o){var l=t._gsap;l[e]=n,l.renderTransform(o,l)},$e="transform",yi=$e+"Origin",tk=function r(t,e){var n=this,i=this.target,o=i.style,l=i._gsap;if(t in kr&&o){if(this.tfm=this.tfm||{},t!=="transform")t=Xs[t]||t,~t.indexOf(",")?t.split(",").forEach(function(c){return n.tfm[c]=xr(i,c)}):this.tfm[t]=l.x?l[t]:xr(i,t),t===yi&&(this.tfm.zOrigin=l.zOrigin);else return Xs.transform.split(",").forEach(function(c){return r.call(n,c,e)});if(this.props.indexOf($e)>=0)return;l.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(yi,e,"")),t=$e}(o||e)&&this.props.push(t,e,o[t])},TE=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ek=function(){var t=this.props,e=this.target,n=e.style,i=e._gsap,o,l;for(o=0;o<t.length;o+=3)t[o+1]?t[o+1]===2?e[t[o]](t[o+2]):e[t[o]]=t[o+2]:t[o+2]?n[t[o]]=t[o+2]:n.removeProperty(t[o].substr(0,2)==="--"?t[o]:t[o].replace(av,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)i[l]=this.tfm[l];i.svg&&(i.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),o=rv(),(!o||!o.isStart)&&!n[$e]&&(TE(n),i.zOrigin&&n[yi]&&(n[yi]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},EE=function(t,e){var n={target:t,props:[],revert:ek,save:tk};return t._gsap||vi.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(i){return n.save(i)}),n},CE,Xy=function(t,e){var n=pa.createElementNS?pa.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):pa.createElement(t);return n&&n.style?n:pa.createElement(t)},Fi=function r(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(av,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&r(t,Jl(e)||e,1)||""},jw="O,Moz,ms,Ms,Webkit".split(","),Jl=function(t,e,n){var i=e||lo,o=i.style,l=5;if(t in o&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);l--&&!(jw[l]+t in o););return l<0?null:(l===3?"ms":l>=0?jw[l]:"")+t},$y=function(){VL()&&window.document&&(Fw=window,pa=Fw.document,Pl=pa.documentElement,lo=Xy("div")||{style:{}},Xy("div"),$e=Jl($e),yi=$e+"Origin",lo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",CE=!!Jl("perspective"),rv=vi.core.reverting,sv=1)},Vw=function(t){var e=t.ownerSVGElement,n=Xy("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0),o;i.style.display="block",n.appendChild(i),Pl.appendChild(n);try{o=i.getBBox()}catch{}return n.removeChild(i),Pl.removeChild(n),o},Uw=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},ME=function(t){var e,n;try{e=t.getBBox()}catch{e=Vw(t),n=1}return e&&(e.width||e.height)||n||(e=Vw(t)),e&&!e.width&&!e.x&&!e.y?{x:+Uw(t,["x","cx","x1"])||0,y:+Uw(t,["y","cy","y1"])||0,width:0,height:0}:e},DE=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ME(t))},xa=function(t,e){if(e){var n=t.style,i;e in kr&&e!==yi&&(e=$e),n.removeProperty?(i=e.substr(0,2),(i==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(i==="--"?e:e.replace(av,"-$1").toLowerCase())):n.removeAttribute(e)}},ma=function(t,e,n,i,o,l){var c=new gi(t._pt,e,n,0,1,l?xE:wE);return t._pt=c,c.b=i,c.e=o,t._props.push(n),c},Hw={deg:1,rad:1,turn:1},nk={grid:1,flex:1},Ta=function r(t,e,n,i){var o=parseFloat(n)||0,l=(n+"").trim().substr((o+"").length)||"px",c=lo.style,h=UL.test(e),d=t.tagName.toLowerCase()==="svg",p=(d?"client":"offset")+(h?"Width":"Height"),m=100,v=i==="px",g=i==="%",S,_,w,A;if(i===l||!o||Hw[i]||Hw[l])return o;if(l!=="px"&&!v&&(o=r(t,e,n,"px")),A=t.getCTM&&DE(t),(g||l==="%")&&(kr[e]||~e.indexOf("adius")))return S=A?t.getBBox()[h?"width":"height"]:t[p],ln(g?o/S*m:o/100*S);if(c[h?"width":"height"]=m+(v?l:i),_=i!=="rem"&&~e.indexOf("adius")||i==="em"&&t.appendChild&&!d?t:t.parentNode,A&&(_=(t.ownerSVGElement||{}).parentNode),(!_||_===pa||!_.appendChild)&&(_=pa.body),w=_._gsap,w&&g&&w.width&&h&&w.time===ki.time&&!w.uncache)return ln(o/w.width*m);if(g&&(e==="height"||e==="width")){var T=t.style[e];t.style[e]=m+i,S=t[p],T?t.style[e]=T:xa(t,e)}else(g||l==="%")&&!nk[Fi(_,"display")]&&(c.position=Fi(t,"position")),_===t&&(c.position="static"),_.appendChild(lo),S=lo[p],_.removeChild(lo),c.position="absolute";return h&&g&&(w=go(_),w.time=ki.time,w.width=_[p]),ln(v?S*o/m:S&&o?m/S*o:0)},xr=function(t,e,n,i){var o;return sv||$y(),e in Xs&&e!=="transform"&&(e=Xs[e],~e.indexOf(",")&&(e=e.split(",")[0])),kr[e]&&e!=="transform"?(o=Uu(t,i),o=e!=="transformOrigin"?o[e]:o.svg?o.origin:Mf(Fi(t,yi))+" "+o.zOrigin+"px"):(o=t.style[e],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=Cf[e]&&Cf[e](t,e,n)||Fi(t,e)||XT(t,e)||(e==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?Ta(t,e,o,n)+n:o},ik=function(t,e,n,i){if(!n||n==="none"){var o=Jl(e,t,1),l=o&&Fi(t,o,1);l&&l!==n?(e=o,n=l):e==="borderColor"&&(n=Fi(t,"borderTopColor"))}var c=new gi(this._pt,t.style,e,0,1,_E),h=0,d=0,p,m,v,g,S,_,w,A,T,E,D,C;if(c.b=n,c.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=Fi(t,i.substring(4,i.indexOf(")")))),i==="auto"&&(_=t.style[e],t.style[e]=i,i=Fi(t,e)||i,_?t.style[e]=_:xa(t,e)),p=[n,i],uE(p),n=p[0],i=p[1],v=n.match(Tl)||[],C=i.match(Tl)||[],C.length){for(;m=Tl.exec(i);)w=m[0],T=i.substring(h,m.index),S?S=(S+1)%5:(T.substr(-5)==="rgba("||T.substr(-5)==="hsla(")&&(S=1),w!==(_=v[d++]||"")&&(g=parseFloat(_)||0,D=_.substr((g+"").length),w.charAt(1)==="="&&(w=kl(g,w)+D),A=parseFloat(w),E=w.substr((A+"").length),h=Tl.lastIndex-E.length,E||(E=E||Ii.units[e]||D,h===i.length&&(i+=E,c.e+=E)),D!==E&&(g=Ta(t,e,_,E)||0),c._pt={_next:c._pt,p:T||d===1?T:",",s:g,c:A-g,m:S&&S<4||e==="zIndex"?Math.round:0});c.c=h<i.length?i.substring(h,i.length):""}else c.r=e==="display"&&i==="none"?xE:wE;return jT.test(i)&&(c.e=0),this._pt=c,c},Gw={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},sk=function(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(t=n,n=i,i=t),e[0]=Gw[n]||n,e[1]=Gw[i]||i,e.join(" ")},rk=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,i=n.style,o=e.u,l=n._gsap,c,h,d;if(o==="all"||o===!0)i.cssText="",h=1;else for(o=o.split(","),d=o.length;--d>-1;)c=o[d],kr[c]&&(h=1,c=c==="transformOrigin"?yi:$e),xa(n,c);h&&(xa(n,$e),l&&(l.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Uu(n,1),l.uncache=1,TE(i)))}},Cf={clearProps:function(t,e,n,i,o){if(o.data!=="isFromStart"){var l=t._pt=new gi(t._pt,e,n,0,0,rk);return l.u=i,l.pr=-10,l.tween=o,t._props.push(n),1}}},Vu=[1,0,0,1,0,0],RE={},OE=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Xw=function(t){var e=Fi(t,$e);return OE(e)?Vu:e.substr(7).match(zT).map(ln)},ov=function(t,e){var n=t._gsap||go(t),i=t.style,o=Xw(t),l,c,h,d;return n.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,o=[h.a,h.b,h.c,h.d,h.e,h.f],o.join(",")==="1,0,0,1,0,0"?Vu:o):(o===Vu&&!t.offsetParent&&t!==Pl&&!n.svg&&(h=i.display,i.display="block",l=t.parentNode,(!l||!t.offsetParent&&!t.getBoundingClientRect().width)&&(d=1,c=t.nextElementSibling,Pl.appendChild(t)),o=Xw(t),h?i.display=h:xa(t,"display"),d&&(c?l.insertBefore(t,c):l?l.appendChild(t):Pl.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Yy=function(t,e,n,i,o,l){var c=t._gsap,h=o||ov(t,!0),d=c.xOrigin||0,p=c.yOrigin||0,m=c.xOffset||0,v=c.yOffset||0,g=h[0],S=h[1],_=h[2],w=h[3],A=h[4],T=h[5],E=e.split(" "),D=parseFloat(E[0])||0,C=parseFloat(E[1])||0,L,R,k,F;n?h!==Vu&&(R=g*w-S*_)&&(k=D*(w/R)+C*(-_/R)+(_*T-w*A)/R,F=D*(-S/R)+C*(g/R)-(g*T-S*A)/R,D=k,C=F):(L=ME(t),D=L.x+(~E[0].indexOf("%")?D/100*L.width:D),C=L.y+(~(E[1]||E[0]).indexOf("%")?C/100*L.height:C)),i||i!==!1&&c.smooth?(A=D-d,T=C-p,c.xOffset=m+(A*g+T*_)-A,c.yOffset=v+(A*S+T*w)-T):c.xOffset=c.yOffset=0,c.xOrigin=D,c.yOrigin=C,c.smooth=!!i,c.origin=e,c.originIsAbsolute=!!n,t.style[yi]="0px 0px",l&&(ma(l,c,"xOrigin",d,D),ma(l,c,"yOrigin",p,C),ma(l,c,"xOffset",m,c.xOffset),ma(l,c,"yOffset",v,c.yOffset)),t.setAttribute("data-svg-origin",D+" "+C)},Uu=function(t,e){var n=t._gsap||new pE(t);if("x"in n&&!e&&!n.uncache)return n;var i=t.style,o=n.scaleX<0,l="px",c="deg",h=getComputedStyle(t),d=Fi(t,yi)||"0",p,m,v,g,S,_,w,A,T,E,D,C,L,R,k,F,$,H,at,et,q,W,O,N,z,st,dt,P,j,Z,it,ft;return p=m=v=_=w=A=T=E=D=0,g=S=1,n.svg=!!(t.getCTM&&DE(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(i[$e]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[$e]!=="none"?h[$e]:"")),i.scale=i.rotate=i.translate="none"),R=ov(t,n.svg),n.svg&&(n.uncache?(z=t.getBBox(),d=n.xOrigin-z.x+"px "+(n.yOrigin-z.y)+"px",N=""):N=!e&&t.getAttribute("data-svg-origin"),Yy(t,N||d,!!N||n.originIsAbsolute,n.smooth!==!1,R)),C=n.xOrigin||0,L=n.yOrigin||0,R!==Vu&&(H=R[0],at=R[1],et=R[2],q=R[3],p=W=R[4],m=O=R[5],R.length===6?(g=Math.sqrt(H*H+at*at),S=Math.sqrt(q*q+et*et),_=H||at?yl(at,H)*so:0,T=et||q?yl(et,q)*so+_:0,T&&(S*=Math.abs(Math.cos(T*Nl))),n.svg&&(p-=C-(C*H+L*et),m-=L-(C*at+L*q))):(ft=R[6],Z=R[7],dt=R[8],P=R[9],j=R[10],it=R[11],p=R[12],m=R[13],v=R[14],k=yl(ft,j),w=k*so,k&&(F=Math.cos(-k),$=Math.sin(-k),N=W*F+dt*$,z=O*F+P*$,st=ft*F+j*$,dt=W*-$+dt*F,P=O*-$+P*F,j=ft*-$+j*F,it=Z*-$+it*F,W=N,O=z,ft=st),k=yl(-et,j),A=k*so,k&&(F=Math.cos(-k),$=Math.sin(-k),N=H*F-dt*$,z=at*F-P*$,st=et*F-j*$,it=q*$+it*F,H=N,at=z,et=st),k=yl(at,H),_=k*so,k&&(F=Math.cos(k),$=Math.sin(k),N=H*F+at*$,z=W*F+O*$,at=at*F-H*$,O=O*F-W*$,H=N,W=z),w&&Math.abs(w)+Math.abs(_)>359.9&&(w=_=0,A=180-A),g=ln(Math.sqrt(H*H+at*at+et*et)),S=ln(Math.sqrt(O*O+ft*ft)),k=yl(W,O),T=Math.abs(k)>2e-4?k*so:0,D=it?1/(it<0?-it:it):0),n.svg&&(N=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!OE(Fi(t,$e)),N&&t.setAttribute("transform",N))),Math.abs(T)>90&&Math.abs(T)<270&&(o?(g*=-1,T+=_<=0?180:-180,_+=_<=0?180:-180):(S*=-1,T+=T<=0?180:-180)),e=e||n.uncache,n.x=p-((n.xPercent=p&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-p)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+l,n.y=m-((n.yPercent=m&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-m)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+l,n.z=v+l,n.scaleX=ln(g),n.scaleY=ln(S),n.rotation=ln(_)+c,n.rotationX=ln(w)+c,n.rotationY=ln(A)+c,n.skewX=T+c,n.skewY=E+c,n.transformPerspective=D+l,(n.zOrigin=parseFloat(d.split(" ")[2])||!e&&n.zOrigin||0)&&(i[yi]=Mf(d)),n.xOffset=n.yOffset=0,n.force3D=Ii.force3D,n.renderTransform=n.svg?ok:CE?LE:ak,n.uncache=0,n},Mf=function(t){return(t=t.split(" "))[0]+" "+t[1]},Gg=function(t,e,n){var i=Xn(e);return ln(parseFloat(e)+parseFloat(Ta(t,"x",n+"px",i)))+i},ak=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,LE(t,e)},Za="0deg",nu="0px",Ja=") ",LE=function(t,e){var n=e||this,i=n.xPercent,o=n.yPercent,l=n.x,c=n.y,h=n.z,d=n.rotation,p=n.rotationY,m=n.rotationX,v=n.skewX,g=n.skewY,S=n.scaleX,_=n.scaleY,w=n.transformPerspective,A=n.force3D,T=n.target,E=n.zOrigin,D="",C=A==="auto"&&t&&t!==1||A===!0;if(E&&(m!==Za||p!==Za)){var L=parseFloat(p)*Nl,R=Math.sin(L),k=Math.cos(L),F;L=parseFloat(m)*Nl,F=Math.cos(L),l=Gg(T,l,R*F*-E),c=Gg(T,c,-Math.sin(L)*-E),h=Gg(T,h,k*F*-E+E)}w!==nu&&(D+="perspective("+w+Ja),(i||o)&&(D+="translate("+i+"%, "+o+"%) "),(C||l!==nu||c!==nu||h!==nu)&&(D+=h!==nu||C?"translate3d("+l+", "+c+", "+h+") ":"translate("+l+", "+c+Ja),d!==Za&&(D+="rotate("+d+Ja),p!==Za&&(D+="rotateY("+p+Ja),m!==Za&&(D+="rotateX("+m+Ja),(v!==Za||g!==Za)&&(D+="skew("+v+", "+g+Ja),(S!==1||_!==1)&&(D+="scale("+S+", "+_+Ja),T.style[$e]=D||"translate(0, 0)"},ok=function(t,e){var n=e||this,i=n.xPercent,o=n.yPercent,l=n.x,c=n.y,h=n.rotation,d=n.skewX,p=n.skewY,m=n.scaleX,v=n.scaleY,g=n.target,S=n.xOrigin,_=n.yOrigin,w=n.xOffset,A=n.yOffset,T=n.forceCSS,E=parseFloat(l),D=parseFloat(c),C,L,R,k,F;h=parseFloat(h),d=parseFloat(d),p=parseFloat(p),p&&(p=parseFloat(p),d+=p,h+=p),h||d?(h*=Nl,d*=Nl,C=Math.cos(h)*m,L=Math.sin(h)*m,R=Math.sin(h-d)*-v,k=Math.cos(h-d)*v,d&&(p*=Nl,F=Math.tan(d-p),F=Math.sqrt(1+F*F),R*=F,k*=F,p&&(F=Math.tan(p),F=Math.sqrt(1+F*F),C*=F,L*=F)),C=ln(C),L=ln(L),R=ln(R),k=ln(k)):(C=m,k=v,L=R=0),(E&&!~(l+"").indexOf("px")||D&&!~(c+"").indexOf("px"))&&(E=Ta(g,"x",l,"px"),D=Ta(g,"y",c,"px")),(S||_||w||A)&&(E=ln(E+S-(S*C+_*R)+w),D=ln(D+_-(S*L+_*k)+A)),(i||o)&&(F=g.getBBox(),E=ln(E+i/100*F.width),D=ln(D+o/100*F.height)),F="matrix("+C+","+L+","+R+","+k+","+E+","+D+")",g.setAttribute("transform",F),T&&(g.style[$e]=F)},lk=function(t,e,n,i,o){var l=360,c=Cn(o),h=parseFloat(o)*(c&&~o.indexOf("rad")?so:1),d=h-i,p=i+d+"deg",m,v;return c&&(m=o.split("_")[1],m==="short"&&(d%=l,d!==d%(l/2)&&(d+=d<0?l:-l)),m==="cw"&&d<0?d=(d+l*zw)%l-~~(d/l)*l:m==="ccw"&&d>0&&(d=(d-l*zw)%l-~~(d/l)*l)),t._pt=v=new gi(t._pt,e,n,i,d,GL),v.e=p,v.u="deg",t._props.push(n),v},$w=function(t,e){for(var n in e)t[n]=e[n];return t},ck=function(t,e,n){var i=$w({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",l=n.style,c,h,d,p,m,v,g,S;i.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),l[$e]=e,c=Uu(n,1),xa(n,$e),n.setAttribute("transform",d)):(d=getComputedStyle(n)[$e],l[$e]=e,c=Uu(n,1),l[$e]=d);for(h in kr)d=i[h],p=c[h],d!==p&&o.indexOf(h)<0&&(g=Xn(d),S=Xn(p),m=g!==S?Ta(n,h,d,S):parseFloat(d),v=parseFloat(p),t._pt=new gi(t._pt,c,h,m,v-m,Gy),t._pt.u=S||0,t._props.push(h));$w(c,i)};mi("padding,margin,Width,Radius",function(r,t){var e="Top",n="Right",i="Bottom",o="Left",l=(t<3?[e,n,i,o]:[e+o,e+n,i+n,i+o]).map(function(c){return t<2?r+c:"border"+c+r});Cf[t>1?"border"+r:r]=function(c,h,d,p,m){var v,g;if(arguments.length<4)return v=l.map(function(S){return xr(c,S,d)}),g=v.join(" "),g.split(v[0]).length===5?v[0]:g;v=(p+"").split(" "),g={},l.forEach(function(S,_){return g[S]=v[_]=v[_]||v[(_-1)/2|0]}),c.init(h,g,m)}});var kE={name:"css",register:$y,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,o){var l=this._props,c=t.style,h=n.vars.startAt,d,p,m,v,g,S,_,w,A,T,E,D,C,L,R,k,F;sv||$y(),this.styles=this.styles||EE(t),k=this.styles.props,this.tween=n;for(_ in e)if(_!=="autoRound"&&(p=e[_],!(Oi[_]&&mE(_,e,n,i,t,o)))){if(g=typeof p,S=Cf[_],g==="function"&&(p=p.call(n,i,t,o),g=typeof p),g==="string"&&~p.indexOf("random(")&&(p=Iu(p)),S)S(this,t,_,p,n)&&(R=1);else if(_.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(_)+"").trim(),p+="",_a.lastIndex=0,_a.test(d)||(w=Xn(d),A=Xn(p),A?w!==A&&(d=Ta(t,_,d,A)+A):w&&(p+=w)),this.add(c,"setProperty",d,p,i,o,0,0,_),l.push(_),k.push(_,0,c[_]);else if(g!=="undefined"){if(h&&_ in h?(d=typeof h[_]=="function"?h[_].call(n,i,t,o):h[_],Cn(d)&&~d.indexOf("random(")&&(d=Iu(d)),Xn(d+"")||d==="auto"||(d+=Ii.units[_]||Xn(xr(t,_))||""),(d+"").charAt(1)==="="&&(d=xr(t,_))):d=xr(t,_),v=parseFloat(d),T=g==="string"&&p.charAt(1)==="="&&p.substr(0,2),T&&(p=p.substr(2)),m=parseFloat(p),_ in Xs&&(_==="autoAlpha"&&(v===1&&xr(t,"visibility")==="hidden"&&m&&(v=0),k.push("visibility",0,c.visibility),ma(this,c,"visibility",v?"inherit":"hidden",m?"inherit":"hidden",!m)),_!=="scale"&&_!=="transform"&&(_=Xs[_],~_.indexOf(",")&&(_=_.split(",")[0]))),E=_ in kr,E){if(this.styles.save(_),F=p,g==="string"&&p.substring(0,6)==="var(--"){if(p=Fi(t,p.substring(4,p.indexOf(")"))),p.substring(0,5)==="calc("){var $=t.style.perspective;t.style.perspective=p,p=Fi(t,"perspective"),$?t.style.perspective=$:xa(t,"perspective")}m=parseFloat(p)}if(D||(C=t._gsap,C.renderTransform&&!e.parseTransform||Uu(t,e.parseTransform),L=e.smoothOrigin!==!1&&C.smooth,D=this._pt=new gi(this._pt,c,$e,0,1,C.renderTransform,C,0,-1),D.dep=1),_==="scale")this._pt=new gi(this._pt,C,"scaleY",C.scaleY,(T?kl(C.scaleY,T+m):m)-C.scaleY||0,Gy),this._pt.u=0,l.push("scaleY",_),_+="X";else if(_==="transformOrigin"){k.push(yi,0,c[yi]),p=sk(p),C.svg?Yy(t,p,0,L,0,this):(A=parseFloat(p.split(" ")[2])||0,A!==C.zOrigin&&ma(this,C,"zOrigin",C.zOrigin,A),ma(this,c,_,Mf(d),Mf(p)));continue}else if(_==="svgOrigin"){Yy(t,p,1,L,0,this);continue}else if(_ in RE){lk(this,C,_,v,T?kl(v,T+p):p);continue}else if(_==="smoothOrigin"){ma(this,C,"smooth",C.smooth,p);continue}else if(_==="force3D"){C[_]=p;continue}else if(_==="transform"){ck(this,p,t);continue}}else _ in c||(_=Jl(_)||_);if(E||(m||m===0)&&(v||v===0)&&!HL.test(p)&&_ in c)w=(d+"").substr((v+"").length),m||(m=0),A=Xn(p)||(_ in Ii.units?Ii.units[_]:w),w!==A&&(v=Ta(t,_,d,A)),this._pt=new gi(this._pt,E?C:c,_,v,(T?kl(v,T+m):m)-v,!E&&(A==="px"||_==="zIndex")&&e.autoRound!==!1?YL:Gy),this._pt.u=A||0,E&&F!==p?(this._pt.b=d,this._pt.e=F,this._pt.r=$L):w!==A&&A!=="%"&&(this._pt.b=d,this._pt.r=XL);else if(_ in c)ik.call(this,t,_,d,T?T+p:p);else if(_ in t)this.add(t,_,d||t[_],T?T+p:p,i,o);else if(_!=="parseTransform"){q0(_,p);continue}E||(_ in c?k.push(_,0,c[_]):typeof t[_]=="function"?k.push(_,2,t[_]()):k.push(_,1,d||t[_])),l.push(_)}}R&&SE(this)},render:function(t,e){if(e.tween._time||!rv())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:xr,aliases:Xs,getSetter:function(t,e,n){var i=Xs[e];return i&&i.indexOf(",")<0&&(e=i),e in kr&&e!==yi&&(t._gsap.x||xr(t,"x"))?n&&Iw===n?e==="scale"?QL:KL:(Iw=n||{})&&(e==="scale"?ZL:JL):t.style&&!X0(t.style[e])?qL:~e.indexOf("-")?WL:nv(t,e)},core:{_removeProperty:xa,_getMatrix:ov}};vi.utils.checkPrefix=Jl;vi.core.getStyleSaver=EE;(function(r,t,e,n){var i=mi(r+","+t+","+e,function(o){kr[o]=1});mi(t,function(o){Ii.units[o]="deg",RE[o]=1}),Xs[i[13]]=r+","+t,mi(n,function(o){var l=o.split(":");Xs[l[1]]=i[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");mi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Ii.units[r]="px"});vi.registerPlugin(kE);var Ea=vi.registerPlugin(kE)||vi;Ea.core.Tween;let Yw=typeof document<"u"?U.useLayoutEffect:U.useEffect,qw=r=>r&&!Array.isArray(r)&&typeof r=="object",Bd=[],uk={},PE=Ea;const Ca=(r,t=Bd)=>{let e=uk;qw(r)?(e=r,r=null,t="dependencies"in e?e.dependencies:Bd):qw(t)&&(e=t,t="dependencies"in e?e.dependencies:Bd),r&&typeof r!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=e,o=U.useRef(!1),l=U.useRef(PE.context(()=>{},n)),c=U.useRef(d=>l.current.add(null,d)),h=t&&t.length&&!i;return h&&Yw(()=>(o.current=!0,()=>l.current.revert()),Bd),Yw(()=>{if(r&&l.current.add(r,n),!h||!o.current)return()=>l.current.revert()},t),{context:l.current,contextSafe:c.current}};Ca.register=r=>{PE=r};Ca.headless=!0;const NE=U.createContext({});function lv(r){const t=U.useRef(null);return t.current===null&&(t.current=r()),t.current}const BE=typeof window<"u",FE=BE?U.useLayoutEffect:U.useEffect,cv=U.createContext(null);function uv(r,t){r.indexOf(t)===-1&&r.push(t)}function hv(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const Ws=(r,t,e)=>e>t?t:e<r?r:e;let dv=()=>{};const Pr={},IE=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function zE(r){return typeof r=="object"&&r!==null}const jE=r=>/^0[^.\s]+$/u.test(r);function fv(r){let t;return()=>(t===void 0&&(t=r()),t)}const ds=r=>r,hk=(r,t)=>e=>t(r(e)),rh=(...r)=>r.reduce(hk),Hu=(r,t,e)=>{const n=t-r;return n===0?1:(e-r)/n};class pv{constructor(){this.subscriptions=[]}add(t){return uv(this.subscriptions,t),()=>hv(this.subscriptions,t)}notify(t,e,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,e,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=r=>r*1e3,us=r=>r/1e3;function VE(r,t){return t?r*(1e3/t):0}const UE=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,dk=1e-7,fk=12;function pk(r,t,e,n,i){let o,l,c=0;do l=t+(e-t)/2,o=UE(l,n,i)-r,o>0?e=l:t=l;while(Math.abs(o)>dk&&++c<fk);return l}function ah(r,t,e,n){if(r===t&&e===n)return ds;const i=o=>pk(o,0,1,r,e);return o=>o===0||o===1?o:UE(i(o),t,n)}const HE=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,GE=r=>t=>1-r(1-t),XE=ah(.33,1.53,.69,.99),mv=GE(XE),$E=HE(mv),YE=r=>(r*=2)<1?.5*mv(r):.5*(2-Math.pow(2,-10*(r-1))),gv=r=>1-Math.sin(Math.acos(r)),qE=GE(gv),WE=HE(gv),mk=ah(.42,0,1,1),gk=ah(0,0,.58,1),KE=ah(.42,0,.58,1),yk=r=>Array.isArray(r)&&typeof r[0]!="number",QE=r=>Array.isArray(r)&&typeof r[0]=="number",vk={linear:ds,easeIn:mk,easeInOut:KE,easeOut:gk,circIn:gv,circInOut:WE,circOut:qE,backIn:mv,backInOut:$E,backOut:XE,anticipate:YE},bk=r=>typeof r=="string",Ww=r=>{if(QE(r)){dv(r.length===4);const[t,e,n,i]=r;return ah(t,e,n,i)}else if(bk(r))return vk[r];return r},Fd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _k(r,t){let e=new Set,n=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(d.schedule(p),r()),p(c)}const d={schedule:(p,m=!1,v=!1)=>{const S=v&&i?e:n;return m&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,i){o=!0;return}i=!0,[e,n]=[n,e],e.forEach(h),e.clear(),i=!1,o&&(o=!1,d.process(p))}};return d}const Sk=40;function ZE(r,t){let e=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=Fd.reduce((E,D)=>(E[D]=_k(o),E),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:p,update:m,preRender:v,render:g,postRender:S}=l,_=()=>{const E=Pr.useManualTiming?i.timestamp:performance.now();e=!1,Pr.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,Sk),1)),i.timestamp=E,i.isProcessing=!0,c.process(i),h.process(i),d.process(i),p.process(i),m.process(i),v.process(i),g.process(i),S.process(i),i.isProcessing=!1,e&&t&&(n=!1,r(_))},w=()=>{e=!0,n=!0,i.isProcessing||r(_)};return{schedule:Fd.reduce((E,D)=>{const C=l[D];return E[D]=(L,R=!1,k=!1)=>(e||w(),C.schedule(L,R,k)),E},{}),cancel:E=>{for(let D=0;D<Fd.length;D++)l[Fd[D]].cancel(E)},state:i,steps:l}}const{schedule:Me,cancel:Ks,state:Pn,steps:Xg}=ZE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let of;function Ak(){of=void 0}const ti={now:()=>(of===void 0&&ti.set(Pn.isProcessing||Pr.useManualTiming?Pn.timestamp:performance.now()),of),set:r=>{of=r,queueMicrotask(Ak)}},JE=r=>t=>typeof t=="string"&&t.startsWith(r),tC=JE("--"),wk=JE("var(--"),yv=r=>wk(r)?xk.test(r.split("/*")[0].trim()):!1,xk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Kw(r){return typeof r!="string"?!1:r.split("/*")[0].includes("var(--")}const ac={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Gu={...ac,transform:r=>Ws(0,1,r)},Id={...ac,default:1},wu=r=>Math.round(r*1e5)/1e5,vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tk(r){return r==null}const Ek=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bv=(r,t)=>e=>!!(typeof e=="string"&&Ek.test(e)&&e.startsWith(r)||t&&!Tk(e)&&Object.prototype.hasOwnProperty.call(e,t)),eC=(r,t,e)=>n=>{if(typeof n!="string")return n;const[i,o,l,c]=n.match(vv);return{[r]:parseFloat(i),[t]:parseFloat(o),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Ck=r=>Ws(0,255,r),$g={...ac,transform:r=>Math.round(Ck(r))},co={test:bv("rgb","red"),parse:eC("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:n=1})=>"rgba("+$g.transform(r)+", "+$g.transform(t)+", "+$g.transform(e)+", "+wu(Gu.transform(n))+")"};function Mk(r){let t="",e="",n="",i="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),t+=t,e+=e,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const qy={test:bv("#"),parse:Mk,transform:co.transform},oh=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),ua=oh("deg"),$s=oh("%"),Tt=oh("px"),Dk=oh("vh"),Rk=oh("vw"),Qw={...$s,parse:r=>$s.parse(r)/100,transform:r=>$s.transform(r*100)},Cl={test:bv("hsl","hue"),parse:eC("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(r)+", "+$s.transform(wu(t))+", "+$s.transform(wu(e))+", "+wu(Gu.transform(n))+")"},gn={test:r=>co.test(r)||qy.test(r)||Cl.test(r),parse:r=>co.test(r)?co.parse(r):Cl.test(r)?Cl.parse(r):qy.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?co.transform(r):Cl.transform(r),getAnimatableNone:r=>{const t=gn.parse(r);return t.alpha=0,gn.transform(t)}},Ok=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lk(r){return isNaN(r)&&typeof r=="string"&&(r.match(vv)?.length||0)+(r.match(Ok)?.length||0)>0}const nC="number",iC="color",kk="var",Pk="var(",Zw="${}",Nk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(r){const t=r.toString(),e=[],n={color:[],number:[],var:[]},i=[];let o=0;const c=t.replace(Nk,h=>(gn.test(h)?(n.color.push(o),i.push(iC),e.push(gn.parse(h))):h.startsWith(Pk)?(n.var.push(o),i.push(kk),e.push(h)):(n.number.push(o),i.push(nC),e.push(parseFloat(h))),++o,Zw)).split(Zw);return{values:e,split:c,indexes:n,types:i}}function sC(r){return Xu(r).values}function rC(r){const{split:t,types:e}=Xu(r),n=t.length;return i=>{let o="";for(let l=0;l<n;l++)if(o+=t[l],i[l]!==void 0){const c=e[l];c===nC?o+=wu(i[l]):c===iC?o+=gn.transform(i[l]):o+=i[l]}return o}}const Bk=r=>typeof r=="number"?0:gn.test(r)?gn.getAnimatableNone(r):r;function Fk(r){const t=sC(r);return rC(r)(t.map(Bk))}const Ma={test:Lk,parse:sC,createTransformer:rC,getAnimatableNone:Fk};function Yg(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function Ik({hue:r,saturation:t,lightness:e,alpha:n}){r/=360,t/=100,e/=100;let i=0,o=0,l=0;if(!t)i=o=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;i=Yg(h,c,r+1/3),o=Yg(h,c,r),l=Yg(h,c,r-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function Df(r,t){return e=>e>0?t:r}const Ye=(r,t,e)=>r+(t-r)*e,qg=(r,t,e)=>{const n=r*r,i=e*(t*t-n)+n;return i<0?0:Math.sqrt(i)},zk=[qy,co,Cl],jk=r=>zk.find(t=>t.test(r));function Jw(r){const t=jk(r);if(!t)return!1;let e=t.parse(r);return t===Cl&&(e=Ik(e)),e}const t1=(r,t)=>{const e=Jw(r),n=Jw(t);if(!e||!n)return Df(r,t);const i={...e};return o=>(i.red=qg(e.red,n.red,o),i.green=qg(e.green,n.green,o),i.blue=qg(e.blue,n.blue,o),i.alpha=Ye(e.alpha,n.alpha,o),co.transform(i))},Wy=new Set(["none","hidden"]);function Vk(r,t){return Wy.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function Uk(r,t){return e=>Ye(r,t,e)}function _v(r){return typeof r=="number"?Uk:typeof r=="string"?yv(r)?Df:gn.test(r)?t1:Xk:Array.isArray(r)?aC:typeof r=="object"?gn.test(r)?t1:Hk:Df}function aC(r,t){const e=[...r],n=e.length,i=r.map((o,l)=>_v(o)(o,t[l]));return o=>{for(let l=0;l<n;l++)e[l]=i[l](o);return e}}function Hk(r,t){const e={...r,...t},n={};for(const i in e)r[i]!==void 0&&t[i]!==void 0&&(n[i]=_v(r[i])(r[i],t[i]));return i=>{for(const o in n)e[o]=n[o](i);return e}}function Gk(r,t){const e=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=r.indexes[o][n[o]],c=r.values[l]??0;e[i]=c,n[o]++}return e}const Xk=(r,t)=>{const e=Ma.createTransformer(t),n=Xu(r),i=Xu(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Wy.has(r)&&!i.values.length||Wy.has(t)&&!n.values.length?Vk(r,t):rh(aC(Gk(n,i),i.values),e):Df(r,t)};function oC(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?Ye(r,t,e):_v(r)(r,t)}const $k=r=>{const t=({timestamp:e})=>r(e);return{start:(e=!0)=>Me.update(t,e),stop:()=>Ks(t),now:()=>Pn.isProcessing?Pn.timestamp:ti.now()}},lC=(r,t,e=10)=>{let n="";const i=Math.max(Math.round(t/e),2);for(let o=0;o<i;o++)n+=Math.round(r(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Rf=2e4;function Sv(r){let t=0;const e=50;let n=r.next(t);for(;!n.done&&t<Rf;)t+=e,n=r.next(t);return t>=Rf?1/0:t}function Yk(r,t=100,e){const n=e({...r,keyframes:[0,t]}),i=Math.min(Sv(n),Rf);return{type:"keyframes",ease:o=>n.next(i*o).value/t,duration:us(i)}}const qk=5;function cC(r,t,e){const n=Math.max(t-qk,0);return VE(e-r(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wg=.001;function Wk({duration:r=Je.duration,bounce:t=Je.bounce,velocity:e=Je.velocity,mass:n=Je.mass}){let i,o,l=1-t;l=Ws(Je.minDamping,Je.maxDamping,l),r=Ws(Je.minDuration,Je.maxDuration,us(r)),l<1?(i=d=>{const p=d*l,m=p*r,v=p-e,g=Ky(d,l),S=Math.exp(-m);return Wg-v/g*S},o=d=>{const m=d*l*r,v=m*e+e,g=Math.pow(l,2)*Math.pow(d,2)*r,S=Math.exp(-m),_=Ky(Math.pow(d,2),l);return(-i(d)+Wg>0?-1:1)*((v-g)*S)/_}):(i=d=>{const p=Math.exp(-d*r),m=(d-e)*r+1;return-Wg+p*m},o=d=>{const p=Math.exp(-d*r),m=(e-d)*(r*r);return p*m});const c=5/r,h=Qk(i,o,c);if(r=Rr(r),isNaN(h))return{stiffness:Je.stiffness,damping:Je.damping,duration:r};{const d=Math.pow(h,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:r}}}const Kk=12;function Qk(r,t,e){let n=e;for(let i=1;i<Kk;i++)n=n-r(n)/t(n);return n}function Ky(r,t){return r*Math.sqrt(1-t*t)}const Zk=["duration","bounce"],Jk=["stiffness","damping","mass"];function e1(r,t){return t.some(e=>r[e]!==void 0)}function tP(r){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...r};if(!e1(r,Jk)&&e1(r,Zk))if(r.visualDuration){const e=r.visualDuration,n=2*Math.PI/(e*1.2),i=n*n,o=2*Ws(.05,1,1-(r.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:o}}else{const e=Wk(r);t={...t,...e,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Of(r=Je.visualDuration,t=Je.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:n,restDelta:i}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:d,mass:p,duration:m,velocity:v,isResolvedFromDuration:g}=tP({...e,velocity:-us(e.velocity||0)}),S=v||0,_=d/(2*Math.sqrt(h*p)),w=l-o,A=us(Math.sqrt(h/p)),T=Math.abs(w)<5;n||(n=T?Je.restSpeed.granular:Je.restSpeed.default),i||(i=T?Je.restDelta.granular:Je.restDelta.default);let E;if(_<1){const C=Ky(A,_);E=L=>{const R=Math.exp(-_*A*L);return l-R*((S+_*A*w)/C*Math.sin(C*L)+w*Math.cos(C*L))}}else if(_===1)E=C=>l-Math.exp(-A*C)*(w+(S+A*w)*C);else{const C=A*Math.sqrt(_*_-1);E=L=>{const R=Math.exp(-_*A*L),k=Math.min(C*L,300);return l-R*((S+_*A*w)*Math.sinh(k)+C*w*Math.cosh(k))/C}}const D={calculatedDuration:g&&m||null,next:C=>{const L=E(C);if(g)c.done=C>=m;else{let R=C===0?S:0;_<1&&(R=C===0?Rr(S):cC(E,C,L));const k=Math.abs(R)<=n,F=Math.abs(l-L)<=i;c.done=k&&F}return c.value=c.done?l:L,c},toString:()=>{const C=Math.min(Sv(D),Rf),L=lC(R=>D.next(C*R).value,C,30);return C+"ms "+L},toTransition:()=>{}};return D}Of.applyToOptions=r=>{const t=Yk(r,100,Of);return r.ease=t.ease,r.duration=Rr(t.duration),r.type="keyframes",r};function Qy({keyframes:r,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:p}){const m=r[0],v={done:!1,value:m},g=k=>c!==void 0&&k<c||h!==void 0&&k>h,S=k=>c===void 0?h:h===void 0||Math.abs(c-k)<Math.abs(h-k)?c:h;let _=e*t;const w=m+_,A=l===void 0?w:l(w);A!==w&&(_=A-m);const T=k=>-_*Math.exp(-k/n),E=k=>A+T(k),D=k=>{const F=T(k),$=E(k);v.done=Math.abs(F)<=d,v.value=v.done?A:$};let C,L;const R=k=>{g(v.value)&&(C=k,L=Of({keyframes:[v.value,S(v.value)],velocity:cC(E,k,v.value),damping:i,stiffness:o,restDelta:d,restSpeed:p}))};return R(0),{calculatedDuration:null,next:k=>{let F=!1;return!L&&C===void 0&&(F=!0,D(k),R(k)),C!==void 0&&k>=C?L.next(k-C):(!F&&D(k),v)}}}function eP(r,t,e){const n=[],i=e||Pr.mix||oC,o=r.length-1;for(let l=0;l<o;l++){let c=i(r[l],r[l+1]);if(t){const h=Array.isArray(t)?t[l]||ds:t;c=rh(h,c)}n.push(c)}return n}function uC(r,t,{clamp:e=!0,ease:n,mixer:i}={}){const o=r.length;if(dv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=r[0]===r[1];r[0]>r[o-1]&&(r=[...r].reverse(),t=[...t].reverse());const c=eP(t,n,i),h=c.length,d=p=>{if(l&&p<r[0])return t[0];let m=0;if(h>1)for(;m<r.length-2&&!(p<r[m+1]);m++);const v=Hu(r[m],r[m+1],p);return c[m](v)};return e?p=>d(Ws(r[0],r[o-1],p)):d}function nP(r,t){const e=r[r.length-1];for(let n=1;n<=t;n++){const i=Hu(0,t,n);r.push(Ye(e,1,i))}}function iP(r){const t=[0];return nP(t,r.length-1),t}function sP(r,t){return r.map(e=>e*t)}function rP(r,t){return r.map(()=>t||KE).splice(0,r.length-1)}function xu({duration:r=300,keyframes:t,times:e,ease:n="easeInOut"}){const i=yk(n)?n.map(Ww):Ww(n),o={done:!1,value:t[0]},l=sP(e&&e.length===t.length?e:iP(t),r),c=uC(l,t,{ease:Array.isArray(i)?i:rP(t,i)});return{calculatedDuration:r,next:h=>(o.value=c(h),o.done=h>=r,o)}}const aP=r=>r!==null;function Av(r,{repeat:t,repeatType:e="loop"},n,i=1){const o=r.filter(aP),c=i<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!c||n===void 0?o[c]:n}const oP={decay:Qy,inertia:Qy,tween:xu,keyframes:xu,spring:Of};function hC(r){typeof r.type=="string"&&(r.type=oP[r.type])}class wv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const lP=r=>r/100;class xv extends wv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==ti.now()&&this.tick(ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hC(t);const{type:e=xu,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const h=e||xu;h!==xu&&typeof c[0]!="number"&&(this.mixKeyframes=rh(lP,oC(c[0],c[1])),c=[0,100]);const d=h({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Sv(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:p,repeat:m,repeatType:v,repeatDelay:g,type:S,onUpdate:_,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,D=n;if(m){const k=Math.min(this.currentTime,i)/c;let F=Math.floor(k),$=k%1;!$&&k>=1&&($=1),$===1&&F--,F=Math.min(F,m+1),F%2&&(v==="reverse"?($=1-$,g&&($-=g/c)):v==="mirror"&&(D=l)),E=Ws(0,1,$)*c}const C=T?{done:!1,value:p[0]}:D.next(E);o&&(C.value=o(C.value));let{done:L}=C;!T&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return R&&S!==Qy&&(C.value=Av(p,this.options,w,this.speed)),_&&_(C.value),R&&this.finish(),C}then(t,e){return this.finished.then(t,e)}get duration(){return us(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+us(t)}get time(){return us(this.currentTime)}set time(t){t=Rr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ti.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=us(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$k,startTime:e}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function cP(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const uo=r=>r*180/Math.PI,Zy=r=>{const t=uo(Math.atan2(r[1],r[0]));return Jy(t)},uP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Zy,rotateZ:Zy,skewX:r=>uo(Math.atan(r[1])),skewY:r=>uo(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Jy=r=>(r=r%360,r<0&&(r+=360),r),n1=Zy,i1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),s1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),hP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i1,scaleY:s1,scale:r=>(i1(r)+s1(r))/2,rotateX:r=>Jy(uo(Math.atan2(r[6],r[5]))),rotateY:r=>Jy(uo(Math.atan2(-r[2],r[0]))),rotateZ:n1,rotate:n1,skewX:r=>uo(Math.atan(r[4])),skewY:r=>uo(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function t0(r){return r.includes("scale")?1:0}function e0(r,t){if(!r||r==="none")return t0(t);const e=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(e)n=hP,i=e;else{const c=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=uP,i=c}if(!i)return t0(t);const o=n[t],l=i[1].split(",").map(fP);return typeof o=="function"?o(l):l[o]}const dP=(r,t)=>{const{transform:e="none"}=getComputedStyle(r);return e0(e,t)};function fP(r){return parseFloat(r.trim())}const oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lc=new Set(oc),r1=r=>r===ac||r===Tt,pP=new Set(["x","y","z"]),mP=oc.filter(r=>!pP.has(r));function gP(r){const t=[];return mP.forEach(e=>{const n=r.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const ga={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>e0(t,"x"),y:(r,{transform:t})=>e0(t,"y")};ga.translateX=ga.x;ga.translateY=ga.y;const _o=new Set;let n0=!1,i0=!1,s0=!1;function dC(){if(i0){const r=Array.from(_o).filter(n=>n.needsMeasurement),t=new Set(r.map(n=>n.element)),e=new Map;t.forEach(n=>{const i=gP(n);i.length&&(e.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=e.get(n);i&&i.forEach(([o,l])=>{n.getValue(o)?.set(l)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}i0=!1,n0=!1,_o.forEach(r=>r.complete(s0)),_o.clear()}function fC(){_o.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(i0=!0)})}function yP(){s0=!0,fC(),dC(),s0=!1}class Tv{constructor(t,e,n,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(_o.add(this),n0||(n0=!0,Me.read(fC),Me.resolveKeyframes(dC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:i}=this;if(t[0]===null){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&e){const c=n.readValue(e,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}cP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),_o.delete(this)}cancel(){this.state==="scheduled"&&(_o.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vP=r=>r.startsWith("--");function bP(r,t,e){vP(t)?r.style.setProperty(t,e):r.style[t]=e}const _P=fv(()=>window.ScrollTimeline!==void 0),SP={};function AP(r,t){const e=fv(r);return()=>SP[t]??e()}const pC=AP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hu=([r,t,e,n])=>`cubic-bezier(${r}, ${t}, ${e}, ${n})`,a1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hu([0,.65,.55,1]),circOut:hu([.55,0,1,.45]),backIn:hu([.31,.01,.66,-.59]),backOut:hu([.33,1.53,.69,.99])};function mC(r,t){if(r)return typeof r=="function"?pC()?lC(r,t):"ease-out":QE(r)?hu(r):Array.isArray(r)?r.map(e=>mC(e,t)||a1.easeOut):a1[r]}function wP(r,t,e,{delay:n=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:h}={},d=void 0){const p={[t]:e};h&&(p.offset=h);const m=mC(c,i);Array.isArray(m)&&(p.easing=m);const v={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),r.animate(p,v)}function gC(r){return typeof r=="function"&&"applyToOptions"in r}function xP({type:r,...t}){return gC(r)&&pC()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TP extends wv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:n,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,dv(typeof t.type!="string");const d=xP(t);this.animation=wP(e,n,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Av(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):bP(e,n,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return us(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+us(t)}get time(){return us(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Rr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&_P()?(this.animation.timeline=t,ds):e(this)}}const yC={anticipate:YE,backInOut:$E,circInOut:WE};function EP(r){return r in yC}function CP(r){typeof r.ease=="string"&&EP(r.ease)&&(r.ease=yC[r.ease])}const Kg=10;class MP extends TP{constructor(t){CP(t),hC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:i,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new xv({...l,autoplay:!1}),h=Math.max(Kg,ti.now()-this.startTime),d=Ws(0,Kg,h-Kg);e.setWithVelocity(c.sample(Math.max(0,h-d)).value,c.sample(h).value,d),c.stop()}}const o1=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ma.test(r)||r==="0")&&!r.startsWith("url("));function DP(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function RP(r,t,e,n){const i=r[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=r[r.length-1],l=o1(i,t),c=o1(o,t);return!l||!c?!1:DP(r)||(e==="spring"||gC(e))&&n}function r0(r){r.duration=0,r.type="keyframes"}const OP=new Set(["opacity","clipPath","filter","transform"]),LP=fv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kP(r){const{motionValue:t,name:e,repeatDelay:n,repeatType:i,damping:o,type:l}=r;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=t.owner.getProps();return LP()&&e&&OP.has(e)&&(e!=="transform"||!d)&&!h&&!n&&i!=="mirror"&&o!==0&&l!=="inertia"}const PP=40;class NP extends wv{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ti.now();const v={autoplay:t,delay:e,type:n,repeat:i,repeatDelay:o,repeatType:l,name:h,motionValue:d,element:p,...m},g=p?.KeyframeResolver||Tv;this.keyframeResolver=new g(c,(S,_,w)=>this.onKeyframesResolved(S,_,v,!w),h,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:h,isHandoff:d,onUpdate:p}=n;this.resolvedAt=ti.now(),RP(t,o,l,c)||((Pr.instantAnimations||!h)&&p?.(Av(t,n,e)),t[0]=t[t.length-1],r0(n),n.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>PP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},g=!d&&kP(v),S=v.motionValue?.owner?.current,_=g?new MP({...v,element:S}):new xv(v);_.finished.then(()=>{this.notifyFinished()}).catch(ds),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function vC(r,t,e,n=0,i=1){const o=Array.from(r).sort((d,p)=>d.sortNodePosition(p)).indexOf(t),l=r.size,c=(l-1)*n;return typeof e=="function"?e(o,l):i===1?o*n:c-o*n}const BP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FP(r){const t=BP.exec(r);if(!t)return[,];const[,e,n,i]=t;return[`--${e??n}`,i]}function bC(r,t,e=1){const[n,i]=FP(r);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return IE(l)?parseFloat(l):l}return yv(i)?bC(i,t,e+1):i}const IP={type:"spring",stiffness:500,damping:25,restSpeed:10},zP=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),jP={type:"keyframes",duration:.8},VP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UP=(r,{keyframes:t})=>t.length>2?jP:lc.has(r)?r.startsWith("scale")?zP(t[1]):IP:VP,HP=r=>r!==null;function GP(r,{repeat:t,repeatType:e="loop"},n){const i=r.filter(HP),o=t&&e!=="loop"&&t%2===1?0:i.length-1;return i[o]}function Ev(r,t){return r?.[t]??r?.default??r}function XP({when:r,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:d,...p}){return!!Object.keys(p).length}const Cv=(r,t,e,n={},i,o)=>l=>{const c=Ev(n,r)||{},h=c.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Rr(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:r,motionValue:t,element:o?void 0:i};XP(c)||Object.assign(p,UP(r,p)),p.duration&&(p.duration=Rr(p.duration)),p.repeatDelay&&(p.repeatDelay=Rr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(r0(p),p.delay===0&&(m=!0)),(Pr.instantAnimations||Pr.skipAnimations)&&(m=!0,r0(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&t.get()!==void 0){const v=GP(p.keyframes,c);if(v!==void 0){Me.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new xv(p):new NP(p)};function l1(r){const t=[{},{}];return r?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Mv(r,t,e,n){if(typeof t=="function"){const[i,o]=l1(n);t=t(e!==void 0?e:r.custom,i,o)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[i,o]=l1(n);t=t(e!==void 0?e:r.custom,i,o)}return t}function Bl(r,t,e){const n=r.getProps();return Mv(n,t,e!==void 0?e:n.custom,r)}const _C=new Set(["width","height","top","left","right","bottom",...oc]),c1=30,$P=r=>!isNaN(parseFloat(r)),Tu={current:void 0};class YP{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=ti.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ti.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$P(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new pv);const n=this.events[t].add(e);return t==="change"?()=>{n(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Tu.current&&Tu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>c1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,c1);return VE(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function To(r,t){return new YP(r,t)}const a0=r=>Array.isArray(r);function qP(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,To(e))}function WP(r){return a0(r)?r[r.length-1]||0:r}function KP(r,t){const e=Bl(r,t);let{transitionEnd:n={},transition:i={},...o}=e||{};o={...o,...n};for(const l in o){const c=WP(o[l]);qP(r,l,c)}}const Yn=r=>!!(r&&r.getVelocity);function QP(r){return!!(Yn(r)&&r.add)}function o0(r,t){const e=r.getValue("willChange");if(QP(e))return e.add(t);if(!e&&Pr.WillChange){const n=new Pr.WillChange("auto");r.addValue("willChange",n),n.add(t)}}function Dv(r){return r.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const ZP="framerAppearId",SC="data-"+Dv(ZP);function AC(r){return r.props[SC]}function JP({protectedKeys:r,needsAnimating:t},e){const n=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function wC(r,t,{delay:e=0,transitionOverride:n,type:i}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:l,...c}=t;const h=o?.reduceMotion;n&&(o=n);const d=[],p=i&&r.animationState&&r.animationState.getState()[i];for(const m in c){const v=r.getValue(m,r.latestValues[m]??null),g=c[m];if(g===void 0||p&&JP(p,m))continue;const S={delay:e,...Ev(o||{},m)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(g)&&g===_&&!S.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const E=AC(r);if(E){const D=window.MotionHandoffAnimation(E,m,Me);D!==null&&(S.startTime=D,w=!0)}}o0(r,m);const A=h??r.shouldReduceMotion;v.start(Cv(m,v,g,A&&_C.has(m)?{type:!1}:S,r,w));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{Me.update(()=>{l&&KP(r,l)})}),d}function l0(r,t,e={}){const n=Bl(r,t,e.type==="exit"?r.presenceContext?.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(i=e.transitionOverride);const o=n?()=>Promise.all(wC(r,n,e)):()=>Promise.resolve(),l=r.variantChildren&&r.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=i;return tN(r,t,h,d,p,m,e)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,d]=c==="beforeChildren"?[o,l]:[l,o];return h().then(()=>d())}else return Promise.all([o(),l(e.delay)])}function tN(r,t,e=0,n=0,i=0,o=1,l){const c=[];for(const h of r.variantChildren)h.notify("AnimationStart",t),c.push(l0(h,t,{...l,delay:e+(typeof n=="function"?0:n)+vC(r.variantChildren,h,n,i,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function eN(r,t,e={}){r.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>l0(r,o,e));n=Promise.all(i)}else if(typeof t=="string")n=l0(r,t,e);else{const i=typeof t=="function"?Bl(r,t,e.custom):t;n=Promise.all(wC(r,i,e))}return n.then(()=>{r.notify("AnimationComplete",t)})}const nN={test:r=>r==="auto",parse:r=>r},xC=r=>t=>t.test(r),TC=[ac,Tt,$s,ua,Rk,Dk,nN],u1=r=>TC.find(xC(r));function iN(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||jE(r):!0}const sN=new Set(["brightness","contrast","saturate","opacity"]);function rN(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[n]=e.match(vv)||[];if(!n)return r;const i=e.replace(n,"");let o=sN.has(t)?1:0;return n!==e&&(o*=100),t+"("+o+i+")"}const aN=/\b([a-z-]*)\(.*?\)/gu,c0={...Ma,getAnimatableNone:r=>{const t=r.match(aN);return t?t.map(rN).join(" "):r}},h1={...ac,transform:Math.round},oN={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:ua,skewX:ua,skewY:ua,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Gu,originX:Qw,originY:Qw,originZ:Tt},Rv={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,inset:Tt,insetBlock:Tt,insetBlockStart:Tt,insetBlockEnd:Tt,insetInline:Tt,insetInlineStart:Tt,insetInlineEnd:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,paddingBlock:Tt,paddingBlockStart:Tt,paddingBlockEnd:Tt,paddingInline:Tt,paddingInlineStart:Tt,paddingInlineEnd:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,marginBlock:Tt,marginBlockStart:Tt,marginBlockEnd:Tt,marginInline:Tt,marginInlineStart:Tt,marginInlineEnd:Tt,fontSize:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...oN,zIndex:h1,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:h1},lN={...Rv,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:c0,WebkitFilter:c0},EC=r=>lN[r];function CC(r,t){let e=EC(r);return e!==c0&&(e=Ma),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const cN=new Set(["auto","none","0"]);function uN(r,t,e){let n=0,i;for(;n<r.length&&!i;){const o=r[n];typeof o=="string"&&!cN.has(o)&&Xu(o).values.length&&(i=r[n]),n++}if(i&&e)for(const o of t)r[o]=CC(e,i)}class hN extends Tv{constructor(t,e,n,i,o){super(t,e,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),yv(m))){const v=bC(m,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!_C.has(n)||t.length!==2)return;const[i,o]=t,l=u1(i),c=u1(o),h=Kw(i),d=Kw(o);if(h!==d&&ga[n]){this.needsMeasurement=!0;return}if(l!==c)if(r1(l)&&r1(c))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else ga[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||iN(t[i]))&&n.push(i);n.length&&uN(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const i=e[e.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(e);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=ga[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function dN(r,t,e){if(r==null)return[];if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=e?.[r]??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r).filter(n=>n!=null)}const MC=(r,t)=>t&&typeof r=="number"?t.transform(r):r;function fN(r){return zE(r)&&"offsetHeight"in r}const{schedule:Ov}=ZE(queueMicrotask,!1),_s={x:!1,y:!1};function DC(){return _s.x||_s.y}function pN(r){return r==="x"||r==="y"?_s[r]?null:(_s[r]=!0,()=>{_s[r]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function RC(r,t){const e=dN(r),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[e,i,()=>n.abort()]}function d1(r){return!(r.pointerType==="touch"||DC())}function mN(r,t,e={}){const[n,i,o]=RC(r,e),l=c=>{if(!d1(c))return;const{target:h}=c,d=t(h,c);if(typeof d!="function"||!h)return;const p=m=>{d1(m)&&(d(m),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,i)};return n.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const OC=(r,t)=>t?r===t?!0:OC(r,t.parentElement):!1,Lv=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,gN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LC(r){return gN.has(r.tagName)||r.isContentEditable===!0}const lf=new WeakSet;function f1(r){return t=>{t.key==="Enter"&&r(t)}}function Qg(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yN=(r,t)=>{const e=r.currentTarget;if(!e)return;const n=f1(()=>{if(lf.has(e))return;Qg(e,"down");const i=f1(()=>{Qg(e,"up")}),o=()=>Qg(e,"cancel");e.addEventListener("keyup",i,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function p1(r){return Lv(r)&&!DC()}function vN(r,t,e={}){const[n,i,o]=RC(r,e),l=c=>{const h=c.currentTarget;if(!p1(c))return;lf.add(h);const d=t(h,c),p=(g,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),lf.has(h)&&lf.delete(h),p1(g)&&typeof d=="function"&&d(g,{success:S})},m=g=>{p(g,h===window||h===document||e.useGlobalTarget||OC(h,g.target))},v=g=>{p(g,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",v,i)};return n.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),fN(c)&&(c.addEventListener("focus",d=>yN(d,i)),!LC(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function kC(r){return zE(r)&&"ownerSVGElement"in r}function bN(r){return kC(r)&&r.tagName==="svg"}function _N(...r){const t=!Array.isArray(r[0]),e=t?0:-1,n=r[0+e],i=r[1+e],o=r[2+e],l=r[3+e],c=uC(i,o,l);return t?c(n):c}const SN=[...TC,gn,Ma],AN=r=>SN.find(xC(r)),m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ml=()=>({x:m1(),y:m1()}),g1=()=>({min:0,max:0}),_n=()=>({x:g1(),y:g1()}),u0={current:null},PC={current:!1},wN=typeof window<"u";function xN(){if(PC.current=!0,!!wN)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>u0.current=r.matches;r.addEventListener("change",t),t()}else u0.current=!1}const TN=new WeakMap;function ip(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function $u(r){return typeof r=="string"||Array.isArray(r)}const kv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pv=["initial",...kv];function sp(r){return ip(r.animate)||Pv.some(t=>$u(r[t]))}function NC(r){return!!(sp(r)||r.variants)}function EN(r,t,e){for(const n in t){const i=t[n],o=e[n];if(Yn(i))r.addValue(n,i);else if(Yn(o))r.addValue(n,To(i,{owner:r}));else if(o!==i)if(r.hasValue(n)){const l=r.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=r.getStaticValue(n);r.addValue(n,To(l!==void 0?l:i,{owner:r}))}}for(const n in e)t[n]===void 0&&r.removeValue(n);return t}const y1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Lf={};function BC(r){Lf=r}function CN(){return Lf}class MN{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ti.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Me.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=sp(e),this.isVariantNode=NC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in m){const g=m[v];h[v]!==void 0&&Yn(g)&&g.set(h[v])}}mount(t){this.current=t,TN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(PC.current||xN(),this.shouldReduceMotion=u0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=lc.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Me.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lf){const e=Lf[t];if(!e)continue;const{isEnabled:n,Feature:i}=e;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<y1.length;n++){const i=y1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=t[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=EN(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=To(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(IE(n)||jE(n))?n=parseFloat(n):!AN(n)&&Ma.test(e)&&(n=CC(t,e)),this.setBaseTarget(t,Yn(n)?n.get():n)),Yn(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const o=Mv(this.props,e,this.presenceContext?.custom);o&&(n=o[t])}if(e&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Yn(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new pv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ov.render(this.render)}}class FC extends MN{constructor(){super(...arguments),this.KeyframeResolver=hN}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const n=t.style;return n?n[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class La{constructor(t){this.isMounted=!1,this.node=t}update(){}}function IC({top:r,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:r,max:n}}}function DN({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function RN(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),n=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function Zg(r){return r===void 0||r===1}function h0({scale:r,scaleX:t,scaleY:e}){return!Zg(r)||!Zg(t)||!Zg(e)}function ro(r){return h0(r)||zC(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function zC(r){return v1(r.x)||v1(r.y)}function v1(r){return r&&r!=="0%"}function kf(r,t,e){const n=r-e,i=t*n;return e+i}function b1(r,t,e,n,i){return i!==void 0&&(r=kf(r,i,n)),kf(r,e,n)+t}function d0(r,t=0,e=1,n,i){r.min=b1(r.min,t,e,n,i),r.max=b1(r.max,t,e,n,i)}function jC(r,{x:t,y:e}){d0(r.x,t.translate,t.scale,t.originPoint),d0(r.y,e.translate,e.scale,e.originPoint)}const _1=.999999999999,S1=1.0000000000001;function ON(r,t,e,n=!1){const i=e.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=e[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rl(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,jC(r,l)),n&&ro(o.latestValues)&&Rl(r,o.latestValues))}t.x<S1&&t.x>_1&&(t.x=1),t.y<S1&&t.y>_1&&(t.y=1)}function Dl(r,t){r.min=r.min+t,r.max=r.max+t}function A1(r,t,e,n,i=.5){const o=Ye(r.min,r.max,i);d0(r,t,e,o,n)}function Rl(r,t){A1(r.x,t.x,t.scaleX,t.scale,t.originX),A1(r.y,t.y,t.scaleY,t.scale,t.originY)}function VC(r,t){return IC(RN(r.getBoundingClientRect(),t))}function LN(r,t,e){const n=VC(r,e),{scroll:i}=t;return i&&(Dl(n.x,i.offset.x),Dl(n.y,i.offset.y)),n}const kN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PN=oc.length;function NN(r,t,e){let n="",i=!0;for(let o=0;o<PN;o++){const l=oc[o],c=r[l];if(c===void 0)continue;let h=!0;if(typeof c=="number")h=c===(l.startsWith("scale")?1:0);else{const d=parseFloat(c);h=l.startsWith("scale")?d===1:d===0}if(!h||e){const d=MC(c,Rv[l]);if(!h){i=!1;const p=kN[l]||l;n+=`${p}(${d}) `}e&&(t[l]=d)}}return n=n.trim(),e?n=e(t,i?"":n):i&&(n="none"),n}function Nv(r,t,e){const{style:n,vars:i,transformOrigin:o}=r;let l=!1,c=!1;for(const h in t){const d=t[h];if(lc.has(h)){l=!0;continue}else if(tC(h)){i[h]=d;continue}else{const p=MC(d,Rv[h]);h.startsWith("origin")?(c=!0,o[h]=p):n[h]=p}}if(t.transform||(l||e?n.transform=NN(t,r.transform,e):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:p=0}=o;n.transformOrigin=`${h} ${d} ${p}`}}function UC(r,{style:t,vars:e},n,i){const o=r.style;let l;for(l in t)o[l]=t[l];i?.applyProjectionStyles(o,n);for(l in e)o.setProperty(l,e[l])}function w1(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const iu={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(Tt.test(r))r=parseFloat(r);else return r;const e=w1(r,t.target.x),n=w1(r,t.target.y);return`${e}% ${n}%`}},BN={correct:(r,{treeScale:t,projectionDelta:e})=>{const n=r,i=Ma.parse(r);if(i.length>5)return n;const o=Ma.createTransformer(r),l=typeof i[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;i[0+l]/=c,i[1+l]/=h;const d=Ye(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),o(i)}},f0={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:BN};function HC(r,{layout:t,layoutId:e}){return lc.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!f0[r]||r==="opacity")}function Bv(r,t,e){const n=r.style,i=t?.style,o={};if(!n)return o;for(const l in n)(Yn(n[l])||i&&Yn(i[l])||HC(l,r)||e?.getValue(l)?.liveStyle!==void 0)&&(o[l]=n[l]);return o}function FN(r){return window.getComputedStyle(r)}class IN extends FC{constructor(){super(...arguments),this.type="html",this.renderInstance=UC}readValueFromInstance(t,e){if(lc.has(e))return this.projection?.isProjecting?t0(e):dP(t,e);{const n=FN(t),i=(tC(e)?n.getPropertyValue(e):n[e])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return VC(t,e)}build(t,e,n){Nv(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Bv(t,e,n)}}const zN={offset:"stroke-dashoffset",array:"stroke-dasharray"},jN={offset:"strokeDashoffset",array:"strokeDasharray"};function VN(r,t,e=1,n=0,i=!0){r.pathLength=1;const o=i?zN:jN;r[o.offset]=`${-n}`,r[o.array]=`${t} ${e}`}const UN=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function GC(r,{attrX:t,attrY:e,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},h,d,p){if(Nv(r,c,d),h){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:m,style:v}=r;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete m.transformBox);for(const g of UN)m[g]!==void 0&&(v[g]=m[g],delete m[g]);t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),n!==void 0&&(m.scale=n),i!==void 0&&VN(m,i,o,l,!1)}const XC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),$C=r=>typeof r=="string"&&r.toLowerCase()==="svg";function HN(r,t,e,n){UC(r,t,void 0,n);for(const i in t.attrs)r.setAttribute(XC.has(i)?i:Dv(i),t.attrs[i])}function YC(r,t,e){const n=Bv(r,t,e);for(const i in r)if(Yn(r[i])||Yn(t[i])){const o=oc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=r[i]}return n}class GN extends FC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(lc.has(e)){const n=EC(e);return n&&n.default||0}return e=XC.has(e)?e:Dv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return YC(t,e,n)}build(t,e,n){GC(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,i){HN(t,e,n,i)}mount(t){this.isSVGTag=$C(t.tagName),super.mount(t)}}const XN=Pv.length;function qC(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?qC(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<XN;e++){const n=Pv[e],i=r.props[n];($u(i)||i===!1)&&(t[n]=i)}return t}function WC(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}const $N=[...kv].reverse(),YN=kv.length;function qN(r){return t=>Promise.all(t.map(({animation:e,options:n})=>eN(r,e,n)))}function WN(r){let t=qN(r),e=x1(),n=!0;const i=h=>(d,p)=>{const m=Bl(r,p,h==="exit"?r.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:g,...S}=m;d={...d,...S,...g}}return d};function o(h){t=h(r)}function l(h){const{props:d}=r,p=qC(r.parent)||{},m=[],v=new Set;let g={},S=1/0;for(let w=0;w<YN;w++){const A=$N[w],T=e[A],E=d[A]!==void 0?d[A]:p[A],D=$u(E),C=A===h?T.isActive:null;C===!1&&(S=w);let L=E===p[A]&&E!==d[A]&&D;if(L&&n&&r.manuallyAnimateOnMount&&(L=!1),T.protectedKeys={...g},!T.isActive&&C===null||!E&&!T.prevProp||ip(E)||typeof E=="boolean")continue;const R=KN(T.prevProp,E);let k=R||A===h&&T.isActive&&!L&&D||w>S&&D,F=!1;const $=Array.isArray(E)?E:[E];let H=$.reduce(i(A),{});C===!1&&(H={});const{prevResolvedValues:at={}}=T,et={...at,...H},q=N=>{k=!0,v.has(N)&&(F=!0,v.delete(N)),T.needsAnimating[N]=!0;const z=r.getValue(N);z&&(z.liveStyle=!1)};for(const N in et){const z=H[N],st=at[N];if(g.hasOwnProperty(N))continue;let dt=!1;a0(z)&&a0(st)?dt=!WC(z,st):dt=z!==st,dt?z!=null?q(N):v.add(N):z!==void 0&&v.has(N)?q(N):T.protectedKeys[N]=!0}T.prevProp=E,T.prevResolvedValues=H,T.isActive&&(g={...g,...H}),n&&r.blockInitialAnimation&&(k=!1);const W=L&&R;k&&(!W||F)&&m.push(...$.map(N=>{const z={type:A};if(typeof N=="string"&&n&&!W&&r.manuallyAnimateOnMount&&r.parent){const{parent:st}=r,dt=Bl(st,N);if(st.enteringChildren&&dt){const{delayChildren:P}=dt.transition||{};z.delay=vC(st.enteringChildren,r,P)}}return{animation:N,options:z}}))}if(v.size){const w={};if(typeof d.initial!="boolean"){const A=Bl(r,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(w.transition=A.transition)}v.forEach(A=>{const T=r.getBaseTarget(A),E=r.getValue(A);E&&(E.liveStyle=!0),w[A]=T??null}),m.push({animation:w})}let _=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!r.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(m):Promise.resolve()}function c(h,d){if(e[h].isActive===d)return Promise.resolve();r.variantChildren?.forEach(m=>m.animationState?.setActive(h,d)),e[h].isActive=d;const p=l(h);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>e,reset:()=>{e=x1()}}}function KN(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!WC(t,r):!1}function to(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x1(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}function T1(r,t){r.min=t.min,r.max=t.max}function bs(r,t){T1(r.x,t.x),T1(r.y,t.y)}function E1(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}const KC=1e-4,QN=1-KC,ZN=1+KC,QC=.01,JN=0-QC,tB=0+QC;function ei(r){return r.max-r.min}function eB(r,t,e){return Math.abs(r-t)<=e}function C1(r,t,e,n=.5){r.origin=n,r.originPoint=Ye(t.min,t.max,r.origin),r.scale=ei(e)/ei(t),r.translate=Ye(e.min,e.max,r.origin)-r.originPoint,(r.scale>=QN&&r.scale<=ZN||isNaN(r.scale))&&(r.scale=1),(r.translate>=JN&&r.translate<=tB||isNaN(r.translate))&&(r.translate=0)}function Eu(r,t,e,n){C1(r.x,t.x,e.x,n?n.originX:void 0),C1(r.y,t.y,e.y,n?n.originY:void 0)}function M1(r,t,e){r.min=e.min+t.min,r.max=r.min+ei(t)}function nB(r,t,e){M1(r.x,t.x,e.x),M1(r.y,t.y,e.y)}function D1(r,t,e){r.min=t.min-e.min,r.max=r.min+ei(t)}function Pf(r,t,e){D1(r.x,t.x,e.x),D1(r.y,t.y,e.y)}function R1(r,t,e,n,i){return r-=t,r=kf(r,1/e,n),i!==void 0&&(r=kf(r,1/i,n)),r}function iB(r,t=0,e=1,n=.5,i,o=r,l=r){if($s.test(t)&&(t=parseFloat(t),t=Ye(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Ye(o.min,o.max,n);r===o&&(c-=t),r.min=R1(r.min,t,e,c,i),r.max=R1(r.max,t,e,c,i)}function O1(r,t,[e,n,i],o,l){iB(r,t[e],t[n],t[i],t.scale,o,l)}const sB=["x","scaleX","originX"],rB=["y","scaleY","originY"];function L1(r,t,e,n){O1(r.x,t,sB,e?e.x:void 0,n?n.x:void 0),O1(r.y,t,rB,e?e.y:void 0,n?n.y:void 0)}function k1(r){return r.translate===0&&r.scale===1}function ZC(r){return k1(r.x)&&k1(r.y)}function P1(r,t){return r.min===t.min&&r.max===t.max}function aB(r,t){return P1(r.x,t.x)&&P1(r.y,t.y)}function N1(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function JC(r,t){return N1(r.x,t.x)&&N1(r.y,t.y)}function B1(r){return ei(r.x)/ei(r.y)}function F1(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}function os(r){return[r("x"),r("y")]}function oB(r,t,e){let n="";const i=r.x.translate/t.x,o=r.y.translate/t.y,l=e?.z||0;if((i||o||l)&&(n=`translate3d(${i}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:v,skewX:g,skewY:S}=e;d&&(n=`perspective(${d}px) ${n}`),p&&(n+=`rotate(${p}deg) `),m&&(n+=`rotateX(${m}deg) `),v&&(n+=`rotateY(${v}deg) `),g&&(n+=`skewX(${g}deg) `),S&&(n+=`skewY(${S}deg) `)}const c=r.x.scale*t.x,h=r.y.scale*t.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const tM=["TopLeft","TopRight","BottomLeft","BottomRight"],lB=tM.length,I1=r=>typeof r=="string"?parseFloat(r):r,z1=r=>typeof r=="number"||Tt.test(r);function cB(r,t,e,n,i,o){i?(r.opacity=Ye(0,e.opacity??1,uB(n)),r.opacityExit=Ye(t.opacity??1,0,hB(n))):o&&(r.opacity=Ye(t.opacity??1,e.opacity??1,n));for(let l=0;l<lB;l++){const c=`border${tM[l]}Radius`;let h=j1(t,c),d=j1(e,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||z1(h)===z1(d)?(r[c]=Math.max(Ye(I1(h),I1(d),n),0),($s.test(d)||$s.test(h))&&(r[c]+="%")):r[c]=d}(t.rotate||e.rotate)&&(r.rotate=Ye(t.rotate||0,e.rotate||0,n))}function j1(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const uB=eM(0,.5,qE),hB=eM(.5,.95,ds);function eM(r,t,e){return n=>n<r?0:n>t?1:e(Hu(r,t,n))}function dB(r,t,e){const n=Yn(r)?r:To(r);return n.start(Cv("",n,t,e)),n.animation}function Yu(r,t,e,n={passive:!0}){return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e)}const fB=(r,t)=>r.depth-t.depth;class pB{constructor(){this.children=[],this.isDirty=!1}add(t){uv(this.children,t),this.isDirty=!0}remove(t){hv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fB),this.isDirty=!1,this.children.forEach(t)}}function mB(r,t){const e=ti.now(),n=({timestamp:i})=>{const o=i-e;o>=t&&(Ks(n),r(o-t))};return Me.setup(n,!0),()=>Ks(n)}function cf(r){return Yn(r)?r.get():r}class gB{constructor(){this.members=[]}add(t){uv(this.members,t),t.scheduleRender()}remove(t){if(hv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(i=>t===i);if(e===0)return!1;let n;for(let i=e;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const i=n.options.layoutDependency,o=t.options.layoutDependency;i!==void 0&&o!==void 0&&i===o||(t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:c}=t.options;c===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Jg=["","X","Y","Z"],yB=1e3;let vB=0;function ty(r,t,e,n){const{latestValues:i}=t;i[r]&&(e[r]=i[r],t.setStaticValue(r,0),n&&(n[r]=0))}function nM(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=AC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:i,layoutId:o}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",Me,!(i||o))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&nM(n)}function iM({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},c=t?.()){this.id=vB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SB),this.nodes.forEach(TB),this.nodes.forEach(EB),this.nodes.forEach(AB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new pB)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new pv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=kC(l)&&!bN(l),this.instance=l;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),r){let p,m=0;const v=()=>this.root.updateBlockedByResize=!1;Me.read(()=>{m=window.innerWidth}),r(l,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,p&&p(),p=mB(v,250),uf.hasAnimatedSinceResize&&(uf.hasAnimatedSinceResize=!1,this.nodes.forEach(H1)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||OB,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=d.getProps(),A=!this.targetLayout||!JC(this.targetLayout,g),T=!m&&v;if(this.options.layoutRoot||this.resumeFrom||T||m&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Ev(S,"layout"),onPlay:_,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,T)}else m||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xB),this.nodes.forEach(bB),this.nodes.forEach(_B)):this.nodes.forEach(U1),this.clearAllSnapshots();const c=ti.now();Pn.delta=Ws(0,1e3/60,c-Pn.timestamp),Pn.timestamp=c,Pn.isProcessing=!0,Xg.update.process(Pn),Xg.preRender.process(Pn),Xg.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wB),this.sharedNodes.forEach(MB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ei(this.snapshot.measuredBox.x)&&!ei(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ZC(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||ro(this.latestValues)||p)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),LB(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return _n();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kB))){const{scroll:d}=this.root;d&&(Dl(c.x,d.offset.x),Dl(c.y,d.offset.y))}return c}removeElementScroll(l){const c=_n();if(bs(c,l),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&bs(c,l),Dl(c.x,p.offset.x),Dl(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const h=_n();bs(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Rl(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ro(p.latestValues)&&Rl(h,p.latestValues)}return ro(this.latestValues)&&Rl(h,this.latestValues),h}removeTransform(l){const c=_n();bs(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!ro(d.latestValues))continue;h0(d.latestValues)&&d.updateSnapshot();const p=_n(),m=d.measurePageBox();bs(p,m),L1(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return ro(this.latestValues)&&L1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!this.layout||!(p||m))return;this.resolvedRelativeTargetAt=Pn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),jC(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||h0(this.parent.latestValues)||zC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Pf(this.relativeTargetOrigin,c,h),bs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;bs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;ON(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_n());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E1(this.prevProjectionDelta.x,this.projectionDelta.x),E1(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!F1(this.projectionDelta.x,this.prevProjectionDelta.x)||!F1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ml(),this.projectionDelta=Ml(),this.projectionDeltaWithTransform=Ml()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},p={...this.latestValues},m=Ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=_n(),g=h?h.source:void 0,S=this.layout?this.layout.source:void 0,_=g!==S,w=this.getStack(),A=!w||w.members.length<=1,T=!!(_&&!A&&this.options.crossfade===!0&&!this.path.some(RB));this.animationProgress=0;let E;this.mixTargetDelta=D=>{const C=D/1e3;G1(m.x,l.x,C),G1(m.y,l.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pf(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DB(this.relativeTarget,this.relativeTargetOrigin,v,C),E&&aB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=_n()),bs(E,this.relativeTarget)),_&&(this.animationValues=p,cB(p,d,this.latestValues,C,T,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=To(0)),this.currentAnimation=dB(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:p}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&sM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||_n();const m=ei(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+m;const v=ei(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}bs(c,h),Rl(c,p),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new gB),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&ty("z",l,d,this.animationValues);for(let p=0;p<Jg.length;p++)ty(`rotate${Jg[p]}`,l,d,this.animationValues),ty(`skew${Jg[p]}`,l,d,this.animationValues);l.render();for(const p in d)l.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=cf(c?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=cf(c?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=oB(this.projectionDeltaWithTransform,this.treeScale,p);h&&(m=h(p,m)),l.transform=m;const{x:v,y:g}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,d.animationValues?l.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in f0){if(p[S]===void 0)continue;const{correct:_,applyTo:w,isCSSVariable:A}=f0[S],T=m==="none"?p[S]:_(p[S],d);if(w){const E=w.length;for(let D=0;D<E;D++)l[w[D]]=T}else A?this.options.visualElement.renderState.vars[S]=T:l[S]=T}this.options.layoutId&&(l.pointerEvents=d===this?cf(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function bB(r){r.updateLayout()}function _B(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=r.layout,{animationType:i}=r.options,o=t.source!==r.layout.source;i==="size"?os(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=ei(m);m.min=e[p].min,m.max=m.min+v}):sM(i,t.layoutBox,e)&&os(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=ei(e[p]);m.max=m.min+v,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+v)});const l=Ml();Eu(l,e,t.layoutBox);const c=Ml();o?Eu(c,r.applyTransform(n,!0),t.measuredBox):Eu(c,e,t.layoutBox);const h=!ZC(l);let d=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const g=_n();Pf(g,t.layoutBox,m.layoutBox);const S=_n();Pf(S,e,v.layoutBox),JC(g,S)||(d=!0),p.options.layoutRoot&&(r.relativeTarget=S,r.relativeTargetOrigin=g,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(r.isLead()){const{onExitComplete:e}=r.options;e&&e()}r.options.transition=void 0}function SB(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function AB(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function wB(r){r.clearSnapshot()}function V1(r){r.clearMeasurements()}function U1(r){r.isLayoutDirty=!1}function xB(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function H1(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function TB(r){r.resolveTargetDelta()}function EB(r){r.calcProjection()}function CB(r){r.resetSkewAndRotation()}function MB(r){r.removeLeadSnapshot()}function G1(r,t,e){r.translate=Ye(t.translate,0,e),r.scale=Ye(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function X1(r,t,e,n){r.min=Ye(t.min,e.min,n),r.max=Ye(t.max,e.max,n)}function DB(r,t,e,n){X1(r.x,t.x,e.x,n),X1(r.y,t.y,e.y,n)}function RB(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const OB={duration:.45,ease:[.4,0,.1,1]},$1=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Y1=$1("applewebkit/")&&!$1("chrome/")?Math.round:ds;function q1(r){r.min=Y1(r.min),r.max=Y1(r.max)}function LB(r){q1(r.x),q1(r.y)}function sM(r,t,e){return r==="position"||r==="preserve-aspect"&&!eB(B1(t),B1(e),.2)}function kB(r){return r!==r.root&&r.scroll?.wasRoot}const PB=iM({attachResizeListener:(r,t)=>Yu(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),ey={current:void 0},rM=iM({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!ey.current){const r=new PB({});r.mount(window),r.setOptions({layoutScroll:!0}),ey.current=r}return ey.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),rp=U.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function NB(r=!0){const t=U.useContext(cv);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,o=U.useId();U.useEffect(()=>{if(r)return i(o)},[r]);const l=U.useCallback(()=>r&&n&&n(o),[o,n,r]);return!e&&n?[!1,l]:[!0]}const aM=U.createContext({strict:!1}),W1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let K1=!1;function BB(){if(K1)return;const r={};for(const t in W1)r[t]={isEnabled:e=>W1[t].some(n=>!!e[n])};BC(r),K1=!0}function oM(){return BB(),CN()}function FB(r){const t=oM();for(const e in r)t[e]={...t[e],...r[e]};BC(t)}const IB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||IB.has(r)}let lM=r=>!Nf(r);function zB(r){typeof r=="function"&&(lM=t=>t.startsWith("on")?!Nf(t):r(t))}try{zB(require("@emotion/is-prop-valid").default)}catch{}function jB(r,t,e){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(lM(i)||e===!0&&Nf(i)||!t&&!Nf(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}const ap=U.createContext({});function VB(r,t){if(sp(r)){const{initial:e,animate:n}=r;return{initial:e===!1||$u(e)?e:void 0,animate:$u(n)?n:void 0}}return r.inherit!==!1?t:{}}function UB(r){const{initial:t,animate:e}=VB(r,U.useContext(ap));return U.useMemo(()=>({initial:t,animate:e}),[Q1(t),Q1(e)])}function Q1(r){return Array.isArray(r)?r.join(" "):r}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cM(r,t,e){for(const n in t)!Yn(t[n])&&!HC(n,e)&&(r[n]=t[n])}function HB({transformTemplate:r},t){return U.useMemo(()=>{const e=Fv();return Nv(e,t,r),Object.assign({},e.vars,e.style)},[t])}function GB(r,t){const e=r.style||{},n={};return cM(n,e,r),Object.assign(n,HB(r,t)),n}function XB(r,t){const e={},n=GB(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=n,e}const uM=()=>({...Fv(),attrs:{}});function $B(r,t,e,n){const i=U.useMemo(()=>{const o=uM();return GC(o,t,$C(n),r.transformTemplate,r.style),{...o.attrs,style:{...o.style}}},[t]);if(r.style){const o={};cM(o,r.style,r),i.style={...o,...i.style}}return i}const YB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iv(r){return typeof r!="string"||r.includes("-")?!1:!!(YB.indexOf(r)>-1||/[A-Z]/u.test(r))}function qB(r,t,e,{latestValues:n},i,o=!1,l){const h=(l??Iv(r)?$B:XB)(t,n,i,r),d=jB(t,typeof r=="string",o),p=r!==U.Fragment?{...d,...h,ref:e}:{},{children:m}=t,v=U.useMemo(()=>Yn(m)?m.get():m,[m]);return U.createElement(r,{...p,children:v})}function WB({scrapeMotionValuesFromProps:r,createRenderState:t},e,n,i){return{latestValues:KB(e,n,i,r),renderState:t()}}function KB(r,t,e,n){const i={},o=n(r,{});for(const v in o)i[v]=cf(o[v]);let{initial:l,animate:c}=r;const h=sp(r),d=NC(r);t&&d&&!h&&r.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const m=p?c:l;if(m&&typeof m!="boolean"&&!ip(m)){const v=Array.isArray(m)?m:[m];for(let g=0;g<v.length;g++){const S=Mv(r,v[g]);if(S){const{transitionEnd:_,transition:w,...A}=S;for(const T in A){let E=A[T];if(Array.isArray(E)){const D=p?E.length-1:0;E=E[D]}E!==null&&(i[T]=E)}for(const T in _)i[T]=_[T]}}}return i}const hM=r=>(t,e)=>{const n=U.useContext(ap),i=U.useContext(cv),o=()=>WB(r,t,n,i);return e?o():lv(o)},QB=hM({scrapeMotionValuesFromProps:Bv,createRenderState:Fv}),ZB=hM({scrapeMotionValuesFromProps:YC,createRenderState:uM}),JB=Symbol.for("motionComponentSymbol");function t3(r,t,e){const n=U.useRef(e);U.useInsertionEffect(()=>{n.current=e});const i=U.useRef(null);return U.useCallback(o=>{o&&r.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=n.current;if(typeof l=="function")if(o){const c=l(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):l(o);else l&&(l.current=o)},[t])}const dM=U.createContext({});function du(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function e3(r,t,e,n,i,o){const{visualElement:l}=U.useContext(ap),c=U.useContext(aM),h=U.useContext(cv),d=U.useContext(rp).reducedMotion,p=U.useRef(null),m=U.useRef(!1);n=n||c.renderer,!p.current&&n&&(p.current=n(r,{visualState:t,parent:l,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d,isSVG:o}),m.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const v=p.current,g=U.useContext(dM);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&n3(p.current,e,i,g);const S=U.useRef(!1);U.useInsertionEffect(()=>{v&&S.current&&v.update(e,h)});const _=e[SC],w=U.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return FE(()=>{m.current=!0,v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),w.current&&v.animationState&&v.animationState.animateChanges())}),U.useEffect(()=>{v&&(!w.current&&v.animationState&&v.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),w.current=!1),v.enteringChildren=void 0)}),v}function n3(r,t,e,n){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d,layoutCrossfade:p}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:fM(r.parent)),r.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&du(c),visualElement:r,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:h,layoutRoot:d})}function fM(r){if(r)return r.options.allowProjection!==!1?r.projection:fM(r.parent)}function ny(r,{forwardMotionProps:t=!1,type:e}={},n,i){n&&FB(n);const o=e?e==="svg":Iv(r),l=o?ZB:QB;function c(d,p){let m;const v={...U.useContext(rp),...d,layoutId:i3(d)},{isStatic:g}=v,S=UB(d),_=l(d,g);if(!g&&BE){s3();const w=r3(v);m=w.MeasureLayout,S.visualElement=e3(r,_,v,i,w.ProjectionNode,o)}return B.jsxs(ap.Provider,{value:S,children:[m&&S.visualElement?B.jsx(m,{visualElement:S.visualElement,...v}):null,qB(r,d,t3(_,S.visualElement,p),_,g,t,o)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const h=U.forwardRef(c);return h[JB]=r,h}function i3({layoutId:r}){const t=U.useContext(NE).id;return t&&r!==void 0?t+"-"+r:r}function s3(r,t){U.useContext(aM).strict}function r3(r){const t=oM(),{drag:e,layout:n}=t;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(r)||n?.isEnabled(r)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function a3(r,t){if(typeof Proxy>"u")return ny;const e=new Map,n=(o,l)=>ny(o,l,r,t),i=(o,l)=>n(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?n:(e.has(l)||e.set(l,ny(l,void 0,r,t)),e.get(l))})}const o3=(r,t)=>t.isSVG??Iv(r)?new GN(t):new IN(t,{allowProjection:r!==U.Fragment});class l3 extends La{constructor(t){super(t),t.animationState||(t.animationState=WN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ip(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let c3=0;class u3 extends La{constructor(){super(...arguments),this.id=c3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h3={animation:{Feature:l3},exit:{Feature:u3}};function lh(r){return{point:{x:r.pageX,y:r.pageY}}}const d3=r=>t=>Lv(t)&&r(t,lh(t));function Cu(r,t,e,n){return Yu(r,t,d3(e),n)}const pM=({current:r})=>r?r.ownerDocument.defaultView:null,Z1=(r,t)=>Math.abs(r-t);function f3(r,t){const e=Z1(r.x,t.x),n=Z1(r.y,t.y);return Math.sqrt(e**2+n**2)}const J1=new Set(["auto","scroll"]);class mM{constructor(t,e,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=sy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=f3(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!_)return;const{point:w}=g,{timestamp:A}=Pn;this.history.push({...w,timestamp:A});const{onStart:T,onMove:E}=this.handlers;S||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,S)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=iy(S,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(g,S)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=sy(g.type==="pointercancel"?this.lastMoveEventInfo:iy(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,T),w&&w(g,T)},!Lv(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=i||window;const h=lh(t),d=iy(h,this.transformPagePoint),{point:p}=d,{timestamp:m}=Pn;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=e;v&&v(t,sy(d,this.history)),this.removeListeners=rh(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let e=t.parentElement;for(;e;){const n=getComputedStyle(e);(J1.has(n.overflowX)||J1.has(n.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-e.x,y:i.y-e.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),Me.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ks(this.updatePoint)}}function iy(r,t){return t?{point:t(r.point)}:r}function tx(r,t){return{x:r.x-t.x,y:r.y-t.y}}function sy({point:r},t){return{point:r,delta:tx(r,gM(t)),offset:tx(r,p3(t)),velocity:m3(t,.1)}}function p3(r){return r[0]}function gM(r){return r[r.length-1]}function m3(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,n=null;const i=gM(r);for(;e>=0&&(n=r[e],!(i.timestamp-n.timestamp>Rr(t)));)e--;if(!n)return{x:0,y:0};const o=us(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function g3(r,{min:t,max:e},n){return t!==void 0&&r<t?r=n?Ye(t,r,n.min):Math.max(r,t):e!==void 0&&r>e&&(r=n?Ye(e,r,n.max):Math.min(r,e)),r}function ex(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function y3(r,{top:t,left:e,bottom:n,right:i}){return{x:ex(r.x,e,i),y:ex(r.y,t,n)}}function nx(r,t){let e=t.min-r.min,n=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,n]=[n,e]),{min:e,max:n}}function v3(r,t){return{x:nx(r.x,t.x),y:nx(r.y,t.y)}}function b3(r,t){let e=.5;const n=ei(r),i=ei(t);return i>n?e=Hu(t.min,t.max-n,r.min):n>i&&(e=Hu(r.min,r.max-i,t.min)),Ws(0,1,e)}function _3(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const p0=.35;function S3(r=p0){return r===!1?r=0:r===!0&&(r=p0),{x:ix(r,"left","right"),y:ix(r,"top","bottom")}}function ix(r,t,e){return{min:sx(r,t),max:sx(r,e)}}function sx(r,t){return typeof r=="number"?r:r[t]||0}const A3=new WeakMap;class w3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{e?(this.stopAnimation(),this.snapToCursor(lh(m).point)):this.pauseAnimation()},l=(m,v)=>{this.stopAnimation();const{drag:g,dragPropagation:S,onDragStart:_}=this.getProps();if(g&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pN(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(A=>{let T=this.getAxisMotionValue(A).get()||0;if($s.test(T)){const{projection:E}=this.visualElement;if(E&&E.layout){const D=E.layout.layoutBox[A];D&&(T=ei(D)*(parseFloat(T)/100))}}this.originPoint[A]=T}),_&&Me.postRender(()=>_(m,v)),o0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:S,onDirectionLock:_,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=v;if(S&&this.currentDirection===null){this.currentDirection=x3(A),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),w&&w(m,v)},h=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>os(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mM(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:pM(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,i=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Me.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:i}=this.getProps();if(!n||!zd(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=g3(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&du(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=y3(n.layoutBox,t):this.constraints=!1,this.elastic=S3(e),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&os(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_3(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!du(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=LN(n,i.root,this.visualElement.getTransformPagePoint());let l=v3(i.layout.layoutBox,o);if(e){const c=e(DN(l));this.hasMutatedConstraints=!!c,c&&(l=IC(c))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=os(p=>{if(!zd(p,e,this.currentDirection))return;let m=h&&h[p]||{};l&&(m={min:0,max:0});const v=i?200:1e6,g=i?40:1e7,S={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,S)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return o0(this.visualElement,t),n.start(Cv(t,n,0,e,this.visualElement,!1))}stopAnimation(){os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){os(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[e];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){os(e=>{const{drag:n}=this.getProps();if(!zd(e,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(e);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[e],h=o.get()||0;o.set(t[e]-Ye(l,c,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!du(e)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};os(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=b3({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),os(l=>{if(!zd(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(Ye(h,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;A3.set(this.visualElement,this);const t=this.visualElement.current,e=Cu(t,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps(),m=h.target,v=m!==t&&LC(m);d&&p&&!v&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();du(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Me.read(n);const l=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(os(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=h[p].translate,m.set(m.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=p0,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function zd(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function x3(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class T3 extends La{constructor(t){super(t),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new w3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const rx=r=>(t,e)=>{r&&Me.postRender(()=>r(t,e))};class E3 extends La{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(t){this.session=new mM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:rx(t),onStart:rx(e),onMove:n,onEnd:(o,l)=>{delete this.session,i&&Me.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ry=!1;class C3 extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),n&&n.register&&i&&n.register(o),ry&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:i,isPresent:o}=this.props,{projection:l}=n;return l&&(l.isPresent=o,t.layoutDependency!==e&&l.setOptions({...l.options,layoutDependency:e}),ry=!0,i||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Me.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ov.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;ry=!0,i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yM(r){const[t,e]=NB(),n=U.useContext(NE);return B.jsx(C3,{...r,layoutGroup:n,switchLayoutGroup:U.useContext(dM),isPresent:t,safeToRemove:e})}const M3={pan:{Feature:E3},drag:{Feature:T3,ProjectionNode:rM,MeasureLayout:yM}};function ax(r,t,e){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",e==="Start");const i="onHover"+e,o=n[i];o&&Me.postRender(()=>o(t,lh(t)))}class D3 extends La{mount(){const{current:t}=this.node;t&&(this.unmount=mN(t,(e,n)=>(ax(this.node,n,"Start"),i=>ax(this.node,i,"End"))))}unmount(){}}class R3 extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rh(Yu(this.node.current,"focus",()=>this.onFocus()),Yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ox(r,t,e){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",e==="Start");const i="onTap"+(e==="End"?"":e),o=n[i];o&&Me.postRender(()=>o(t,lh(t)))}class O3 extends La{mount(){const{current:t}=this.node;t&&(this.unmount=vN(t,(e,n)=>(ox(this.node,n,"Start"),(i,{success:o})=>ox(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const m0=new WeakMap,ay=new WeakMap,L3=r=>{const t=m0.get(r.target);t&&t(r)},k3=r=>{r.forEach(L3)};function P3({root:r,...t}){const e=r||document;ay.has(e)||ay.set(e,{});const n=ay.get(e),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(k3,{root:r,...t})),n[i]}function N3(r,t,e){const n=P3(t);return m0.set(r,e),n.observe(r),()=>{m0.delete(r),n.unobserve(r)}}const B3={some:0,all:1};class F3 extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:B3[i]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),v=d?p:m;v&&v(h)};return N3(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(I3(t,e))&&this.startObserver()}unmount(){}}function I3({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const z3={inView:{Feature:F3},tap:{Feature:O3},focus:{Feature:R3},hover:{Feature:D3}},j3={layout:{ProjectionNode:rM,MeasureLayout:yM}},V3={...h3,...z3,...M3,...j3},U3=a3(V3,o3);function vM(r){const t=lv(()=>To(r)),{isStatic:e}=U.useContext(rp);if(e){const[,n]=U.useState(r);U.useEffect(()=>t.on("change",n),[])}return t}function bM(r,t){const e=vM(t()),n=()=>e.set(t());return n(),FE(()=>{const i=()=>Me.preRender(n,!1,!0),o=r.map(l=>l.on("change",i));return()=>{o.forEach(l=>l()),Ks(n)}}),e}function H3(r){Tu.current=[],r();const t=bM(Tu.current,r);return Tu.current=void 0,t}function G3(r,t,e,n){if(typeof r=="function")return H3(r);const o=typeof t=="function"?t:_N(t,e,n);return Array.isArray(r)?lx(r,o):lx([r],([l])=>o(l))}function lx(r,t){const e=lv(()=>[]);return bM(r,()=>{e.length=0;const n=r.length;for(let i=0;i<n;i++)e[i]=r[i].get();return t(e)})}function X3(r){const t=U.useRef(0),{isStatic:e}=U.useContext(rp);U.useEffect(()=>{if(e)return;const n=({timestamp:i,delta:o})=>{t.current||(t.current=i),r(i-t.current,o)};return Me.update(n,!0),()=>Ks(n)},[r])}const $3=({text:r,disabled:t=!1,speed:e=2,className:n="",color:i="#b5b5b5",shineColor:o="#ffffff",spread:l=120,yoyo:c=!1,pauseOnHover:h=!1,direction:d="left",delay:p=0})=>{const[m,v]=U.useState(!1),g=vM(0),S=U.useRef(0),_=U.useRef(null),w=U.useRef(d==="left"?1:-1),A=e*1e3,T=p*1e3;X3(R=>{if(t||m){_.current=null;return}if(_.current===null){_.current=R;return}const k=R-_.current;if(_.current=R,S.current+=k,c){const F=A+T,$=F*2,H=S.current%$;if(H<A){const at=H/A*100;g.set(w.current===1?at:100-at)}else if(H<F)g.set(w.current===1?100:0);else if(H<F+A){const et=100-(H-F)/A*100;g.set(w.current===1?et:100-et)}else g.set(w.current===1?0:100)}else{const F=A+T,$=S.current%F;if($<A){const H=$/A*100;g.set(w.current===1?H:100-H)}else g.set(w.current===1?100:0)}}),U.useEffect(()=>{w.current=d==="left"?1:-1,S.current=0,g.set(0)},[d]);const E=G3(g,R=>`${150-R*2}% center`),D=U.useCallback(()=>{h&&v(!0)},[h]),C=U.useCallback(()=>{h&&v(!1)},[h]),L={backgroundImage:`linear-gradient(${l}deg, ${i} 0%, ${i} 35%, ${o} 50%, ${i} 65%, ${i} 100%)`,backgroundSize:"200% auto",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent"};return B.jsx(U3.span,{className:`shiny-text ${n} font-roboto text-3xl text-gray-900 md:text-center`,style:{...L,backgroundPosition:E},onMouseEnter:D,onMouseLeave:C,children:r})},cx=(r,t,e=400)=>[...r].map((n,i)=>B.jsx("span",{className:t,style:{fontVariationSettings:`'wght' ${e}`},children:n===" "?"":n},i)),Y3={subtitle:{min:100,max:400,default:100},title:{min:400,max:900,default:400}},ux=(r,t)=>{if(!r)return()=>{};const e=r.querySelectorAll("span"),{min:n,max:i,default:o}=Y3[t],l=(d,p,m=.25)=>Ea.to(d,{duration:m,ease:"power2.out",fontVariationSettings:`'wght' ${p}`}),c=d=>{const{left:p}=r.getBoundingClientRect(),m=d.clientX-p;e.forEach(v=>{const{left:g,width:S}=v.getBoundingClientRect(),_=Math.abs(m-(g-p+S/2)),w=Math.exp(-(_**2)/2e4);l(v,n+(i-n)*w)})},h=()=>e.forEach(d=>l(d,o,.3));return r.addEventListener("mousemove",c),r.addEventListener("mouseleave",h),()=>{r.removeEventListener("mousemove",c),r.removeEventListener("mouseleave",h)}},q3=()=>{const r=U.useRef(null),t=U.useRef(null);return Ca(()=>{const e=ux(r.current,"title"),n=ux(t.current,"subtitle");return()=>{n&&n(),e&&e()}},[]),B.jsxs("section",{id:"welcome",children:[B.jsx("p",{ref:t,children:cx("Hey, I'm Gagan! Welcome to my","text-3xl font-georama",100)}),B.jsx("h1",{ref:r,className:"mt-7",children:cx("Portfolio","text-9xl italic font-georama")}),B.jsx("br",{}),B.jsx("div",{children:B.jsx($3,{text:" Im a software engineer.",speed:2.5,color:"#b5b5b5",shineColor:"#ffffff",spread:120,direction:"left"})}),B.jsx("div",{className:"small-screen",children:B.jsx("p",{children:"This Portfolio is designed for desktop/tablet screens only."})})]})},tc=Math.min,So=Math.max,Bf=Math.round,jd=Math.floor,Ys=r=>({x:r,y:r}),W3={left:"right",right:"left",bottom:"top",top:"bottom"},K3={start:"end",end:"start"};function g0(r,t,e){return So(r,tc(t,e))}function ch(r,t){return typeof r=="function"?r(t):r}function Eo(r){return r.split("-")[0]}function uh(r){return r.split("-")[1]}function _M(r){return r==="x"?"y":"x"}function zv(r){return r==="y"?"height":"width"}const Q3=new Set(["top","bottom"]);function ya(r){return Q3.has(Eo(r))?"y":"x"}function jv(r){return _M(ya(r))}function Z3(r,t,e){e===void 0&&(e=!1);const n=uh(r),i=jv(r),o=zv(i);let l=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Ff(l)),[l,Ff(l)]}function J3(r){const t=Ff(r);return[y0(r),t,y0(t)]}function y0(r){return r.replace(/start|end/g,t=>K3[t])}const hx=["left","right"],dx=["right","left"],tF=["top","bottom"],eF=["bottom","top"];function nF(r,t,e){switch(r){case"top":case"bottom":return e?t?dx:hx:t?hx:dx;case"left":case"right":return t?tF:eF;default:return[]}}function iF(r,t,e,n){const i=uh(r);let o=nF(Eo(r),e==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(y0)))),o}function Ff(r){return r.replace(/left|right|bottom|top/g,t=>W3[t])}function sF(r){return{top:0,right:0,bottom:0,left:0,...r}}function SM(r){return typeof r!="number"?sF(r):{top:r,right:r,bottom:r,left:r}}function If(r){const{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function fx(r,t,e){let{reference:n,floating:i}=r;const o=ya(t),l=jv(t),c=zv(l),h=Eo(t),d=o==="y",p=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,v=n[c]/2-i[c]/2;let g;switch(h){case"top":g={x:p,y:n.y-i.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-i.width,y:m};break;default:g={x:n.x,y:n.y}}switch(uh(t)){case"start":g[l]-=v*(e&&d?-1:1);break;case"end":g[l]+=v*(e&&d?-1:1);break}return g}const rF=async(r,t,e)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=e,c=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:r,floating:t,strategy:i}),{x:p,y:m}=fx(d,n,h),v=n,g={},S=0;for(let _=0;_<c.length;_++){const{name:w,fn:A}=c[_],{x:T,y:E,data:D,reset:C}=await A({x:p,y:m,initialPlacement:n,placement:v,strategy:i,middlewareData:g,rects:d,platform:l,elements:{reference:r,floating:t}});p=T??p,m=E??m,g={...g,[w]:{...g[w],...D}},C&&S<=50&&(S++,typeof C=="object"&&(C.placement&&(v=C.placement),C.rects&&(d=C.rects===!0?await l.getElementRects({reference:r,floating:t,strategy:i}):C.rects),{x:p,y:m}=fx(d,v,h)),_=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:g}};async function AM(r,t){var e;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:h}=r,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:g=0}=ch(t,r),S=SM(g),w=c[v?m==="floating"?"reference":"floating":m],A=If(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(w)))==null||e?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:h})),T=m==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),D=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},C=If(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:E,strategy:h}):T);return{top:(A.top-C.top+S.top)/D.y,bottom:(C.bottom-A.bottom+S.bottom)/D.y,left:(A.left-C.left+S.left)/D.x,right:(C.right-A.right+S.right)/D.x}}const aF=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:h}=t,{element:d,padding:p=0}=ch(r,t)||{};if(d==null)return{};const m=SM(p),v={x:e,y:n},g=jv(i),S=zv(g),_=await l.getDimensions(d),w=g==="y",A=w?"top":"left",T=w?"bottom":"right",E=w?"clientHeight":"clientWidth",D=o.reference[S]+o.reference[g]-v[g]-o.floating[S],C=v[g]-o.reference[g],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let R=L?L[E]:0;(!R||!await(l.isElement==null?void 0:l.isElement(L)))&&(R=c.floating[E]||o.floating[S]);const k=D/2-C/2,F=R/2-_[S]/2-1,$=tc(m[A],F),H=tc(m[T],F),at=$,et=R-_[S]-H,q=R/2-_[S]/2+k,W=g0(at,q,et),O=!h.arrow&&uh(i)!=null&&q!==W&&o.reference[S]/2-(q<at?$:H)-_[S]/2<0,N=O?q<at?q-at:q-et:0;return{[g]:v[g]+N,data:{[g]:W,centerOffset:q-W-N,...O&&{alignmentOffset:N}},reset:O}}}),oF=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...w}=ch(r,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const A=Eo(i),T=ya(c),E=Eo(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),C=v||(E||!_?[Ff(c)]:J3(c)),L=S!=="none";!v&&L&&C.push(...iF(c,_,S,D));const R=[c,...C],k=await AM(t,w),F=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&F.push(k[A]),m){const q=Z3(i,l,D);F.push(k[q[0]],k[q[1]])}if($=[...$,{placement:i,overflows:F}],!F.every(q=>q<=0)){var H,at;const q=(((H=o.flip)==null?void 0:H.index)||0)+1,W=R[q];if(W&&(!(m==="alignment"?T!==ya(W):!1)||$.every(z=>ya(z.placement)===T?z.overflows[0]>0:!0)))return{data:{index:q,overflows:$},reset:{placement:W}};let O=(at=$.filter(N=>N.overflows[0]<=0).sort((N,z)=>N.overflows[1]-z.overflows[1])[0])==null?void 0:at.placement;if(!O)switch(g){case"bestFit":{var et;const N=(et=$.filter(z=>{if(L){const st=ya(z.placement);return st===T||st==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(st=>st>0).reduce((st,dt)=>st+dt,0)]).sort((z,st)=>z[1]-st[1])[0])==null?void 0:et[0];N&&(O=N);break}case"initialPlacement":O=c;break}if(i!==O)return{reset:{placement:O}}}return{}}}},lF=new Set(["left","top"]);async function cF(r,t){const{placement:e,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Eo(e),c=uh(e),h=ya(e)==="y",d=lF.has(l)?-1:1,p=o&&h?-1:1,m=ch(t,r);let{mainAxis:v,crossAxis:g,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof S=="number"&&(g=c==="end"?S*-1:S),h?{x:g*p,y:v*d}:{x:v*d,y:g*p}}const uF=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,n;const{x:i,y:o,placement:l,middlewareData:c}=t,h=await cF(t,r);return l===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:l}}}}},hF=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:w=>{let{x:A,y:T}=w;return{x:A,y:T}}},...h}=ch(r,t),d={x:e,y:n},p=await AM(t,h),m=ya(Eo(i)),v=_M(m);let g=d[v],S=d[m];if(o){const w=v==="y"?"top":"left",A=v==="y"?"bottom":"right",T=g+p[w],E=g-p[A];g=g0(T,g,E)}if(l){const w=m==="y"?"top":"left",A=m==="y"?"bottom":"right",T=S+p[w],E=S-p[A];S=g0(T,S,E)}const _=c.fn({...t,[v]:g,[m]:S});return{..._,data:{x:_.x-e,y:_.y-n,enabled:{[v]:o,[m]:l}}}}}};function op(){return typeof window<"u"}function cc(r){return wM(r)?(r.nodeName||"").toLowerCase():"#document"}function zi(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Zs(r){var t;return(t=(wM(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function wM(r){return op()?r instanceof Node||r instanceof zi(r).Node:!1}function Cs(r){return op()?r instanceof Element||r instanceof zi(r).Element:!1}function Qs(r){return op()?r instanceof HTMLElement||r instanceof zi(r).HTMLElement:!1}function px(r){return!op()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof zi(r).ShadowRoot}const dF=new Set(["inline","contents"]);function hh(r){const{overflow:t,overflowX:e,overflowY:n,display:i}=Ms(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!dF.has(i)}const fF=new Set(["table","td","th"]);function pF(r){return fF.has(cc(r))}const mF=[":popover-open",":modal"];function lp(r){return mF.some(t=>{try{return r.matches(t)}catch{return!1}})}const gF=["transform","translate","scale","rotate","perspective"],yF=["transform","translate","scale","rotate","perspective","filter"],vF=["paint","layout","strict","content"];function Vv(r){const t=Uv(),e=Cs(r)?Ms(r):r;return gF.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||yF.some(n=>(e.willChange||"").includes(n))||vF.some(n=>(e.contain||"").includes(n))}function bF(r){let t=Da(r);for(;Qs(t)&&!ec(t);){if(Vv(t))return t;if(lp(t))return null;t=Da(t)}return null}function Uv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _F=new Set(["html","body","#document"]);function ec(r){return _F.has(cc(r))}function Ms(r){return zi(r).getComputedStyle(r)}function cp(r){return Cs(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Da(r){if(cc(r)==="html")return r;const t=r.assignedSlot||r.parentNode||px(r)&&r.host||Zs(r);return px(t)?t.host:t}function xM(r){const t=Da(r);return ec(t)?r.ownerDocument?r.ownerDocument.body:r.body:Qs(t)&&hh(t)?t:xM(t)}function qu(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=xM(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=zi(i);if(o){const c=v0(l);return t.concat(l,l.visualViewport||[],hh(i)?i:[],c&&e?qu(c):[])}return t.concat(i,qu(i,[],e))}function v0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function TM(r){const t=Ms(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Qs(r),o=i?r.offsetWidth:e,l=i?r.offsetHeight:n,c=Bf(e)!==o||Bf(n)!==l;return c&&(e=o,n=l),{width:e,height:n,$:c}}function Hv(r){return Cs(r)?r:r.contextElement}function Fl(r){const t=Hv(r);if(!Qs(t))return Ys(1);const e=t.getBoundingClientRect(),{width:n,height:i,$:o}=TM(t);let l=(o?Bf(e.width):e.width)/n,c=(o?Bf(e.height):e.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const SF=Ys(0);function EM(r){const t=zi(r);return!Uv()||!t.visualViewport?SF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AF(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==zi(r)?!1:t}function Co(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=r.getBoundingClientRect(),o=Hv(r);let l=Ys(1);t&&(n?Cs(n)&&(l=Fl(n)):l=Fl(r));const c=AF(o,e,n)?EM(o):Ys(0);let h=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,p=i.width/l.x,m=i.height/l.y;if(o){const v=zi(o),g=n&&Cs(n)?zi(n):n;let S=v,_=v0(S);for(;_&&n&&g!==S;){const w=Fl(_),A=_.getBoundingClientRect(),T=Ms(_),E=A.left+(_.clientLeft+parseFloat(T.paddingLeft))*w.x,D=A.top+(_.clientTop+parseFloat(T.paddingTop))*w.y;h*=w.x,d*=w.y,p*=w.x,m*=w.y,h+=E,d+=D,S=zi(_),_=v0(S)}}return If({width:p,height:m,x:h,y:d})}function up(r,t){const e=cp(r).scrollLeft;return t?t.left+e:Co(Zs(r)).left+e}function CM(r,t){const e=r.getBoundingClientRect(),n=e.left+t.scrollLeft-up(r,e),i=e.top+t.scrollTop;return{x:n,y:i}}function wF(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=Zs(n),c=t?lp(t.floating):!1;if(n===l||c&&o)return e;let h={scrollLeft:0,scrollTop:0},d=Ys(1);const p=Ys(0),m=Qs(n);if((m||!m&&!o)&&((cc(n)!=="body"||hh(l))&&(h=cp(n)),Qs(n))){const g=Co(n);d=Fl(n),p.x=g.x+n.clientLeft,p.y=g.y+n.clientTop}const v=l&&!m&&!o?CM(l,h):Ys(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-h.scrollLeft*d.x+p.x+v.x,y:e.y*d.y-h.scrollTop*d.y+p.y+v.y}}function xF(r){return Array.from(r.getClientRects())}function TF(r){const t=Zs(r),e=cp(r),n=r.ownerDocument.body,i=So(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=So(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-e.scrollLeft+up(r);const c=-e.scrollTop;return Ms(n).direction==="rtl"&&(l+=So(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}const mx=25;function EF(r,t){const e=zi(r),n=Zs(r),i=e.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,h=0;if(i){o=i.width,l=i.height;const p=Uv();(!p||p&&t==="fixed")&&(c=i.offsetLeft,h=i.offsetTop)}const d=up(n);if(d<=0){const p=n.ownerDocument,m=p.body,v=getComputedStyle(m),g=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-m.clientWidth-g);S<=mx&&(o-=S)}else d<=mx&&(o+=d);return{width:o,height:l,x:c,y:h}}const CF=new Set(["absolute","fixed"]);function MF(r,t){const e=Co(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,o=Qs(r)?Fl(r):Ys(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,h=i*o.x,d=n*o.y;return{width:l,height:c,x:h,y:d}}function gx(r,t,e){let n;if(t==="viewport")n=EF(r,e);else if(t==="document")n=TF(Zs(r));else if(Cs(t))n=MF(t,e);else{const i=EM(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return If(n)}function MM(r,t){const e=Da(r);return e===t||!Cs(e)||ec(e)?!1:Ms(e).position==="fixed"||MM(e,t)}function DF(r,t){const e=t.get(r);if(e)return e;let n=qu(r,[],!1).filter(c=>Cs(c)&&cc(c)!=="body"),i=null;const o=Ms(r).position==="fixed";let l=o?Da(r):r;for(;Cs(l)&&!ec(l);){const c=Ms(l),h=Vv(l);!h&&c.position==="fixed"&&(i=null),(o?!h&&!i:!h&&c.position==="static"&&!!i&&CF.has(i.position)||hh(l)&&!h&&MM(r,l))?n=n.filter(p=>p!==l):i=c,l=Da(l)}return t.set(r,n),n}function RF(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r;const l=[...e==="clippingAncestors"?lp(t)?[]:DF(t,this._c):[].concat(e),n],c=l[0],h=l.reduce((d,p)=>{const m=gx(t,p,i);return d.top=So(m.top,d.top),d.right=tc(m.right,d.right),d.bottom=tc(m.bottom,d.bottom),d.left=So(m.left,d.left),d},gx(t,c,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function OF(r){const{width:t,height:e}=TM(r);return{width:t,height:e}}function LF(r,t,e){const n=Qs(t),i=Zs(t),o=e==="fixed",l=Co(r,!0,o,t);let c={scrollLeft:0,scrollTop:0};const h=Ys(0);function d(){h.x=up(i)}if(n||!n&&!o)if((cc(t)!=="body"||hh(i))&&(c=cp(t)),n){const g=Co(t,!0,o,t);h.x=g.x+t.clientLeft,h.y=g.y+t.clientTop}else i&&d();o&&!n&&i&&d();const p=i&&!n&&!o?CM(i,c):Ys(0),m=l.left+c.scrollLeft-h.x-p.x,v=l.top+c.scrollTop-h.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function oy(r){return Ms(r).position==="static"}function yx(r,t){if(!Qs(r)||Ms(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return Zs(r)===e&&(e=e.ownerDocument.body),e}function DM(r,t){const e=zi(r);if(lp(r))return e;if(!Qs(r)){let i=Da(r);for(;i&&!ec(i);){if(Cs(i)&&!oy(i))return i;i=Da(i)}return e}let n=yx(r,t);for(;n&&pF(n)&&oy(n);)n=yx(n,t);return n&&ec(n)&&oy(n)&&!Vv(n)?e:n||bF(r)||e}const kF=async function(r){const t=this.getOffsetParent||DM,e=this.getDimensions,n=await e(r.floating);return{reference:LF(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PF(r){return Ms(r).direction==="rtl"}const NF={convertOffsetParentRelativeRectToViewportRelativeRect:wF,getDocumentElement:Zs,getClippingRect:RF,getOffsetParent:DM,getElementRects:kF,getClientRects:xF,getDimensions:OF,getScale:Fl,isElement:Cs,isRTL:PF};function RM(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function BF(r,t){let e=null,n;const i=Zs(r);function o(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const d=r.getBoundingClientRect(),{left:p,top:m,width:v,height:g}=d;if(c||t(),!v||!g)return;const S=jd(m),_=jd(i.clientWidth-(p+v)),w=jd(i.clientHeight-(m+g)),A=jd(p),E={rootMargin:-S+"px "+-_+"px "+-w+"px "+-A+"px",threshold:So(0,tc(1,h))||1};let D=!0;function C(L){const R=L[0].intersectionRatio;if(R!==h){if(!D)return l();R?l(!1,R):n=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!RM(d,r.getBoundingClientRect())&&l(),D=!1}try{e=new IntersectionObserver(C,{...E,root:i.ownerDocument})}catch{e=new IntersectionObserver(C,E)}e.observe(r)}return l(!0),o}function FF(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,d=Hv(r),p=i||o?[...d?qu(d):[],...qu(t)]:[];p.forEach(A=>{i&&A.addEventListener("scroll",e,{passive:!0}),o&&A.addEventListener("resize",e)});const m=d&&c?BF(d,e):null;let v=-1,g=null;l&&(g=new ResizeObserver(A=>{let[T]=A;T&&T.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(t)})),e()}),d&&!h&&g.observe(d),g.observe(t));let S,_=h?Co(r):null;h&&w();function w(){const A=Co(r);_&&!RM(_,A)&&e(),_=A,S=requestAnimationFrame(w)}return e(),()=>{var A;p.forEach(T=>{i&&T.removeEventListener("scroll",e),o&&T.removeEventListener("resize",e)}),m?.(),(A=g)==null||A.disconnect(),g=null,h&&cancelAnimationFrame(S)}}const IF=uF,zF=hF,jF=oF,VF=aF,vx=(r,t,e)=>{const n=new Map,i={platform:NF,...e},o={...i.platform,_c:n};return rF(r,t,{...i,platform:o})};var ly={exports:{}};var bx;function UF(){return bx||(bx=1,(function(r){(function(){var t={}.hasOwnProperty;function e(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}r.exports?(e.default=e,r.exports=e):window.classNames=e})()})(ly)),ly.exports}var HF=UF();const b0=$f(HF);var _x={};const GF="react-tooltip-core-styles",XF="react-tooltip-base-styles",Sx={core:!1,base:!1};function Ax({css:r,id:t=XF,type:e="base",ref:n}){var i,o;if(!r||typeof document>"u"||Sx[e]||e==="core"&&typeof process<"u"&&(!((i=process==null?void 0:_x)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||e!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:_x)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;e==="core"&&(t=GF),n||(n={});const{insertAt:l}=n;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=r:h.appendChild(document.createTextNode(r)),Sx[e]=!0}const wx=async({elementReference:r=null,tooltipReference:t=null,tooltipArrowReference:e=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:l=[IF(Number(i)),jF({fallbackAxisSideDirection:"start"}),zF({padding:5})],border:c,arrowSize:h=8})=>{if(!r)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const d=l;return e?(d.push(VF({element:e,padding:5})),vx(r,t,{placement:n,strategy:o,middleware:d}).then((({x:p,y:m,placement:v,middlewareData:g})=>{var S,_;const w={left:`${p}px`,top:`${m}px`,border:c},{x:A,y:T}=(S=g.arrow)!==null&&S!==void 0?S:{x:0,y:0},E=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]])!==null&&_!==void 0?_:"bottom",D=c&&{borderBottom:c,borderRight:c};let C=0;if(c){const L=`${c}`.match(/(\d+)px/);C=L?.[1]?Number(L[1]):1}return{tooltipStyles:w,tooltipArrowStyles:{left:A!=null?`${A}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...D,[E]:`-${h/2+C}px`},place:v}}))):vx(r,t,{placement:"bottom",strategy:o,middleware:d}).then((({x:p,y:m,placement:v})=>({tooltipStyles:{left:`${p}px`,top:`${m}px`},tooltipArrowStyles:{},place:v})))},xx=(r,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(r,t),Tx=(r,t,e)=>{let n=null;const i=function(...o){const l=()=>{n=null};!n&&(r.apply(this,o),n=setTimeout(l,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},Ex=r=>r!==null&&!Array.isArray(r)&&typeof r=="object",_0=(r,t)=>{if(r===t)return!0;if(Array.isArray(r)&&Array.isArray(t))return r.length===t.length&&r.every(((i,o)=>_0(i,t[o])));if(Array.isArray(r)!==Array.isArray(t))return!1;if(!Ex(r)||!Ex(t))return r===t;const e=Object.keys(r),n=Object.keys(t);return e.length===n.length&&e.every((i=>_0(r[i],t[i])))},$F=r=>{if(!(r instanceof HTMLElement||r instanceof SVGElement))return!1;const t=getComputedStyle(r);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return n==="auto"||n==="scroll"}))},Cx=r=>{if(!r)return null;let t=r.parentElement;for(;t;){if($F(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},YF=typeof window<"u"?U.useLayoutEffect:U.useEffect,ts=r=>{r.current&&(clearTimeout(r.current),r.current=null)},qF="DEFAULT_TOOLTIP_ID",WF={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},KF=U.createContext({getTooltipData:()=>WF});function OM(r=qF){return U.useContext(KF).getTooltipData(r)}var vl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},cy={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const QF=({forwardRef:r,id:t,className:e,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:l,place:c="top",offset:h=10,events:d=["hover"],openOnClick:p=!1,positionStrategy:m="absolute",middlewares:v,wrapper:g,delayShow:S=0,delayHide:_=0,float:w=!1,hidden:A=!1,noArrow:T=!1,clickable:E=!1,closeOnEsc:D=!1,closeOnScroll:C=!1,closeOnResize:L=!1,openEvents:R,closeEvents:k,globalCloseEvents:F,imperativeModeOnly:$,style:H,position:at,afterShow:et,afterHide:q,disableTooltip:W,content:O,contentWrapperRef:N,isOpen:z,defaultIsOpen:st=!1,setIsOpen:dt,previousActiveAnchor:P,activeAnchor:j,setActiveAnchor:Z,border:it,opacity:ft,arrowColor:yt,arrowSize:gt=8,role:Dt="tooltip"})=>{var Pt;const kt=U.useRef(null),Rt=U.useRef(null),Wt=U.useRef(null),zt=U.useRef(null),Ct=U.useRef(null),[bt,Re]=U.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[It,We]=U.useState(!1),[Fn,cn]=U.useState(!1),[he,Se]=U.useState(null),fs=U.useRef(!1),Ae=U.useRef(null),{anchorRefs:ps,setActiveAnchor:en}=OM(t),An=U.useRef(!1),[Oe,In]=U.useState([]),je=U.useRef(!1),si=p||d.includes("click"),Fr=si||R?.click||R?.dblclick||R?.mousedown,Wn=R?{...R}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!R&&si&&Object.assign(Wn,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Pe=k?{...k}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!k&&si&&Object.assign(Pe,{mouseleave:!1,blur:!1,mouseout:!1});const de=F?{...F}:{escape:D||!1,scroll:C||!1,resize:L||!1,clickOutsideAnchor:Fr||!1};$&&(Object.assign(Wn,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Pe,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(de,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),YF((()=>(je.current=!0,()=>{je.current=!1})),[]);const le=ct=>{je.current&&(ct&&cn(!0),setTimeout((()=>{je.current&&(dt?.(ct),z===void 0&&We(ct))}),10))};U.useEffect((()=>{if(t){if(It){ht(P);const mt=ct(j),_t=[...new Set([...mt,t])].filter(Boolean).join(" ");j?.setAttribute("aria-describedby",_t)}else ht(j);return()=>{ht(j),ht(P)}}function ct(mt){var _t;return((_t=mt?.getAttribute("aria-describedby"))===null||_t===void 0?void 0:_t.split(" "))||[]}function ht(mt){const _t=ct(mt).filter((Bt=>Bt!==t));_t.length?mt?.setAttribute("aria-describedby",_t.join(" ")):mt?.removeAttribute("aria-describedby")}}),[j,It,t,P]),U.useEffect((()=>{if(z===void 0)return()=>null;z&&cn(!0);const ct=setTimeout((()=>{We(z)}),10);return()=>{clearTimeout(ct)}}),[z]),U.useEffect((()=>{if(It!==fs.current)if(ts(Ct),fs.current=It,It)et?.();else{const ct=(ht=>{const mt=ht.match(/^([\d.]+)(ms|s)$/);if(!mt)return 0;const[,_t,Bt]=mt;return Number(_t)*(Bt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ct.current=setTimeout((()=>{cn(!1),Se(null),q?.()}),ct+25)}}),[It]);const Js=ct=>{Re((ht=>_0(ht,ct)?ht:ct))},bi=(ct=S)=>{ts(Wt),Fn?le(!0):Wt.current=setTimeout((()=>{le(!0)}),ct)},zn=(ct=_)=>{ts(zt),zt.current=setTimeout((()=>{An.current||le(!1)}),ct)},jn=ct=>{var ht;if(!ct)return;const mt=(ht=ct.currentTarget)!==null&&ht!==void 0?ht:ct.target;if(!mt?.isConnected)return Z(null),void en({current:null});S?bi():le(!0),Z(mt),en({current:mt}),ts(zt)},Ve=()=>{E?zn(_||100):_?zn():le(!1),ts(Wt)},Vn=({x:ct,y:ht})=>{var mt;const _t={getBoundingClientRect:()=>({x:ct,y:ht,width:0,height:0,top:ht,left:ct,right:ct,bottom:ht})};wx({place:(mt=he?.place)!==null&&mt!==void 0?mt:c,offset:h,elementReference:_t,tooltipReference:kt.current,tooltipArrowReference:Rt.current,strategy:m,middlewares:v,border:it,arrowSize:gt}).then((Bt=>{Js(Bt)}))},Mn=ct=>{if(!ct)return;const ht=ct,mt={x:ht.clientX,y:ht.clientY};Vn(mt),Ae.current=mt},_i=ct=>{var ht;if(!It)return;const mt=ct.target;mt.isConnected&&(!((ht=kt.current)===null||ht===void 0)&&ht.contains(mt)||[document.querySelector(`[id='${o}']`),...Oe].some((_t=>_t?.contains(mt)))||(le(!1),ts(Wt)))},wt=Tx(jn,50),V=Tx(Ve,50),ot=ct=>{V.cancel(),wt(ct)},X=()=>{wt.cancel(),V()},nt=U.useCallback((()=>{var ct,ht;const mt=(ct=he?.position)!==null&&ct!==void 0?ct:at;mt?Vn(mt):w?Ae.current&&Vn(Ae.current):j?.isConnected&&wx({place:(ht=he?.place)!==null&&ht!==void 0?ht:c,offset:h,elementReference:j,tooltipReference:kt.current,tooltipArrowReference:Rt.current,strategy:m,middlewares:v,border:it,arrowSize:gt}).then((_t=>{je.current&&Js(_t)}))}),[It,j,O,H,c,he?.place,h,m,at,he?.position,w,gt]);U.useEffect((()=>{var ct,ht;const mt=new Set(ps);Oe.forEach((ie=>{W?.(ie)||mt.add({current:ie})}));const _t=document.querySelector(`[id='${o}']`);_t&&!W?.(_t)&&mt.add({current:_t});const Bt=()=>{le(!1)},ne=Cx(j),Zt=Cx(kt.current);de.scroll&&(window.addEventListener("scroll",Bt),ne?.addEventListener("scroll",Bt),Zt?.addEventListener("scroll",Bt));let Ht=null;de.resize?window.addEventListener("resize",Bt):j&&kt.current&&(Ht=FF(j,kt.current,nt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Yt=ie=>{ie.key==="Escape"&&le(!1)};de.escape&&window.addEventListener("keydown",Yt),de.clickOutsideAnchor&&window.addEventListener("click",_i);const qt=[],ge=ie=>!!(ie?.target&&j?.contains(ie.target)),Ne=ie=>{It&&ge(ie)||jn(ie)},Na=ie=>{It&&ge(ie)&&Ve()},vn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ir=["click","dblclick","mousedown","mouseup"];Object.entries(Wn).forEach((([ie,Un])=>{Un&&(vn.includes(ie)?qt.push({event:ie,listener:ot}):Ir.includes(ie)&&qt.push({event:ie,listener:Ne}))})),Object.entries(Pe).forEach((([ie,Un])=>{Un&&(vn.includes(ie)?qt.push({event:ie,listener:X}):Ir.includes(ie)&&qt.push({event:ie,listener:Na}))})),w&&qt.push({event:"pointermove",listener:Mn});const Bo=()=>{An.current=!0},tr=()=>{An.current=!1,Ve()},er=E&&(Pe.mouseout||Pe.mouseleave);return er&&((ct=kt.current)===null||ct===void 0||ct.addEventListener("mouseover",Bo),(ht=kt.current)===null||ht===void 0||ht.addEventListener("mouseout",tr)),qt.forEach((({event:ie,listener:Un})=>{mt.forEach((Ke=>{var zr;(zr=Ke.current)===null||zr===void 0||zr.addEventListener(ie,Un)}))})),()=>{var ie,Un;de.scroll&&(window.removeEventListener("scroll",Bt),ne?.removeEventListener("scroll",Bt),Zt?.removeEventListener("scroll",Bt)),de.resize?window.removeEventListener("resize",Bt):Ht?.(),de.clickOutsideAnchor&&window.removeEventListener("click",_i),de.escape&&window.removeEventListener("keydown",Yt),er&&((ie=kt.current)===null||ie===void 0||ie.removeEventListener("mouseover",Bo),(Un=kt.current)===null||Un===void 0||Un.removeEventListener("mouseout",tr)),qt.forEach((({event:Ke,listener:zr})=>{mt.forEach((Sh=>{var ms;(ms=Sh.current)===null||ms===void 0||ms.removeEventListener(Ke,zr)}))}))}}),[j,nt,Fn,ps,Oe,R,k,F,si,S,_]),U.useEffect((()=>{var ct,ht;let mt=(ht=(ct=he?.anchorSelect)!==null&&ct!==void 0?ct:l)!==null&&ht!==void 0?ht:"";!mt&&t&&(mt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const _t=new MutationObserver((Bt=>{const ne=[],Zt=[];Bt.forEach((Ht=>{if(Ht.type==="attributes"&&Ht.attributeName==="data-tooltip-id"&&(Ht.target.getAttribute("data-tooltip-id")===t?ne.push(Ht.target):Ht.oldValue===t&&Zt.push(Ht.target)),Ht.type==="childList"){if(j){const Yt=[...Ht.removedNodes].filter((qt=>qt.nodeType===1));if(mt)try{Zt.push(...Yt.filter((qt=>qt.matches(mt)))),Zt.push(...Yt.flatMap((qt=>[...qt.querySelectorAll(mt)])))}catch{}Yt.some((qt=>{var ge;return!!(!((ge=qt?.contains)===null||ge===void 0)&&ge.call(qt,j))&&(cn(!1),le(!1),Z(null),ts(Wt),ts(zt),!0)}))}if(mt)try{const Yt=[...Ht.addedNodes].filter((qt=>qt.nodeType===1));ne.push(...Yt.filter((qt=>qt.matches(mt)))),ne.push(...Yt.flatMap((qt=>[...qt.querySelectorAll(mt)])))}catch{}}})),(ne.length||Zt.length)&&In((Ht=>[...Ht.filter((Yt=>!Zt.includes(Yt))),...ne]))}));return _t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{_t.disconnect()}}),[t,l,he?.anchorSelect,j]),U.useEffect((()=>{nt()}),[nt]),U.useEffect((()=>{if(!N?.current)return()=>null;const ct=new ResizeObserver((()=>{setTimeout((()=>nt()))}));return ct.observe(N.current),()=>{ct.disconnect()}}),[O,N?.current]),U.useEffect((()=>{var ct;const ht=document.querySelector(`[id='${o}']`),mt=[...Oe,ht];j&&mt.includes(j)||Z((ct=Oe[0])!==null&&ct!==void 0?ct:ht)}),[o,Oe,j]),U.useEffect((()=>(st&&le(!0),()=>{ts(Wt),ts(zt)})),[]),U.useEffect((()=>{var ct;let ht=(ct=he?.anchorSelect)!==null&&ct!==void 0?ct:l;if(!ht&&t&&(ht=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ht)try{const mt=Array.from(document.querySelectorAll(ht));In(mt)}catch{In([])}}),[t,l,he?.anchorSelect]),U.useEffect((()=>{Wt.current&&(ts(Wt),bi(S))}),[S]);const pt=(Pt=he?.content)!==null&&Pt!==void 0?Pt:O,vt=It&&Object.keys(bt.tooltipStyles).length>0;return U.useImperativeHandle(r,(()=>({open:ct=>{if(ct?.anchorSelect)try{document.querySelector(ct.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ct.anchorSelect}" is not a valid CSS selector`)}Se(ct??null),ct?.delay?bi(ct.delay):le(!0)},close:ct=>{ct?.delay?zn(ct.delay):le(!1)},activeAnchor:j,place:bt.place,isOpen:!!(Fn&&!A&&pt&&vt)}))),Fn&&!A&&pt?xs.createElement(g,{id:t,role:Dt,className:b0("react-tooltip",vl.tooltip,cy.tooltip,cy[i],e,`react-tooltip__place-${bt.place}`,vl[vt?"show":"closing"],vt?"react-tooltip__show":"react-tooltip__closing",m==="fixed"&&vl.fixed,E&&vl.clickable),onTransitionEnd:ct=>{ts(Ct),It||ct.propertyName!=="opacity"||(cn(!1),Se(null),q?.())},style:{...H,...bt.tooltipStyles,opacity:ft!==void 0&&vt?ft:void 0},ref:kt},pt,xs.createElement(g,{className:b0("react-tooltip-arrow",vl.arrow,cy.arrow,n,T&&vl.noArrow),style:{...bt.tooltipArrowStyles,background:yt?`linear-gradient(to right bottom, transparent 50%, ${yt} 50%)`:void 0,"--rt-arrow-size":`${gt}px`},ref:Rt})):null},ZF=({content:r})=>xs.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),JF=xs.forwardRef((({id:r,anchorId:t,anchorSelect:e,content:n,html:i,render:o,className:l,classNameArrow:c,variant:h="dark",place:d="top",offset:p=10,wrapper:m="div",children:v=null,events:g=["hover"],openOnClick:S=!1,positionStrategy:_="absolute",middlewares:w,delayShow:A=0,delayHide:T=0,float:E=!1,hidden:D=!1,noArrow:C=!1,clickable:L=!1,closeOnEsc:R=!1,closeOnScroll:k=!1,closeOnResize:F=!1,openEvents:$,closeEvents:H,globalCloseEvents:at,imperativeModeOnly:et=!1,style:q,position:W,isOpen:O,defaultIsOpen:N=!1,disableStyleInjection:z=!1,border:st,opacity:dt,arrowColor:P,arrowSize:j,setIsOpen:Z,afterShow:it,afterHide:ft,disableTooltip:yt,role:gt="tooltip"},Dt)=>{const[Pt,kt]=U.useState(n),[Rt,Wt]=U.useState(i),[zt,Ct]=U.useState(d),[bt,Re]=U.useState(h),[It,We]=U.useState(p),[Fn,cn]=U.useState(A),[he,Se]=U.useState(T),[fs,Ae]=U.useState(E),[ps,en]=U.useState(D),[An,Oe]=U.useState(m),[In,je]=U.useState(g),[si,Fr]=U.useState(_),[Wn,Pe]=U.useState(null),[de,le]=U.useState(null),Js=U.useRef(null),bi=U.useRef(z),{anchorRefs:zn,activeAnchor:jn}=OM(r),Ve=V=>V?.getAttributeNames().reduce(((ot,X)=>{var nt;return X.startsWith("data-tooltip-")&&(ot[X.replace(/^data-tooltip-/,"")]=(nt=V?.getAttribute(X))!==null&&nt!==void 0?nt:null),ot}),{}),Vn=V=>{const ot={place:X=>{var nt;Ct((nt=X)!==null&&nt!==void 0?nt:d)},content:X=>{kt(X??n)},html:X=>{Wt(X??i)},variant:X=>{var nt;Re((nt=X)!==null&&nt!==void 0?nt:h)},offset:X=>{We(X===null?p:Number(X))},wrapper:X=>{var nt;Oe((nt=X)!==null&&nt!==void 0?nt:m)},events:X=>{const nt=X?.split(" ");je(nt??g)},"position-strategy":X=>{var nt;Fr((nt=X)!==null&&nt!==void 0?nt:_)},"delay-show":X=>{cn(X===null?A:Number(X))},"delay-hide":X=>{Se(X===null?T:Number(X))},float:X=>{Ae(X===null?E:X==="true")},hidden:X=>{en(X===null?D:X==="true")},"class-name":X=>{Pe(X)}};Object.values(ot).forEach((X=>X(null))),Object.entries(V).forEach((([X,nt])=>{var pt;(pt=ot[X])===null||pt===void 0||pt.call(ot,nt)}))};U.useEffect((()=>{kt(n)}),[n]),U.useEffect((()=>{Wt(i)}),[i]),U.useEffect((()=>{Ct(d)}),[d]),U.useEffect((()=>{Re(h)}),[h]),U.useEffect((()=>{We(p)}),[p]),U.useEffect((()=>{cn(A)}),[A]),U.useEffect((()=>{Se(T)}),[T]),U.useEffect((()=>{Ae(E)}),[E]),U.useEffect((()=>{en(D)}),[D]),U.useEffect((()=>{Fr(_)}),[_]),U.useEffect((()=>{bi.current!==z&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[z]),U.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:z==="core",disableBase:z}}))}),[]),U.useEffect((()=>{var V;const ot=new Set(zn);let X=e;if(!X&&r&&(X=`[data-tooltip-id='${r.replace(/'/g,"\\'")}']`),X)try{document.querySelectorAll(X).forEach((ht=>{ot.add({current:ht})}))}catch{console.warn(`[react-tooltip] "${X}" is not a valid CSS selector`)}const nt=document.querySelector(`[id='${t}']`);if(nt&&ot.add({current:nt}),!ot.size)return()=>null;const pt=(V=de??nt)!==null&&V!==void 0?V:jn.current,vt=new MutationObserver((ht=>{ht.forEach((mt=>{var _t;if(!pt||mt.type!=="attributes"||!(!((_t=mt.attributeName)===null||_t===void 0)&&_t.startsWith("data-tooltip-")))return;const Bt=Ve(pt);Vn(Bt)}))})),ct={attributes:!0,childList:!1,subtree:!1};if(pt){const ht=Ve(pt);Vn(ht),vt.observe(pt,ct)}return()=>{vt.disconnect()}}),[zn,jn,de,t,e]),U.useEffect((()=>{q?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),st&&!xx("border",`${st}`)&&console.warn(`[react-tooltip] "${st}" is not a valid \`border\`.`),q?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),dt&&!xx("opacity",`${dt}`)&&console.warn(`[react-tooltip] "${dt}" is not a valid \`opacity\`.`)}),[]);let Mn=v;const _i=U.useRef(null);if(o){const V=o({content:de?.getAttribute("data-tooltip-content")||Pt||null,activeAnchor:de});Mn=V?xs.createElement("div",{ref:_i,className:"react-tooltip-content-wrapper"},V):null}else Pt&&(Mn=Pt);Rt&&(Mn=xs.createElement(ZF,{content:Rt}));const wt={forwardRef:Dt,id:r,anchorId:t,anchorSelect:e,className:b0(l,Wn),classNameArrow:c,content:Mn,contentWrapperRef:_i,place:zt,variant:bt,offset:It,wrapper:An,events:In,openOnClick:S,positionStrategy:si,middlewares:w,delayShow:Fn,delayHide:he,float:fs,hidden:ps,noArrow:C,clickable:L,closeOnEsc:R,closeOnScroll:k,closeOnResize:F,openEvents:$,closeEvents:H,globalCloseEvents:at,imperativeModeOnly:et,style:q,position:W,isOpen:O,defaultIsOpen:N,border:st,opacity:dt,arrowColor:P,arrowSize:j,setIsOpen:Z,afterShow:it,afterHide:ft,disableTooltip:yt,activeAnchor:de,previousActiveAnchor:Js.current,setActiveAnchor:V=>{le((ot=>(V?.isSameNode(ot)||(Js.current=ot),V)))},role:gt};return xs.createElement(QF,{...wt})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(r=>{r.detail.disableCore||Ax({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),r.detail.disableBase||Ax({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));const Mx=Cr.work,Gv=j0(NT(r=>({activeLocation:Mx,setActiveLocation:(t=null)=>r(e=>{e.activeLocation=t}),resetActiveLocation:()=>r(t=>{t.activeLocation=Mx})})));Ea.registerPlugin(Ca);const tI=()=>{const r=Gv(l=>l.setActiveLocation),t=hs(l=>l.openWindow),e=hs(l=>l.closeWindow),n=hs(l=>l.windows),i=U.useRef(null);Ca(()=>{const l=i.current;if(!l)return;const c=l.querySelectorAll(".dock-icon"),h=m=>{const{left:v}=l.getBoundingClientRect();c.forEach(g=>{const{left:S,width:_}=g.getBoundingClientRect(),w=S-v+_/2,A=Math.abs(m-w),T=Math.exp(-(A**2.5)/2e4);Ea.to(g,{scale:1+.25*T,y:-15*T,duration:.2,ease:"power1.out"})})},d=m=>{const{left:v}=l.getBoundingClientRect();h(m.clientX-v)},p=()=>{c.forEach(m=>Ea.to(m,{scale:1,y:0,duration:.3,ease:"power1.out"}))};return l.addEventListener("mousemove",d),l.addEventListener("mouseleave",p),()=>{l.removeEventListener("mousemove",d),l.removeEventListener("mouseleave",p)}},[]);const o=({id:l})=>{if(l==="trash")return r(Cr.trash),t("finder");const c=n[l];c&&(c.isOpen?e(l):t(l),console.log(c))};return B.jsx("section",{id:"dock",children:B.jsxs("div",{ref:i,className:"dock-container",children:[pO.map(({id:l,name:c,icon:h,canOpen:d})=>B.jsx("div",{className:"relative flex justify-center",children:B.jsx("button",{type:"button",className:`dock-icon ${d?"":"opacity-60 cursor-not-allowed"}`,"aria-label":c,"data-tooltip-id":"dock-tooltip","data-tooltip-content":c,disabled:!d,onClick:()=>d&&o({id:l}),children:B.jsx("img",{src:h,alt:c,loading:"lazy"})})},l)),B.jsx(JF,{id:"dock-tooltip",place:"top",className:"tooltip"})]})})},eI=({sparkColor:r="#fff",sparkSize:t=10,sparkRadius:e=15,sparkCount:n=8,duration:i=400,easing:o="ease-out",extraScale:l=1,children:c})=>{const h=U.useRef(null),d=U.useRef([]),p=U.useRef(null);U.useEffect(()=>{const g=h.current;if(!g)return;const S=g.parentElement;if(!S)return;let _;const w=()=>{const{width:E,height:D}=S.getBoundingClientRect();(g.width!==E||g.height!==D)&&(g.width=E,g.height=D)},A=()=>{clearTimeout(_),_=setTimeout(w,100)},T=new ResizeObserver(A);return T.observe(S),w(),()=>{T.disconnect(),clearTimeout(_)}},[]);const m=U.useCallback(g=>{switch(o){case"linear":return g;case"ease-in":return g*g;case"ease-in-out":return g<.5?2*g*g:-1+(4-2*g)*g;default:return g*(2-g)}},[o]);U.useEffect(()=>{const g=h.current;if(!g)return;const S=g.getContext("2d");let _;const w=A=>{p.current||(p.current=A),S.clearRect(0,0,g.width,g.height),d.current=d.current.filter(T=>{const E=A-T.startTime;if(E>=i)return!1;const D=E/i,C=m(D),L=C*e*l,R=t*(1-C),k=T.x+L*Math.cos(T.angle),F=T.y+L*Math.sin(T.angle),$=T.x+(L+R)*Math.cos(T.angle),H=T.y+(L+R)*Math.sin(T.angle);return S.strokeStyle=r,S.lineWidth=2,S.beginPath(),S.moveTo(k,F),S.lineTo($,H),S.stroke(),!0}),_=requestAnimationFrame(w)};return _=requestAnimationFrame(w),()=>{cancelAnimationFrame(_)}},[r,t,e,n,i,m,l]);const v=g=>{const S=h.current;if(!S)return;const _=S.getBoundingClientRect(),w=g.clientX-_.left,A=g.clientY-_.top,T=performance.now(),E=Array.from({length:n},(D,C)=>({x:w,y:A,angle:2*Math.PI*C/n,startTime:T}));d.current.push(...E)};return B.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},onClick:v,children:[B.jsx("canvas",{ref:h,style:{width:"100%",height:"100%",display:"block",userSelect:"none",position:"absolute",top:0,left:0,pointerEvents:"none"}}),c]})};var Mr,Ao,Xv,hp,fu,hf,zf,Mu,Ts="transform",S0=Ts+"Origin",LM,kM=function(t){var e=t.ownerDocument||t;for(!(Ts in t.style)&&("msTransform"in t.style)&&(Ts="msTransform",S0=Ts+"Origin");e.parentNode&&(e=e.parentNode););if(Ao=window,zf=new Mo,e){Mr=e,Xv=e.documentElement,hp=e.body,Mu=Mr.createElementNS("http://www.w3.org/2000/svg","g"),Mu.style.transform="none";var n=e.createElement("div"),i=e.createElement("div"),o=e&&(e.body||e.firstElementChild);o&&o.appendChild&&(o.appendChild(n),n.appendChild(i),n.style.position="static",n.style.transform="translate3d(0,0,1px)",LM=i.offsetParent!==n,o.removeChild(n))}return e},nI=function(t){for(var e,n;t&&t!==hp;)n=t._gsap,n&&n.uncache&&n.get(t,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e},PM=[],NM=[],iI=function(){return Ao.pageYOffset||Mr.scrollTop||Xv.scrollTop||hp.scrollTop||0},sI=function(){return Ao.pageXOffset||Mr.scrollLeft||Xv.scrollLeft||hp.scrollLeft||0},$v=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},rI=function r(t){if(Ao.getComputedStyle(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return r(t)},uy=function r(t,e){if(t.parentNode&&(Mr||kM(t))){var n=$v(t),i=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?e?"rect":"g":"div",l=e!==2?0:100,c=e===3?100:0,h={position:"absolute",display:"block",pointerEvents:"none",margin:"0",padding:"0"},d=Mr.createElementNS?Mr.createElementNS(i.replace(/^https/,"http"),o):Mr.createElement(o);return e&&(n?(hf||(hf=r(t)),d.setAttribute("width",.01),d.setAttribute("height",.01),d.setAttribute("transform","translate("+l+","+c+")"),d.setAttribute("fill","transparent"),hf.appendChild(d)):(fu||(fu=r(t),Object.assign(fu.style,h)),Object.assign(d.style,h,{width:"0.1px",height:"0.1px",top:c+"px",left:l+"px"}),fu.appendChild(d))),d}throw"Need document and parent."},aI=function(t){for(var e=new Mo,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e},oI=function(t){var e=t.getCTM(),n;return e||(n=t.style[Ts],t.style[Ts]="none",t.appendChild(Mu),e=Mu.getCTM(),t.removeChild(Mu),n?t.style[Ts]=n:t.style.removeProperty(Ts.replace(/([A-Z])/g,"-$1").toLowerCase())),e||zf.clone()},lI=function(t,e){var n=$v(t),i=t===n,o=n?PM:NM,l=t.parentNode,c=l&&!n&&l.shadowRoot&&l.shadowRoot.appendChild?l.shadowRoot:l,h,d,p,m,v,g;if(t===Ao)return t;if(o.length||o.push(uy(t,1),uy(t,2),uy(t,3)),h=n?hf:fu,n)i?(p=oI(t),m=-p.e/p.a,v=-p.f/p.d,d=zf):t.getBBox?(p=t.getBBox(),d=t.transform?t.transform.baseVal:{},d=d.numberOfItems?d.numberOfItems>1?aI(d):d.getItem(0).matrix:zf,m=d.a*p.x+d.c*p.y,v=d.b*p.x+d.d*p.y):(d=new Mo,m=v=0),(i||!t.getBoundingClientRect().width?n:l).appendChild(h),h.setAttribute("transform","matrix("+d.a+","+d.b+","+d.c+","+d.d+","+(d.e+m)+","+(d.f+v)+")");else{if(m=v=0,LM)for(d=t.offsetParent,p=t;p&&(p=p.parentNode)&&p!==d&&p.parentNode;)(Ao.getComputedStyle(p)[Ts]+"").length>4&&(m=p.offsetLeft,v=p.offsetTop,p=0);if(g=Ao.getComputedStyle(t),g.position!=="absolute"&&g.position!=="fixed")for(d=t.offsetParent;l&&l!==d;)m+=l.scrollLeft||0,v+=l.scrollTop||0,l=l.parentNode;p=h.style,p.top=t.offsetTop-v+"px",p.left=t.offsetLeft-m+"px",p[Ts]=g[Ts],p[S0]=g[S0],p.position=g.position==="fixed"?"fixed":"absolute",c.appendChild(h)}return h},hy=function(t,e,n,i,o,l,c){return t.a=e,t.b=n,t.c=i,t.d=o,t.e=l,t.f=c,t},Mo=(function(){function r(e,n,i,o,l,c){e===void 0&&(e=1),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=1),l===void 0&&(l=0),c===void 0&&(c=0),hy(this,e,n,i,o,l,c)}var t=r.prototype;return t.inverse=function(){var n=this.a,i=this.b,o=this.c,l=this.d,c=this.e,h=this.f,d=n*l-i*o||1e-10;return hy(this,l/d,-i/d,-o/d,n/d,(o*h-l*c)/d,-(n*h-i*c)/d)},t.multiply=function(n){var i=this.a,o=this.b,l=this.c,c=this.d,h=this.e,d=this.f,p=n.a,m=n.c,v=n.b,g=n.d,S=n.e,_=n.f;return hy(this,p*i+v*l,p*o+v*c,m*i+g*l,m*o+g*c,h+S*i+_*l,d+S*o+_*c)},t.clone=function(){return new r(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(n){var i=this.a,o=this.b,l=this.c,c=this.d,h=this.e,d=this.f;return i===n.a&&o===n.b&&l===n.c&&c===n.d&&h===n.e&&d===n.f},t.apply=function(n,i){i===void 0&&(i={});var o=n.x,l=n.y,c=this.a,h=this.b,d=this.c,p=this.d,m=this.e,v=this.f;return i.x=o*c+l*d+m||0,i.y=o*h+l*p+v||0,i},r})();function ao(r,t,e,n){if(!r||!r.parentNode||(Mr||kM(r)).documentElement===r)return new Mo;var i=nI(r),o=$v(r),l=o?PM:NM,c=lI(r),h=l[0].getBoundingClientRect(),d=l[1].getBoundingClientRect(),p=l[2].getBoundingClientRect(),m=c.parentNode,v=rI(r),g=new Mo((d.left-h.left)/100,(d.top-h.top)/100,(p.left-h.left)/100,(p.top-h.top)/100,h.left+(v?0:sI()),h.top+(v?0:iI()));if(m.removeChild(c),i)for(h=i.length;h--;)d=i[h],d.scaleX=d.scaleY=0,d.renderTransform(1,d);return t?g.inverse():g}function Dx(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cI(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var re,Te,Pi,Es,Dr,dy,Tr,A0,pu,va,BM,w0,Wu,Yv,mu,Mi,gu,df,FM,x0,jf=0,IM=function(){return typeof window<"u"},zM=function(){return re||IM()&&(re=window.gsap)&&re.registerPlugin&&re},ha=function(t){return typeof t=="function"},Du=function(t){return typeof t=="object"},As=function(t){return typeof t>"u"},ff=function(){return!1},Ru="transform",T0="transformOrigin",Qn=function(t){return Math.round(t*1e4)/1e4},su=Array.isArray,Vd=function(t,e){var n=Pi.createElementNS?Pi.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),t):Pi.createElement(t);return n.style?n:Pi.createElement(t)},Rx=180/Math.PI,eo=1e20,uI=new Mo,ca=Date.now||function(){return new Date().getTime()},wo=[],Il={},hI=0,dI=/^(?:a|input|textarea|button|select)$/i,Ox=0,bl={},_r={},jM=function(t,e){var n={},i;for(i in t)n[i]=e?t[i]*e:t[i];return n},fI=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Lx=function r(t,e){for(var n=t.length,i;n--;)e?t[n].style.touchAction=e:t[n].style.removeProperty("touch-action"),i=t[n].children,i&&i.length&&r(i,e)},VM=function(){return wo.forEach(function(t){return t()})},pI=function(t){wo.push(t),wo.length===1&&re.ticker.add(VM)},kx=function(){return!wo.length&&re.ticker.remove(VM)},Px=function(t){for(var e=wo.length;e--;)wo[e]===t&&wo.splice(e,1);re.to(kx,{overwrite:!0,delay:15,duration:0,onComplete:kx,data:"_draggable"})},mI=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Sn=function(t,e,n,i){if(t.addEventListener){var o=Wu[e];i=i||(BM?{passive:!1}:null),t.addEventListener(o||e,n,i),o&&e!==o&&t.addEventListener(e,n,i)}},mn=function(t,e,n,i){if(t.removeEventListener){var o=Wu[e];t.removeEventListener(o||e,n,i),o&&e!==o&&t.removeEventListener(e,n,i)}},es=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},gI=function(t,e){for(var n=t.length;n--;)if(t[n].identifier===e)return!0},yI=function r(t){Yv=t.touches&&jf<t.touches.length,mn(t.target,"touchend",r)},Nx=function(t){Yv=t.touches&&jf<t.touches.length,Sn(t.target,"touchend",yI)},zl=function(t){return Te.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},jl=function(t){return Te.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},Bx=function r(t,e){Sn(t,"scroll",e),nc(t.parentNode)||r(t.parentNode,e)},Fx=function r(t,e){mn(t,"scroll",e),nc(t.parentNode)||r(t.parentNode,e)},nc=function(t){return!t||t===Es||t.nodeType===9||t===Pi.body||t===Te||!t.nodeType||!t.parentNode},Ix=function(t,e){var n=e==="x"?"Width":"Height",i="scroll"+n,o="client"+n;return Math.max(0,nc(t)?Math.max(Es[i],Dr[i])-(Te["inner"+n]||Es[o]||Dr[o]):t[i]-t[o])},fy=function r(t,e){var n=Ix(t,"x"),i=Ix(t,"y");nc(t)?t=_r:r(t.parentNode,e),t._gsMaxScrollX=n,t._gsMaxScrollY=i,e||(t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0)},py=function(t,e,n){var i=t.style;i&&(As(i[e])&&(e=pu(e,t)||e),n==null?i.removeProperty&&i.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):i[e]=n)},Ku=function(t){return Te.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},no={},_l=function(t){if(t===Te)return no.left=no.top=0,no.width=no.right=Es.clientWidth||t.innerWidth||Dr.clientWidth||0,no.height=no.bottom=(t.innerHeight||0)-20<Es.clientHeight?Es.clientHeight:t.innerHeight||Dr.clientHeight||0,no;var e=t.ownerDocument||Pi,n=As(t.pageX)?!t.nodeType&&!As(t.left)&&!As(t.top)?t:va(t)[0].getBoundingClientRect():{left:t.pageX-jl(e),top:t.pageY-zl(e),right:t.pageX-jl(e)+1,bottom:t.pageY-zl(e)+1};return As(n.right)&&!As(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):As(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},rn=function(t,e,n){var i=t.vars,o=i[n],l=t._listeners[e],c;return ha(o)&&(c=o.apply(i.callbackScope||t,i[n+"Params"]||[t.pointerEvent])),l&&t.dispatchEvent(e)===!1&&(c=!1),c},zx=function(t,e){var n=va(t)[0],i,o,l;return!n.nodeType&&n!==Te?As(t.left)?(o=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:o,top:i,width:(t.max||t.maxX||t.maxRotation||0)-o,height:(t.max||t.maxY||0)-i}):(l={x:0,y:0},{left:t.left-l.x,top:t.top-l.y,width:t.width,height:t.height}):vI(n,e)},ns={},vI=function(t,e){e=va(e)[0];var n=t.getBBox&&t.ownerSVGElement,i=t.ownerDocument||Pi,o,l,c,h,d,p,m,v,g,S,_,w,A;if(t===Te)c=zl(i),o=jl(i),l=o+(i.documentElement.clientWidth||t.innerWidth||i.body.clientWidth||0),h=c+((t.innerHeight||0)-20<i.documentElement.clientHeight?i.documentElement.clientHeight:t.innerHeight||i.body.clientHeight||0);else{if(e===Te||As(e))return t.getBoundingClientRect();o=c=0,n?(S=t.getBBox(),_=S.width,w=S.height):(t.viewBox&&(S=t.viewBox.baseVal)&&(o=S.x||0,c=S.y||0,_=S.width,w=S.height),_||(A=Ku(t),S=A.boxSizing==="border-box",_=(parseFloat(A.width)||t.clientWidth||0)+(S?0:parseFloat(A.borderLeftWidth)+parseFloat(A.borderRightWidth)),w=(parseFloat(A.height)||t.clientHeight||0)+(S?0:parseFloat(A.borderTopWidth)+parseFloat(A.borderBottomWidth)))),l=_,h=w}return t===e?{left:o,top:c,width:l-o,height:h-c}:(d=ao(e,!0).multiply(ao(t)),p=d.apply({x:o,y:c}),m=d.apply({x:l,y:c}),v=d.apply({x:l,y:h}),g=d.apply({x:o,y:h}),o=Math.min(p.x,m.x,v.x,g.x),c=Math.min(p.y,m.y,v.y,g.y),{left:o,top:c,width:Math.max(p.x,m.x,v.x,g.x)-o,height:Math.max(p.y,m.y,v.y,g.y)-c})},my=function(t,e,n,i,o,l){var c={},h,d,p;if(e)if(o!==1&&e instanceof Array){if(c.end=h=[],p=e.length,Du(e[0]))for(d=0;d<p;d++)h[d]=jM(e[d],o);else for(d=0;d<p;d++)h[d]=e[d]*o;n+=1.1,i-=1.1}else ha(e)?c.end=function(m){var v=e.call(t,m),g,S;if(o!==1)if(Du(v)){g={};for(S in v)g[S]=v[S]*o;v=g}else v*=o;return v}:c.end=e;return(n||n===0)&&(c.max=n),(i||i===0)&&(c.min=i),l&&(c.velocity=0),c},bI=function r(t){var e;return!t||!t.getAttribute||t===Dr?!1:(e=t.getAttribute("data-clickable"))==="true"||e!=="false"&&(dI.test(t.nodeName+"")||t.getAttribute("contentEditable")==="true")?!0:r(t.parentNode)},Ud=function(t,e){for(var n=t.length,i;n--;)i=t[n],i.ondragstart=i.onselectstart=e?null:ff,re.set(i,{lazy:!0,userSelect:e?"text":"none"})},_I=function r(t){if(Ku(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return r(t)},UM,E0,SI=function(t,e){t=re.utils.toArray(t)[0],e=e||{};var n=document.createElement("div"),i=n.style,o=t.firstChild,l=0,c=0,h=t.scrollTop,d=t.scrollLeft,p=t.scrollWidth,m=t.scrollHeight,v=0,g=0,S=0,_,w,A,T,E,D;UM&&e.force3D!==!1?(E="translate3d(",D="px,0px)"):Ru&&(E="translate(",D="px)"),this.scrollTop=function(C,L){if(!arguments.length)return-this.top();this.top(-C,L)},this.scrollLeft=function(C,L){if(!arguments.length)return-this.left();this.left(-C,L)},this.left=function(C,L){if(!arguments.length)return-(t.scrollLeft+c);var R=t.scrollLeft-d,k=c;if((R>2||R<-2)&&!L){d=t.scrollLeft,re.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-d),e.onKill&&e.onKill();return}C=-C,C<0?(c=C-.5|0,C=0):C>g?(c=C-g|0,C=g):c=0,(c||k)&&(this._skip||(i[Ru]=E+-c+"px,"+-l+D),c+v>=0&&(i.paddingRight=c+v+"px")),t.scrollLeft=C|0,d=t.scrollLeft},this.top=function(C,L){if(!arguments.length)return-(t.scrollTop+l);var R=t.scrollTop-h,k=l;if((R>2||R<-2)&&!L){h=t.scrollTop,re.killTweensOf(this,{top:1,scrollTop:1}),this.top(-h),e.onKill&&e.onKill();return}C=-C,C<0?(l=C-.5|0,C=0):C>S?(l=C-S|0,C=S):l=0,(l||k)&&(this._skip||(i[Ru]=E+-c+"px,"+-l+D)),t.scrollTop=C|0,h=t.scrollTop},this.maxScrollTop=function(){return S},this.maxScrollLeft=function(){return g},this.disable=function(){for(o=n.firstChild;o;)T=o.nextSibling,t.appendChild(o),o=T;t===n.parentNode&&t.removeChild(n)},this.enable=function(){if(o=t.firstChild,o!==n){for(;o;)T=o.nextSibling,n.appendChild(o),o=T;t.appendChild(n),this.calibrate()}},this.calibrate=function(C){var L=t.clientWidth===_,R,k,F;h=t.scrollTop,d=t.scrollLeft,!(L&&t.clientHeight===w&&n.offsetHeight===A&&p===t.scrollWidth&&m===t.scrollHeight&&!C)&&((l||c)&&(k=this.left(),F=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),R=Ku(t),(!L||C)&&(i.display="block",i.width="auto",i.paddingRight="0px",v=Math.max(0,t.scrollWidth-t.clientWidth),v&&(v+=parseFloat(R.paddingLeft)+(E0?parseFloat(R.paddingRight):0))),i.display="inline-block",i.position="relative",i.overflow="visible",i.verticalAlign="top",i.boxSizing="content-box",i.width="100%",i.paddingRight=v+"px",E0&&(i.paddingBottom=R.paddingBottom),_=t.clientWidth,w=t.clientHeight,p=t.scrollWidth,m=t.scrollHeight,g=t.scrollWidth-_,S=t.scrollHeight-w,A=n.offsetHeight,i.display="block",(k||F)&&(this.left(k),this.top(F)))},this.content=n,this.element=t,this._skip=!1,this.enable()},gy=function(t){if(IM()&&document.body){var e=window&&window.navigator;Te=window,Pi=document,Es=Pi.documentElement,Dr=Pi.body,dy=Vd("div"),df=!!window.PointerEvent,Tr=Vd("div"),Tr.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",gu=Tr.style.cursor==="grab"?"grab":"move",mu=e&&e.userAgent.toLowerCase().indexOf("android")!==-1,w0="ontouchstart"in Es&&"orientation"in Te||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),E0=(function(){var n=Vd("div"),i=Vd("div"),o=i.style,l=Dr,c;return o.display="inline-block",o.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(i),l.appendChild(n),c=i.offsetHeight+18>n.scrollHeight,l.removeChild(n),c})(),Wu=(function(n){for(var i=n.split(","),o=("onpointerdown"in dy?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in dy?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),l={},c=4;--c>-1;)l[i[c]]=o[c],l[o[c]]=i[c];try{Es.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){BM=1}}))}catch{}return l})("touchstart,touchmove,touchend,touchcancel"),Sn(Pi,"touchcancel",ff),Sn(Te,"touchmove",ff),Dr&&Dr.addEventListener("touchstart",ff),Sn(Pi,"contextmenu",function(){for(var n in Il)Il[n].isPressed&&Il[n].endDrag()}),re=A0=zM()}re?(Mi=re.plugins.inertia,FM=re.core.context||function(){},pu=re.utils.checkPrefix,Ru=pu(Ru),T0=pu(T0),va=re.utils.toArray,x0=re.core.getStyleSaver,UM=!!pu("perspective")):t&&console.warn("Please gsap.registerPlugin(Draggable)")},AI=(function(){function r(e){this._listeners={},this.target=e||this}var t=r.prototype;return t.addEventListener=function(n,i){var o=this._listeners[n]||(this._listeners[n]=[]);~o.indexOf(i)||o.push(i)},t.removeEventListener=function(n,i){var o=this._listeners[n],l=o&&o.indexOf(i);l>=0&&o.splice(l,1)},t.dispatchEvent=function(n){var i=this,o;return(this._listeners[n]||[]).forEach(function(l){return l.call(i,{type:n,target:i.target})===!1&&(o=!1)}),o},r})(),ko=(function(r){cI(t,r);function t(e,n){var i;i=r.call(this)||this,A0||gy(1),e=va(e)[0],i.styles=x0&&x0(e,"transform,left,top"),Mi||(Mi=re.plugins.inertia),i.vars=n=jM(n||{}),i.target=e,i.x=i.y=i.rotation=0,i.dragResistance=parseFloat(n.dragResistance)||0,i.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,i.lockAxis=n.lockAxis,i.autoScroll=n.autoScroll||0,i.lockedAxis=null,i.allowEventDefault=!!n.allowEventDefault,re.getProperty(e,"x");var o=(n.type||"x,y").toLowerCase(),l=~o.indexOf("x")||~o.indexOf("y"),c=o.indexOf("rotation")!==-1,h=c?"rotation":l?"x":"left",d=l?"y":"top",p=!!(~o.indexOf("x")||~o.indexOf("left")||o==="scroll"),m=!!(~o.indexOf("y")||~o.indexOf("top")||o==="scroll"),v=n.minimumMovement||2,g=Dx(i),S=va(n.trigger||n.handle||e),_={},w=0,A=!1,T=n.autoScrollMarginTop||40,E=n.autoScrollMarginRight||40,D=n.autoScrollMarginBottom||40,C=n.autoScrollMarginLeft||40,L=n.clickableTest||bI,R=0,k=e._gsap||re.core.getCache(e),F=_I(e),$=function(V,ot){return parseFloat(k.get(e,V,ot))},H=e.ownerDocument||Pi,at,et,q,W,O,N,z,st,dt,P,j,Z,it,ft,yt,gt,Dt,Pt,kt,Rt,Wt,zt,Ct,bt,Re,It,We,Fn,cn,he,Se,fs,Ae,ps=function(V){return es(V),V.stopImmediatePropagation&&V.stopImmediatePropagation(),!1},en=function wt(V){if(g.autoScroll&&g.isDragging&&(A||Dt)){var ot=e,X=g.autoScroll*15,nt,pt,vt,ct,ht,mt,_t,Bt;for(A=!1,_r.scrollTop=Te.pageYOffset!=null?Te.pageYOffset:H.documentElement.scrollTop!=null?H.documentElement.scrollTop:H.body.scrollTop,_r.scrollLeft=Te.pageXOffset!=null?Te.pageXOffset:H.documentElement.scrollLeft!=null?H.documentElement.scrollLeft:H.body.scrollLeft,ct=g.pointerX-_r.scrollLeft,ht=g.pointerY-_r.scrollTop;ot&&!pt;)pt=nc(ot.parentNode),nt=pt?_r:ot.parentNode,vt=pt?{bottom:Math.max(Es.clientHeight,Te.innerHeight||0),right:Math.max(Es.clientWidth,Te.innerWidth||0),left:0,top:0}:nt.getBoundingClientRect(),mt=_t=0,m&&(Bt=nt._gsMaxScrollY-nt.scrollTop,Bt<0?_t=Bt:ht>vt.bottom-D&&Bt?(A=!0,_t=Math.min(Bt,X*(1-Math.max(0,vt.bottom-ht)/D)|0)):ht<vt.top+T&&nt.scrollTop&&(A=!0,_t=-Math.min(nt.scrollTop,X*(1-Math.max(0,ht-vt.top)/T)|0)),_t&&(nt.scrollTop+=_t)),p&&(Bt=nt._gsMaxScrollX-nt.scrollLeft,Bt<0?mt=Bt:ct>vt.right-E&&Bt?(A=!0,mt=Math.min(Bt,X*(1-Math.max(0,vt.right-ct)/E)|0)):ct<vt.left+C&&nt.scrollLeft&&(A=!0,mt=-Math.min(nt.scrollLeft,X*(1-Math.max(0,ct-vt.left)/C)|0)),mt&&(nt.scrollLeft+=mt)),pt&&(mt||_t)&&(Te.scrollTo(nt.scrollLeft,nt.scrollTop),jn(g.pointerX+mt,g.pointerY+_t)),ot=nt}if(Dt){var ne=g.x,Zt=g.y;c?(g.deltaX=ne-parseFloat(k.rotation),g.rotation=ne,k.rotation=ne+"deg",k.renderTransform(1,k)):et?(m&&(g.deltaY=Zt-et.top(),et.top(Zt)),p&&(g.deltaX=ne-et.left(),et.left(ne))):l?(m&&(g.deltaY=Zt-parseFloat(k.y),k.y=Zt+"px"),p&&(g.deltaX=ne-parseFloat(k.x),k.x=ne+"px"),k.renderTransform(1,k)):(m&&(g.deltaY=Zt-parseFloat(e.style.top||0),e.style.top=Zt+"px"),p&&(g.deltaX=ne-parseFloat(e.style.left||0),e.style.left=ne+"px")),st&&!V&&!Fn&&(Fn=!0,rn(g,"drag","onDrag")===!1&&(p&&(g.x-=g.deltaX),m&&(g.y-=g.deltaY),wt(!0)),Fn=!1)}Dt=!1},An=function(V,ot){var X=g.x,nt=g.y,pt,vt;e._gsap||(k=re.core.getCache(e)),k.uncache&&re.getProperty(e,"x"),l?(g.x=parseFloat(k.x),g.y=parseFloat(k.y)):c?g.x=g.rotation=Qn(parseFloat(k.rotation)):et?(g.y=et.top(),g.x=et.left()):(g.y=parseFloat(e.style.top||(vt=Ku(e))&&vt.top)||0,g.x=parseFloat(e.style.left||(vt||{}).left)||0),(kt||Rt||Wt)&&!ot&&(g.isDragging||g.isThrowing)&&(Wt&&(bl.x=g.x,bl.y=g.y,pt=Wt(bl),pt.x!==g.x&&(g.x=pt.x,Dt=!0),pt.y!==g.y&&(g.y=pt.y,Dt=!0)),kt&&(pt=kt(g.x),pt!==g.x&&(g.x=pt,c&&(g.rotation=pt),Dt=!0)),Rt&&(pt=Rt(g.y),pt!==g.y&&(g.y=pt),Dt=!0)),Dt&&en(!0),V||(g.deltaX=g.x-X,g.deltaY=g.y-nt,rn(g,"throwupdate","onThrowUpdate"))},Oe=function(V,ot,X,nt){return ot==null&&(ot=-eo),X==null&&(X=eo),ha(V)?function(pt){var vt=g.isPressed?1-g.edgeResistance:1;return V.call(g,(pt>X?X+(pt-X)*vt:pt<ot?ot+(pt-ot)*vt:pt)*nt)*nt}:su(V)?function(pt){for(var vt=V.length,ct=0,ht=eo,mt,_t;--vt>-1;)mt=V[vt],_t=mt-pt,_t<0&&(_t=-_t),_t<ht&&mt>=ot&&mt<=X&&(ct=vt,ht=_t);return V[ct]}:isNaN(V)?function(pt){return pt}:function(){return V*nt}},In=function(V,ot,X,nt,pt,vt,ct){return vt=vt&&vt<eo?vt*vt:eo,ha(V)?function(ht){var mt=g.isPressed?1-g.edgeResistance:1,_t=ht.x,Bt=ht.y,ne,Zt,Ht;return ht.x=_t=_t>X?X+(_t-X)*mt:_t<ot?ot+(_t-ot)*mt:_t,ht.y=Bt=Bt>pt?pt+(Bt-pt)*mt:Bt<nt?nt+(Bt-nt)*mt:Bt,ne=V.call(g,ht),ne!==ht&&(ht.x=ne.x,ht.y=ne.y),ct!==1&&(ht.x*=ct,ht.y*=ct),vt<eo&&(Zt=ht.x-_t,Ht=ht.y-Bt,Zt*Zt+Ht*Ht>vt&&(ht.x=_t,ht.y=Bt)),ht}:su(V)?function(ht){for(var mt=V.length,_t=0,Bt=eo,ne,Zt,Ht,Yt;--mt>-1;)Ht=V[mt],ne=Ht.x-ht.x,Zt=Ht.y-ht.y,Yt=ne*ne+Zt*Zt,Yt<Bt&&(_t=mt,Bt=Yt);return Bt<=vt?V[_t]:ht}:function(ht){return ht}},je=function(){var V,ot,X,nt;z=!1,et?(et.calibrate(),g.minX=j=-et.maxScrollLeft(),g.minY=it=-et.maxScrollTop(),g.maxX=P=g.maxY=Z=0,z=!0):n.bounds&&(V=zx(n.bounds,e.parentNode),c?(g.minX=j=V.left,g.maxX=P=V.left+V.width,g.minY=it=g.maxY=Z=0):!As(n.bounds.maxX)||!As(n.bounds.maxY)?(V=n.bounds,g.minX=j=V.minX,g.minY=it=V.minY,g.maxX=P=V.maxX,g.maxY=Z=V.maxY):(ot=zx(e,e.parentNode),g.minX=j=Math.round($(h,"px")+V.left-ot.left),g.minY=it=Math.round($(d,"px")+V.top-ot.top),g.maxX=P=Math.round(j+(V.width-ot.width)),g.maxY=Z=Math.round(it+(V.height-ot.height))),j>P&&(g.minX=P,g.maxX=P=j,j=g.minX),it>Z&&(g.minY=Z,g.maxY=Z=it,it=g.minY),c&&(g.minRotation=j,g.maxRotation=P),z=!0),n.liveSnap&&(X=n.liveSnap===!0?n.snap||{}:n.liveSnap,nt=su(X)||ha(X),c?(kt=Oe(nt?X:X.rotation,j,P,1),Rt=null):X.points?Wt=In(nt?X:X.points,j,P,it,Z,X.radius,et?-1:1):(p&&(kt=Oe(nt?X:X.x||X.left||X.scrollLeft,j,P,et?-1:1)),m&&(Rt=Oe(nt?X:X.y||X.top||X.scrollTop,it,Z,et?-1:1))))},si=function(){g.isThrowing=!1,rn(g,"throwcomplete","onThrowComplete")},Fr=function(){g.isThrowing=!1},Wn=function(V,ot){var X,nt,pt,vt;V&&Mi?(V===!0&&(X=n.snap||n.liveSnap||{},nt=su(X)||ha(X),V={resistance:(n.throwResistance||n.resistance||1e3)/(c?10:1)},c?V.rotation=my(g,nt?X:X.rotation,P,j,1,ot):(p&&(V[h]=my(g,nt?X:X.points||X.x||X.left,P,j,et?-1:1,ot||g.lockedAxis==="x")),m&&(V[d]=my(g,nt?X:X.points||X.y||X.top,Z,it,et?-1:1,ot||g.lockedAxis==="y")),(X.points||su(X)&&Du(X[0]))&&(V.linkedProps=h+","+d,V.radius=X.radius))),g.isThrowing=!0,vt=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-g.edgeResistance+.2:n.overshootTolerance,V.duration||(V.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?vt===0||Du(V)&&V.resistance>1e3?0:.5:n.minDuration,overshoot:vt}),g.tween=pt=re.to(et||e,{inertia:V,data:"_draggable",inherit:!1,onComplete:si,onInterrupt:Fr,onUpdate:n.fastMode?rn:An,onUpdateParams:n.fastMode?[g,"onthrowupdate","onThrowUpdate"]:X&&X.radius?[!1,!0]:[]}),n.fastMode||(et&&(et._skip=!0),pt.render(1e9,!0,!0),An(!0,!0),g.endX=g.x,g.endY=g.y,c&&(g.endRotation=g.x),pt.play(0),An(!0,!0),et&&(et._skip=!1))):z&&g.applyBounds()},Pe=function(V){var ot=bt,X;bt=ao(e.parentNode,!0),V&&g.isPressed&&!bt.equals(ot||new Mo)&&(X=ot.inverse().apply({x:q,y:W}),bt.apply(X,X),q=X.x,W=X.y),bt.equals(uI)&&(bt=null)},de=function(){var V=1-g.edgeResistance,ot=F?jl(H):0,X=F?zl(H):0,nt,pt,vt;l&&(k.x=$(h,"px")+"px",k.y=$(d,"px")+"px",k.renderTransform()),Pe(!1),ns.x=g.pointerX-ot,ns.y=g.pointerY-X,bt&&bt.apply(ns,ns),q=ns.x,W=ns.y,Dt&&(jn(g.pointerX,g.pointerY),en(!0)),fs=ao(e),et?(je(),N=et.top(),O=et.left()):(le()?(An(!0,!0),je()):g.applyBounds(),c?(nt=e.ownerSVGElement?[k.xOrigin-e.getBBox().x,k.yOrigin-e.getBBox().y]:(Ku(e)[T0]||"0 0").split(" "),gt=g.rotationOrigin=ao(e).apply({x:parseFloat(nt[0])||0,y:parseFloat(nt[1])||0}),An(!0,!0),pt=g.pointerX-gt.x-ot,vt=gt.y-g.pointerY+X,O=g.x,N=g.y=Math.atan2(vt,pt)*Rx):(N=$(d,"px"),O=$(h,"px"))),z&&V&&(O>P?O=P+(O-P)/V:O<j&&(O=j-(j-O)/V),c||(N>Z?N=Z+(N-Z)/V:N<it&&(N=it-(it-N)/V))),g.startX=O=Qn(O),g.startY=N=Qn(N)},le=function(){return g.tween&&g.tween.isActive()},Js=function(){Tr.parentNode&&!le()&&!g.isDragging&&Tr.parentNode.removeChild(Tr)},bi=function(V,ot){var X;if(!at||g.isPressed||!V||(V.type==="mousedown"||V.type==="pointerdown")&&!ot&&ca()-R<30&&Wu[g.pointerEvent.type]){Se&&V&&at&&es(V);return}if(Re=le(),Ae=!1,g.pointerEvent=V,Wu[V.type]?(Ct=~V.type.indexOf("touch")?V.currentTarget||V.target:H,Sn(Ct,"touchend",Ve),Sn(Ct,"touchmove",zn),Sn(Ct,"touchcancel",Ve),Sn(H,"touchstart",Nx)):(Ct=null,Sn(H,"mousemove",zn)),We=null,(!df||!Ct)&&(Sn(H,"mouseup",Ve),V&&V.target&&Sn(V.target,"mouseup",Ve)),zt=L.call(g,V.target)&&n.dragClickables===!1&&!ot,zt){Sn(V.target,"change",Ve),rn(g,"pressInit","onPressInit"),rn(g,"press","onPress"),Ud(S,!0),Se=!1;return}if(It=!Ct||p===m||g.vars.allowNativeTouchScrolling===!1||g.vars.allowContextMenu&&V&&(V.ctrlKey||V.which>2)?!1:p?"y":"x",Se=!It&&!g.allowEventDefault,Se&&(es(V),Sn(Te,"touchforcechange",es)),V.changedTouches?(V=ft=V.changedTouches[0],yt=V.identifier):V.pointerId?yt=V.pointerId:ft=yt=null,jf++,pI(en),W=g.pointerY=V.pageY,q=g.pointerX=V.pageX,rn(g,"pressInit","onPressInit"),(It||g.autoScroll)&&fy(e.parentNode),e.parentNode&&g.autoScroll&&!et&&!c&&e.parentNode._gsMaxScrollX&&!Tr.parentNode&&!e.getBBox&&(Tr.style.width=e.parentNode.scrollWidth+"px",e.parentNode.appendChild(Tr)),de(),g.tween&&g.tween.kill(),g.isThrowing=!1,re.killTweensOf(et||e,_,!0),et&&re.killTweensOf(e,{scrollTo:1},!0),g.tween=g.lockedAxis=null,(n.zIndexBoost||!c&&!et&&n.zIndexBoost!==!1)&&(e.style.zIndex=t.zIndex++),g.isPressed=!0,st=!!(n.onDrag||g._listeners.drag),dt=!!(n.onMove||g._listeners.move),n.cursor!==!1||n.activeCursor)for(X=S.length;--X>-1;)re.set(S[X],{cursor:n.activeCursor||n.cursor||(gu==="grab"?"grabbing":gu)});rn(g,"press","onPress"),Mi&&Mi.track(et||e,l?"x,y":c?"rotation":"top,left")},zn=function(V){var ot=V,X,nt,pt,vt,ct,ht;if(!at||Yv||!g.isPressed||!V){Se&&V&&at&&es(V);return}if(g.pointerEvent=V,X=V.changedTouches,X){if(V=X[0],V!==ft&&V.identifier!==yt){for(vt=X.length;--vt>-1&&(V=X[vt]).identifier!==yt&&V.target!==e;);if(vt<0)return}}else if(V.pointerId&&yt&&V.pointerId!==yt)return;if(Ct&&It&&!We&&(ns.x=V.pageX-(F?jl(H):0),ns.y=V.pageY-(F?zl(H):0),bt&&bt.apply(ns,ns),nt=ns.x,pt=ns.y,ct=Math.abs(nt-q),ht=Math.abs(pt-W),(ct!==ht&&(ct>v||ht>v)||mu&&It===We)&&(We=ct>ht&&p?"x":"y",It&&We!==It&&Sn(Te,"touchforcechange",es),g.vars.lockAxisOnTouchScroll!==!1&&p&&m&&(g.lockedAxis=We==="x"?"y":"x",ha(g.vars.onLockAxis)&&g.vars.onLockAxis.call(g,ot)),mu&&It===We))){Ve(ot);return}!g.allowEventDefault&&(!It||We&&It!==We)&&ot.cancelable!==!1?(es(ot),Se=!0):Se&&(Se=!1),g.autoScroll&&(A=!0),jn(V.pageX,V.pageY,dt)},jn=function(V,ot,X){var nt=1-g.dragResistance,pt=1-g.edgeResistance,vt=g.pointerX,ct=g.pointerY,ht=N,mt=g.x,_t=g.y,Bt=g.endX,ne=g.endY,Zt=g.endRotation,Ht=Dt,Yt,qt,ge,Ne,Na,vn;g.pointerX=V,g.pointerY=ot,F&&(V-=jl(H),ot-=zl(H)),c?(Ne=Qn(Math.atan2(gt.y-ot,V-gt.x)*Rx),Na=g.y-Ne,Na>180?(N-=360,g.y=Ne):Na<-180&&(N+=360,g.y=Ne),bt&&(vn=V*bt.a+ot*bt.c+bt.e,ot=V*bt.b+ot*bt.d+bt.f,V=vn),g.x!==O||Math.max(Math.abs(q-V),Math.abs(W-ot))>v?(g.y=Ne,ge=Qn(O+(N-Ne)*nt)):ge=O):(bt&&(vn=V*bt.a+ot*bt.c+bt.e,ot=V*bt.b+ot*bt.d+bt.f,V=vn),qt=ot-W,Yt=V-q,qt<v&&qt>-v&&(qt=0),Yt<v&&Yt>-v&&(Yt=0),(g.lockAxis||g.lockedAxis)&&(Yt||qt)&&(vn=g.lockedAxis,vn||(g.lockedAxis=vn=p&&Math.abs(Yt)>Math.abs(qt)?"y":m?"x":null,vn&&ha(g.vars.onLockAxis)&&g.vars.onLockAxis.call(g,g.pointerEvent)),vn==="y"?qt=0:vn==="x"&&(Yt=0)),ge=Qn(O+Yt*nt),Ne=Qn(N+qt*nt)),(kt||Rt||Wt)&&(g.x!==ge||g.y!==Ne&&!c)&&(Wt&&(bl.x=ge,bl.y=Ne,vn=Wt(bl),ge=Qn(vn.x),Ne=Qn(vn.y)),kt&&(ge=Qn(kt(ge))),Rt&&(Ne=Qn(Rt(Ne)))),z&&(ge>P?ge=P+Math.round((ge-P)*pt):ge<j&&(ge=j+Math.round((ge-j)*pt)),c||(Ne>Z?Ne=Math.round(Z+(Ne-Z)*pt):Ne<it&&(Ne=Math.round(it+(Ne-it)*pt)))),(g.x!==ge||g.y!==Ne&&!c)&&(c?(g.endRotation=g.x=g.endX=Qn(ge),Dt=!0):(m&&(g.y=g.endY=Ne,Dt=!0),p&&(g.x=g.endX=ge,Dt=!0)),!X||rn(g,"move","onMove")!==!1?!g.isDragging&&g.isPressed&&(g.isDragging=Ae=!0,rn(g,"dragstart","onDragStart")):(g.pointerX=vt,g.pointerY=ct,N=ht,g.x=mt,g.y=_t,g.endX=Bt,g.endY=ne,g.endRotation=Zt,Dt=Ht))},Ve=function wt(V,ot){if(!at||!g.isPressed||V&&yt!=null&&!ot&&(V.pointerId&&V.pointerId!==yt&&V.target!==e||V.changedTouches&&!gI(V.changedTouches,yt))){Se&&V&&at&&es(V);return}g.isPressed=!1;var X=V,nt=g.isDragging,pt=g.vars.allowContextMenu&&V&&(V.ctrlKey||V.which>2),vt=re.delayedCall(.001,Js),ct,ht,mt,_t,Bt;if(Ct?(mn(Ct,"touchend",wt),mn(Ct,"touchmove",zn),mn(Ct,"touchcancel",wt),mn(H,"touchstart",Nx)):mn(H,"mousemove",zn),mn(Te,"touchforcechange",es),(!df||!Ct)&&(mn(H,"mouseup",wt),V&&V.target&&mn(V.target,"mouseup",wt)),Dt=!1,nt&&(w=Ox=ca(),g.isDragging=!1),Px(en),zt&&!pt){V&&(mn(V.target,"change",wt),g.pointerEvent=X),Ud(S,!1),rn(g,"release","onRelease"),rn(g,"click","onClick"),zt=!1;return}for(ht=S.length;--ht>-1;)py(S[ht],"cursor",n.cursor||(n.cursor!==!1?gu:null));if(jf--,V){if(ct=V.changedTouches,ct&&(V=ct[0],V!==ft&&V.identifier!==yt)){for(ht=ct.length;--ht>-1&&(V=ct[ht]).identifier!==yt&&V.target!==e;);if(ht<0&&!ot)return}g.pointerEvent=X,g.pointerX=V.pageX,g.pointerY=V.pageY}return pt&&X?(es(X),Se=!0,rn(g,"release","onRelease")):X&&!nt?(Se=!1,Re&&(n.snap||n.bounds)&&Wn(n.inertia||n.throwProps),rn(g,"release","onRelease"),(!mu||X.type!=="touchmove")&&X.type.indexOf("cancel")===-1&&(rn(g,"click","onClick"),ca()-R<300&&rn(g,"doubleclick","onDoubleClick"),_t=X.target||e,R=ca(),Bt=function(){R!==cn&&g.enabled()&&!g.isPressed&&!X.defaultPrevented&&(_t.click?_t.click():H.createEvent&&(mt=H.createEvent("MouseEvents"),mt.initMouseEvent("click",!0,!0,Te,1,g.pointerEvent.screenX,g.pointerEvent.screenY,g.pointerX,g.pointerY,!1,!1,!1,!1,0,null),_t.dispatchEvent(mt)))},!mu&&!X.defaultPrevented&&re.delayedCall(.05,Bt))):(Wn(n.inertia||n.throwProps),!g.allowEventDefault&&X&&(n.dragClickables!==!1||!L.call(g,X.target))&&nt&&(!It||We&&It===We)&&X.cancelable!==!1?(Se=!0,es(X)):Se=!1,rn(g,"release","onRelease")),le()&&vt.duration(g.tween.duration()),nt&&rn(g,"dragend","onDragEnd"),!0},Vn=function(V){if(V&&g.isDragging&&!et){var ot=V.target||e.parentNode,X=ot.scrollLeft-ot._gsScrollX,nt=ot.scrollTop-ot._gsScrollY;(X||nt)&&(bt?(q-=X*bt.a+nt*bt.c,W-=nt*bt.d+X*bt.b):(q-=X,W-=nt),ot._gsScrollX+=X,ot._gsScrollY+=nt,jn(g.pointerX,g.pointerY))}},Mn=function(V){var ot=ca(),X=ot-R<100,nt=ot-w<50,pt=X&&cn===R,vt=g.pointerEvent&&g.pointerEvent.defaultPrevented,ct=X&&he===R,ht=V.isTrusted||V.isTrusted==null&&X&&pt;if((pt||nt&&g.vars.suppressClickOnDrag!==!1)&&V.stopImmediatePropagation&&V.stopImmediatePropagation(),X&&!(g.pointerEvent&&g.pointerEvent.defaultPrevented)&&(!pt||ht&&!ct)){ht&&pt&&(he=R),cn=R;return}(g.isPressed||nt||X)&&(!ht||!V.detail||!X||vt)&&es(V),!X&&!nt&&!Ae&&(V&&V.target&&(g.pointerEvent=V),rn(g,"click","onClick"))},_i=function(V){return bt?{x:V.x*bt.a+V.y*bt.c+bt.e,y:V.x*bt.b+V.y*bt.d+bt.f}:{x:V.x,y:V.y}};return Pt=t.get(e),Pt&&Pt.kill(),i.startDrag=function(wt,V){var ot,X,nt,pt;bi(wt||g.pointerEvent,!0),V&&!g.hitTest(wt||g.pointerEvent)&&(ot=_l(wt||g.pointerEvent),X=_l(e),nt=_i({x:ot.left+ot.width/2,y:ot.top+ot.height/2}),pt=_i({x:X.left+X.width/2,y:X.top+X.height/2}),q-=nt.x-pt.x,W-=nt.y-pt.y),g.isDragging||(g.isDragging=Ae=!0,rn(g,"dragstart","onDragStart"))},i.drag=zn,i.endDrag=function(wt){return Ve(wt||g.pointerEvent,!0)},i.timeSinceDrag=function(){return g.isDragging?0:(ca()-w)/1e3},i.timeSinceClick=function(){return(ca()-R)/1e3},i.hitTest=function(wt,V){return t.hitTest(g.target,wt,V)},i.getDirection=function(wt,V){var ot=wt==="velocity"&&Mi?wt:Du(wt)&&!c?"element":"start",X,nt,pt,vt,ct,ht;return ot==="element"&&(ct=_l(g.target),ht=_l(wt)),X=ot==="start"?g.x-O:ot==="velocity"?Mi.getVelocity(e,h):ct.left+ct.width/2-(ht.left+ht.width/2),c?X<0?"counter-clockwise":"clockwise":(V=V||2,nt=ot==="start"?g.y-N:ot==="velocity"?Mi.getVelocity(e,d):ct.top+ct.height/2-(ht.top+ht.height/2),pt=Math.abs(X/nt),vt=pt<1/V?"":X<0?"left":"right",pt<V&&(vt!==""&&(vt+="-"),vt+=nt<0?"up":"down"),vt)},i.applyBounds=function(wt,V){var ot,X,nt,pt,vt,ct;if(wt&&n.bounds!==wt)return n.bounds=wt,g.update(!0,V);if(An(!0),je(),z&&!le()){if(ot=g.x,X=g.y,ot>P?ot=P:ot<j&&(ot=j),X>Z?X=Z:X<it&&(X=it),(g.x!==ot||g.y!==X)&&(nt=!0,g.x=g.endX=ot,c?g.endRotation=ot:g.y=g.endY=X,Dt=!0,en(!0),g.autoScroll&&!g.isDragging))for(fy(e.parentNode),pt=e,_r.scrollTop=Te.pageYOffset!=null?Te.pageYOffset:H.documentElement.scrollTop!=null?H.documentElement.scrollTop:H.body.scrollTop,_r.scrollLeft=Te.pageXOffset!=null?Te.pageXOffset:H.documentElement.scrollLeft!=null?H.documentElement.scrollLeft:H.body.scrollLeft;pt&&!ct;)ct=nc(pt.parentNode),vt=ct?_r:pt.parentNode,m&&vt.scrollTop>vt._gsMaxScrollY&&(vt.scrollTop=vt._gsMaxScrollY),p&&vt.scrollLeft>vt._gsMaxScrollX&&(vt.scrollLeft=vt._gsMaxScrollX),pt=vt;g.isThrowing&&(nt||g.endX>P||g.endX<j||g.endY>Z||g.endY<it)&&Wn(n.inertia||n.throwProps,nt)}return g},i.update=function(wt,V,ot){if(V&&g.isPressed){if(c)g.x=g.y=Qn(parseFloat(k.rotation));else{var X=ao(e),nt=fs.apply({x:g.x-O,y:g.y-N}),pt=ao(e.parentNode,!0);pt.apply({x:X.e-nt.x,y:X.f-nt.y},nt),g.x=Qn(g.x-(nt.x-pt.e)),g.y=Qn(g.y-(nt.y-pt.f))}en(!0),de()}var vt=g.x,ct=g.y;return Pe(!V),wt?g.applyBounds():(Dt&&ot&&en(!0),An(!0)),V&&(jn(g.pointerX,g.pointerY),Dt&&en(!0)),g.isPressed&&!V&&(p&&Math.abs(vt-g.x)>.01||m&&Math.abs(ct-g.y)>.01&&!c)&&de(),g.autoScroll&&(fy(e.parentNode,g.isDragging),A=g.isDragging,en(!0),Fx(e,Vn),Bx(e,Vn)),g},i.enable=function(wt){var V={lazy:!0},ot,X,nt;if(n.cursor!==!1&&(V.cursor=n.cursor||gu),re.utils.checkPrefix("touchCallout")&&(V.touchCallout="none"),wt!=="soft"){for(Lx(S,p===m?"none":n.allowNativeTouchScrolling&&e.scrollHeight===e.clientHeight==(e.scrollWidth===e.clientHeight)||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"),X=S.length;--X>-1;)nt=S[X],df||Sn(nt,"mousedown",bi),Sn(nt,"touchstart",bi),Sn(nt,"click",Mn,!0),re.set(nt,V),nt.getBBox&&nt.ownerSVGElement&&p!==m&&re.set(nt.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"}),n.allowContextMenu||Sn(nt,"contextmenu",ps);Ud(S,!1)}return Bx(e,Vn),at=!0,Mi&&wt!=="soft"&&Mi.track(et||e,l?"x,y":c?"rotation":"top,left"),e._gsDragID=ot=e._gsDragID||"d"+hI++,Il[ot]=g,et&&(et.enable(),et.element._gsDragID=ot),(n.bounds||c)&&de(),n.bounds&&g.applyBounds(),g},i.disable=function(wt){for(var V=g.isDragging,ot=S.length,X;--ot>-1;)py(S[ot],"cursor",null);if(wt!=="soft"){for(Lx(S,null),ot=S.length;--ot>-1;)X=S[ot],py(X,"touchCallout",null),mn(X,"mousedown",bi),mn(X,"touchstart",bi),mn(X,"click",Mn,!0),mn(X,"contextmenu",ps);Ud(S,!0),Ct&&(mn(Ct,"touchcancel",Ve),mn(Ct,"touchend",Ve),mn(Ct,"touchmove",zn)),mn(H,"mouseup",Ve),mn(H,"mousemove",zn)}return Fx(e,Vn),at=!1,Mi&&wt!=="soft"&&(Mi.untrack(et||e,l?"x,y":c?"rotation":"top,left"),g.tween&&g.tween.kill()),et&&et.disable(),Px(en),g.isDragging=g.isPressed=zt=!1,V&&rn(g,"dragend","onDragEnd"),g},i.enabled=function(wt,V){return arguments.length?wt?g.enable(V):g.disable(V):at},i.kill=function(){return g.isThrowing=!1,g.tween&&g.tween.kill(),g.disable(),re.set(S,{clearProps:"userSelect"}),delete Il[e._gsDragID],g},i.revert=function(){this.kill(),this.styles&&this.styles.revert()},~o.indexOf("scroll")&&(et=i.scrollProxy=new SI(e,fI({onKill:function(){g.isPressed&&Ve(null)}},n)),e.style.overflowY=m&&!w0?"auto":"hidden",e.style.overflowX=p&&!w0?"auto":"hidden",e=et.content),c?_.rotation=1:(p&&(_[h]=1),m&&(_[d]=1)),k.force3D="force3D"in n?n.force3D:!0,FM(Dx(i)),i.enable(),i}return t.register=function(n){re=n,gy()},t.create=function(n,i){return A0||gy(!0),va(n).map(function(o){return new t(o,i)})},t.get=function(n){return Il[(va(n)[0]||{})._gsDragID]},t.timeSinceDrag=function(){return(ca()-Ox)/1e3},t.hitTest=function(n,i,o){if(n===i)return!1;var l=_l(n),c=_l(i),h=l.top,d=l.left,p=l.right,m=l.bottom,v=l.width,g=l.height,S=c.left>p||c.right<d||c.top>m||c.bottom<h,_,w,A;return S||!o?!S:(A=(o+"").indexOf("%")!==-1,o=parseFloat(o)||0,_={left:Math.max(d,c.left),top:Math.max(h,c.top)},_.width=Math.min(p,c.right)-_.left,_.height=Math.min(m,c.bottom)-_.top,_.width<0||_.height<0?!1:A?(o*=.01,w=_.width*_.height,w>=v*g*o||w>=c.width*c.height*o):_.width>o&&_.height>o)},t})(AI);mI(ko.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});ko.zIndex=1e3;ko.version="3.14.2";zM()&&re.registerPlugin(ko);const ka=(r,t)=>{const e=n=>{const{focusWindow:i,windows:o}=hs(),{isOpen:l,zIndex:c}=o[t],h=U.useRef(null);return Ca(()=>{const d=h.current;!d||!l||(d.style.display="block",Ea.fromTo(d,{scale:.8,opacity:0,y:40},{scale:1,opacity:1,y:0,duration:.2,ease:"power3.out"}))},[l]),Ca(()=>{const d=h.current;if(!d)return;const[p]=ko.create(d,{trigger:d.querySelector("#window-header"),cancel:"button, input, textarea, select",onPress:()=>i(t)});return()=>p.kill()},[]),U.useLayoutEffect(()=>{const d=h.current;d&&(d.style.display=l?"block":"none")},[l]),B.jsx("section",{id:t,ref:h,style:{zIndex:c},className:"absolute",children:B.jsx(r,{...n})})};return e.displayName=`WindowWrapper(${r.displayName||r.name||"Component"})`,e},Pa=({target:r})=>{const{closeWindow:t}=hs();return B.jsxs("div",{id:"window-controls",children:[B.jsx("div",{className:"close",onClick:()=>t(r)}),B.jsx("div",{className:"minimize"}),B.jsx("div",{className:"maximize"})]})};const wI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),jx=r=>{const t=xI(r);return t.charAt(0).toUpperCase()+t.slice(1)},HM=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),TI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var EI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CI=U.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...c},h)=>U.createElement("svg",{ref:h,...EI,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:HM("lucide",i),...!o&&!TI(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>U.createElement(d,p)),...Array.isArray(o)?o:[o]]));const Hi=(r,t)=>{const e=U.forwardRef(({className:n,...i},o)=>U.createElement(CI,{ref:o,iconNode:t,className:HM(`lucide-${wI(jx(r))}`,`lucide-${r}`,n),...i}));return e.displayName=jx(r),e};const MI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DI=Hi("check",MI);const RI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OI=Hi("chevron-left",RI);const LI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kI=Hi("chevron-right",LI);const PI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NI=Hi("copy",PI);const BI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FI=Hi("download",BI);const II=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],zI=Hi("flag",II);const jI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VI=Hi("mail",jI);const UI=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],HI=Hi("move-right",UI);const GI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],XI=Hi("panel-left",GI);const $I=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YI=Hi("plus",$I);const qI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qv=Hi("search",qI);const WI=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],KI=Hi("share",WI);const QI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 22V2",key:"zs6s6o"}]],ZI=Hi("shield-half",QI),Vx={resume:"resume",finder:"finder",safari:"safari",photos:"photos",terminal:"terminal",contact:"contact"},Ux={help:()=>B.jsxs("div",{className:"space-y-1",children:[B.jsx("p",{children:"Available commands:"}),B.jsxs("p",{children:[B.jsx("span",{className:"font-mono",children:"help"}),"  show commands"]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-mono",children:"skills"}),"  show tech stack"]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-mono",children:"clear"}),"  clear terminal"]}),B.jsx("p",{className:"mt-2",children:"Open apps:"}),B.jsx("p",{className:"font-mono text-sm",children:"open finder  open resume  open safari  open photos"})]}),skills:()=>B.jsxs("div",{className:"space-y-3",children:[yw.map(({category:r,items:t})=>B.jsxs("div",{className:"flex gap-4",children:[B.jsx(DI,{size:16,className:"text-green-600 mt-1"}),B.jsxs("div",{children:[B.jsx("p",{className:"font-semibold",children:r}),B.jsx("p",{className:"text-sm text-gray-600",children:t.join(", ")})]})]},r)),B.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-500 mt-3",children:[B.jsx(zI,{size:14})," Loaded ",yw.length," categories"]})]})},JI=()=>{const{openWindow:r}=hs(),[t,e]=U.useState(""),[n,i]=U.useState([{type:"system",content:"Welcome to GaganOS Terminal"},{type:"system",content:"Type `help` to see available commands"}]),o=U.useRef(null);U.useEffect(()=>{o.current?.scrollIntoView({behavior:"smooth"})},[n]);const l=h=>{const d=h.trim().toLowerCase();if(!d)return;if(d==="clear"){i([]);return}const p=d.split(" "),m=p[0]==="open"?p[1]:p[0];if(Vx[m]){r(Vx[m]),i(g=>[...g,{type:"command",content:h},{type:"output",content:`Opening ${m}`}]);return}const v=Ux[d]||d==="show skills"&&Ux.skills;i(v?g=>[...g,{type:"command",content:h},{type:"output",content:v()}]:g=>[...g,{type:"command",content:h},{type:"error",content:`command not found: ${h}`}])},c=h=>{h.preventDefault(),l(t),e("")};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"terminal"}),B.jsx("h2",{children:"Terminal"})]}),B.jsxs("div",{className:"techstack font-mono text-sm h-[360px] overflow-y-auto p-4 space-y-2 select-text",children:[n.map((h,d)=>B.jsxs("div",{children:[h.type==="command"&&B.jsxs("p",{children:[B.jsx("span",{className:"font-bold",children:"@Gagans-MacBook-Pro % "}),h.content]}),h.type==="output"&&B.jsx("div",{className:"ml-4 text-gray-800",children:h.content}),h.type==="error"&&B.jsx("p",{className:"ml-4 text-red-500",children:h.content}),h.type==="system"&&B.jsx("p",{className:"text-gray-500",children:h.content})]},d)),B.jsxs("form",{onSubmit:c,className:"flex gap-2",children:[B.jsx("span",{className:"font-bold",children:"@Gagans-MacBook-Pro %"}),B.jsx("input",{autoFocus:!0,value:t,onChange:h=>e(h.target.value),className:"flex-1 bg-transparent outline-none"})]}),B.jsx("div",{ref:o})]})]})},tz=ka(JI,"terminal"),ez=()=>B.jsx("div",{className:"screen-blocker",children:B.jsx("p",{children:"This Portfolio is designed for desktop/tablet screens only."})}),nz=()=>B.jsxs("div",{className:"safari-window",children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"safari"}),B.jsx(XI,{className:"ml-10 icon"}),B.jsxs("div",{className:"flex items-center gap-1 ml-5",children:[B.jsx(OI,{className:"icon"}),B.jsx(kI,{className:"icon"})]}),B.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[B.jsx(ZI,{className:"icon"}),B.jsxs("div",{className:"search",children:[B.jsx(qv,{className:"icon"}),B.jsx("input",{type:"text",placeholder:"Search or enter website name",className:"flex-1"})]})]}),B.jsxs("div",{className:"flex items-center gap-5",children:[B.jsx(KI,{className:"icon"}),B.jsx(YI,{className:"icon"}),B.jsx(NI,{className:"icon"})]})]}),B.jsxs("div",{className:"blog",children:[B.jsx("h2",{children:"Engineering Notes"}),B.jsx("div",{className:"space-y-8",children:mO.map(({id:r,image:t,title:e,date:n,link:i})=>B.jsxs("div",{className:"blog-post",children:[B.jsx("div",{className:"col-span-2",children:B.jsx("img",{src:t,alt:e||"Blog post"})}),B.jsxs("div",{className:"content",children:[B.jsx("p",{children:n}),B.jsx("h3",{children:e}),B.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Check out the full post ",B.jsx(HI,{className:"icon-hover"})]})]})]},r))})]})]}),iz=ka(nz,"safari"),Zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),C0=[.001,0,0,.001,0,0],yy=1.35,Di={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Gs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qu="pdfjs_internal_editor_",Vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ee={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},GM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ou={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},an={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},wl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},dh={ERRORS:0,WARNINGS:1,INFOS:5},ic={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Hd={moveTo:0,lineTo:1,curveTo:2,closePath:3},XM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dp=dh.WARNINGS;function sz(r){Number.isInteger(r)&&(dp=r)}function rz(){return dp}function fp(r){dp>=dh.INFOS&&console.info(`Info: ${r}`)}function Ut(r){dp>=dh.WARNINGS&&console.warn(`Warning: ${r}`)}function De(r){throw new Error(r)}function ae(r,t){r||De(t)}function az(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Wv(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=hz(r)}catch{}const n=t?URL.parse(r,t):URL.parse(r);return az(n)?n:null}function Kv(r,t,e=!1){const n=URL.parse(r);return n?(n.hash=t,n.href):e&&Wv(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function $t(r,t,e,n=!1){return Object.defineProperty(r,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Po=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class Hx extends Po{constructor(t,e){super(t,"PasswordException"),this.code=e}}class vy extends Po{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Vf extends Po{constructor(t){super(t,"InvalidPDFException")}}class Zu extends Po{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class oz extends Po{constructor(t){super(t,"FormatError")}}class Nr extends Po{constructor(t){super(t,"AbortException")}}function $M(r){(typeof r!="object"||r?.length===void 0)&&De("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<t;i+=e){const o=Math.min(i+e,t),l=r.subarray(i,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function fh(r){typeof r!="string"&&De("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=r.charCodeAt(n)&255;return e}function lz(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function cz(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function uz(){try{return new Function(""),!0}catch{return!1}}class En{static get isLittleEndian(){return $t(this,"isLittleEndian",cz())}static get isEvalSupported(){return $t(this,"isEvalSupported",uz())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $t(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return $t(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return $t(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const by=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class At{static makeHexColor(t,e,n){return`#${by[t]}${by[e]}${by[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const i=t[n],o=t[n+1];t[n]=i*e[0]+o*e[2]+e[4],t[n+1]=i*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const i=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],v=t[n+p+1];t[n+p]=m*i+v*l+h,t[n+p+1]=m*o+v*c+d}}static applyInverseTransform(t,e){const n=t[0],i=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const i=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5],p=t[0],m=t[1],v=t[2],g=t[3];let S=i*p+h,_=S,w=i*v+h,A=w,T=c*m+d,E=T,D=c*g+d,C=D;if(o!==0||l!==0){const L=o*p,R=o*v,k=l*m,F=l*g;S+=k,A+=k,w+=F,_+=F,T+=L,C+=L,D+=R,E+=R}n[0]=Math.min(n[0],S,w,_,A),n[1]=Math.min(n[1],T,D,E,C),n[2]=Math.max(n[2],S,w,_,A),n[3]=Math.max(n[3],T,D,E,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],o=t[2],l=t[3],c=n**2+i**2,h=n*o+i*l,d=o**2+l**2,p=(c+d)/2,m=Math.sqrt(p**2-(c*d-h**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,i,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,i),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,i)}static#t(t,e,n,i,o,l,c,h,d,p){if(d<=0||d>=1)return;const m=1-d,v=d*d,g=v*d,S=m*(m*(m*t+3*d*e)+3*v*n)+g*i,_=m*(m*(m*o+3*d*l)+3*v*c)+g*h;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],_),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],_)}static#e(t,e,n,i,o,l,c,h,d,p,m,v){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,i,o,l,c,h,-m/p,v);return}const g=p**2-4*m*d;if(g<0)return;const S=Math.sqrt(g),_=2*d;this.#t(t,e,n,i,o,l,c,h,(-p+S)/_,v),this.#t(t,e,n,i,o,l,c,h,(-p-S)/_,v)}static bezierBoundingBox(t,e,n,i,o,l,c,h,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h),this.#e(t,n,o,c,e,i,l,h,3*(-t+3*(n-o)+c),6*(t-2*n+o),3*(n-t),d),this.#e(t,n,o,c,e,i,l,h,3*(-e+3*(i-l)+h),6*(e-2*i+l),3*(i-e),d)}}function hz(r){return decodeURIComponent(escape(r))}let _y=null,Gx=null;function YM(r){return _y||(_y=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Gx=new Map([["","t"]])),r.replaceAll(_y,(t,e,n)=>e?e.normalize("NFKC"):Gx.get(n))}function Qv(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),$M(r)}const Zv="pdfjs_internal_id_";function dz(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,i,...o]=e;if(!r(n)&&!Number.isInteger(n)||!t(i))return!1;const l=o.length;let c=!0;switch(i.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function Gn(r,t,e){return Math.min(Math.max(r,t),e)}function qM(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa($M(r))}function fz(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):fh(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class Ju{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(o){if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(Ju.shouldBuildText(c))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const h of o.children)i(h)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Jv{static setupStorage(t,e,n,i,o){const l=i.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",c=>{i.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",c=>{i.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",c=>{i.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;i.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:o}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${i}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,o=t.intent||"display",l=document.createElement(i.name);i.attributes&&this.setAttributes({html:l,element:i,intent:o,linkService:n});const c=o!=="richText",h=t.div;if(h.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=m}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);l.append(m),c&&Ju.shouldBuildText(i.name)&&d.push(m)}return{textDivs:d}}const p=[[i,-1,l]];for(;p.length>0;){const[m,v,g]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const S=m.children[++p.at(-1)[1]];if(S===null)continue;const{name:_}=S;if(_==="#text"){const A=document.createTextNode(S.value);d.push(A),g.append(A);continue}const w=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,_):document.createElement(_);if(g.append(w),S.attributes&&this.setAttributes({html:w,element:S,storage:e,intent:o,linkService:n}),S.children?.length>0)p.push([S,-1,w]);else if(S.value){const A=document.createTextNode(S.value);c&&Ju.shouldBuildText(_)&&d.push(A),w.append(A)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Sr="http://www.w3.org/2000/svg";class Do{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function uc(r,t="text"){if(yu(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class ph{constructor({viewBox:t,userUnit:e,scale:n,rotation:i,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=i,this.offsetX=o,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,m,v,g;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,m=0,v=0,g=1;break;case 90:p=0,m=1,v=1,g=0;break;case 270:p=0,m=-1,v=-1,g=0;break;case 0:p=1,m=0,v=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,g=-g);let S,_,w,A;p===0?(S=Math.abs(d-t[1])*n+o,_=Math.abs(h-t[0])*n+l,w=(t[3]-t[1])*n,A=(t[2]-t[0])*n):(S=Math.abs(h-t[0])*n+o,_=Math.abs(d-t[1])*n+l,w=(t[2]-t[0])*n,A=(t[3]-t[1])*n),this.transform=[p*n,m*n,v*n,g*n,S-p*n*h-v*n*d,_-m*n*h-g*n*d],this.width=w,this.height=A}get rawDims(){const t=this.viewBox;return $t(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new ph({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return At.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];At.applyTransform(e,this.transform);const n=[t[2],t[3]];return At.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return At.applyInverseTransform(n,this.transform),n}}class pp extends Po{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function mh(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function mp(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function WM(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function KM(r,t="document.pdf"){if(typeof r!="string")return t;if(mh(r))return Ut('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return t;const i=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return i(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const d of c)if(o.test(d))return i(d);const h=Array.from(n.searchParams.keys()).reverse();for(const d of h)if(o.test(d))return i(d)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return i(h[0])}return t}class Xx{started=Object.create(null);times=[];time(t){t in this.started&&Ut(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ut(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-i}ms
`);return t.join("")}}function yu(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function Ui(r){r.preventDefault()}function Xe(r){r.preventDefault(),r.stopPropagation()}function pz(r){console.log("Deprecated API usage: "+r)}class Uf{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,d==="-"?(l+=p,c+=m):d==="+"&&(l-=p,c-=m),new Date(Date.UTC(n,i,o,l,c,h))}}function QM(r,{scale:t=1,rotation:e=0}){const{width:n,height:i}=r.attributes.style,o=[0,0,parseInt(n),parseInt(i)];return new ph({viewBox:o,userUnit:1,scale:t,rotation:e})}function hc(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ut(`Not a valid color format: "${r}"`),[0,0,0])}function mz(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;r.set(e,hc(n))}t.remove()}function Ue(r){const{a:t,b:e,c:n,d:i,e:o,f:l}=r.getTransform();return[t,e,n,i,o,l]}function Bs(r){const{a:t,b:e,c:n,d:i,e:o,f:l}=r.getTransform().invertSelf();return[t,e,n,i,o,l]}function Ra(r,t,e=!1,n=!0){if(t instanceof ph){const{pageWidth:i,pageHeight:o}=t.rawDims,{style:l}=r,c=En.isCSSRoundSupported,h=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&r.setAttribute("data-main-rotation",t.rotation)}class Ds{constructor(){const{pixelRatio:t}=Ds;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i,o=-1){let l=1/0,c=1/0,h=1/0;n=Ds.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),i!==-1&&(c=i/t,h=i/e);const d=Math.min(l,c,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Hf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class gz{static get isDarkMode(){return $t(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class ZM{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),$t(this,"commentForegroundColor",hc(n))}}function JM(r,t,e,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),t=Math.round(t*n+i),e=Math.round(e*n+i),[r,t,e]}function $x(r,t){const e=r[0]/255,n=r[1]/255,i=r[2]/255,o=Math.max(e,n,i),l=Math.min(e,n,i),c=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const h=o-l;switch(t[1]=c<.5?h/(o+l):h/(2-o-l),o){case e:t[0]=((n-i)/h+(n<i?6:0))*60;break;case n:t[0]=((i-e)/h+2)*60;break;case i:t[0]=((e-n)/h+4)*60;break}}t[2]=c}function M0(r,t){const e=r[0],n=r[1],i=r[2],o=(1-Math.abs(2*i-1))*n,l=o*(1-Math.abs(e/60%2-1)),c=i-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=o+c,t[2]=c;break;case 2:t[0]=c,t[1]=o+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=o+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=o+c;break;case 5:case 6:t[0]=o+c,t[1]=c,t[2]=l+c;break}}function Yx(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function qx(r,t,e){M0(r,e),e.map(Yx);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];M0(t,e),e.map(Yx);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const Wx=new Map;function tD(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=Wx.get(e);if(n)return n;const i=new Float32Array(9),o=i.subarray(0,3),l=i.subarray(3,6);$x(r,l);const c=i.subarray(6,9);$x(t,c);const h=c[2]<.5,d=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),qx(l,c,o)<d){let p,m;h?(p=l[2],m=1):(p=0,m=l[2]);const v=.005;for(;m-p>v;){const g=l[2]=(p+m)/2;h===qx(l,c,o)<d?p=g:m=g}l[2]=h?m:p}return M0(l,o),n=At.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),Wx.set(e,n),n}function tb({html:r,dir:t,className:e},n){const i=document.createDocumentFragment();if(typeof r=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=r.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const d=l[c];o.append(document.createTextNode(d)),c<h-1&&o.append(document.createElement("br"))}i.append(o)}else Jv.render({xfaHtml:r,div:i,intent:"richText"});i.firstChild.classList.add("richText",e),n.append(i)}class Lu{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,Lu.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ui,{signal:e}),t.addEventListener("pointerdown",Lu.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const i=this.#i.toolbarPosition;if(i){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,Xe(t)}#h(t){this.#i._focusEventsAllowed=!0,Xe(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ui,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Lu.#c[t]),this.#f(n)&&n.addEventListener("click",i=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const i=this.#r=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(i,e)):this.#n.append(n,i),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const i=this.#n.querySelector(n);i&&t==="comment"&&this.addComment(e,i)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class yz{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ui,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,i=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const c=o.x+(e?o.width:0);if(l>n){i=c,n=l;continue}e?c>i&&(i=c):c<i&&(i=c)}return[e?1-i:i,n]}show(t,e,n){const[i,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*i}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,i){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(o.addEventListener("contextmenu",Ui,{signal:c}),o.addEventListener("click",i,{signal:c})),this.#t.append(o)}}function eD(r,t,e){for(const n of e)t.addEventListener(n,r[n].bind(r))}class vz{#t=0;get id(){return`${Qu}${this.#t++}`}}class eb{#t=Qv();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const o=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let i;if(typeof e=="string"?(n.url=e,i=await uc(e,"blob")):e instanceof File?i=n.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const o=eb._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=p});l.readAsDataURL(i),await h}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ut(i),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:i,type:o}=t;return this.#n(`${e}_${n}_${i}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=i.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class bz{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:i,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(i&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===o){c&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const d=this.#n+1;d===this.#i?this.#t.splice(0,1):(this.#n=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class gh{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=En.platform;for(const[n,i,o={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:i,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:i,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:i,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(i.bind(t,...l,e)(),o||Xe(e))}}class nb{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return mz(t),$t(this,"_colors",t)}convert(t){const e=hc(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((o,l)=>o===e[l]))return nb._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?At.makeHexColor(...e):t}}class Br{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new bz;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#T=null;#w=null;#_=null;#C=null;#A=!1;#x=null;#R=new vz;#M=!1;#D=!1;#F=!1;#L=null;#P=null;#I=null;#N=null;#G=null;#E=Vt.NONE;#S=new Set;#k=null;#z=null;#V=null;#Y=null;#$=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#B=null;#X=null;#Z=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Br.prototype,e=l=>l.#X.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new gh([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#X.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#X.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,i,o,l,c,h,d,p,m,v,g,S,_,w){const A=this._signal=this.#t.signal;this.#X=t,this.#Z=e,this.#J=n,this.#s=i,this.#l=o,this.#z=l,this.#$=h,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:A}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),c._on("setpreference",this.onSetPreference.bind(this),{signal:A}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#D=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#D=!1},{capture:!0,signal:A}),this.#lt(),this.#dt(),this.#et(),this.#r=h.annotationStorage,this.#T=h.filterFactory,this.#V=d,this.#C=p||null,this.#y=m,this.#b=v,this.#v=g,this.#G=S||null,this.viewParameters={realScale:Do.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=w!==!1,o?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#m.clear(),this.#N?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#x?.hide(),this.#x=null,this.#I?.destroy(),this.#I=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return $t(this,"hcmFilter",this.#V?this.#T.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return $t(this,"direction",getComputedStyle(this.#X).direction)}get _highlightColors(){return $t(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return $t(this,"highlightColors",null);const e=new Map,n=!!this.#V;for(const[i,o]of t){const l=i.endsWith("_HCM");if(n&&l){e.set(i.replace("_HCM",""),o);continue}!n&&!l&&e.set(i,o)}return $t(this,"highlightColors",e)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,i){this.#l?.showDialog(this,t,e,n,i)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#v=e)}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#X.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:i,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(t>=i&&t<=i+l&&e>=o&&e<=o+c)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Do.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:o,focusNode:l,focusOffset:c}=n,h=n.toString(),p=this.#Q(n).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;n.empty();const v=this.#tt(p),g=this.#E===Vt.NONE,S=()=>{const _=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:o,focusNode:l,focusOffset:c,text:h});g&&this.showAllEditors("highlight",!0,!0),e&&_?.editComment()};if(g){this.switchToMode(Vt.HIGHLIGHT,S);return}S()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#x||=new yz(this),this.#x.show(n,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Qu}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#x?.hide(),this.#k=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#k)return;const i=this.#Q(t).closest(".textLayer");if(!i){this.#k&&(this.#x?.hide(),this.#k=null,this.#O({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#k=e,this.#O({hasSelectedText:!0}),!(this.#E!==Vt.HIGHLIGHT&&this.#E!==Vt.NONE)&&(this.#E===Vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#E===Vt.HIGHLIGHT?this.#tt(i):null;if(o?.toggleDrawing(),this.#D){const l=new AbortController,c=this.combinedSignal(l),h=d=>{d.type==="pointerup"&&d.button!==0||(l.abort(),o?.toggleDrawing(!0),d.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#E===Vt.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#P=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#P)return;const[t,e]=this.#P;this.#P=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#L?.abort(),this.#L=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#S){const i=n.serialize(!0);i&&e.push(i)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ut(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const h of n){const d=await i.deserialize(h);if(!d)return;o.push(d)}const l=()=>{for(const h of o)this.#st(h);this.#rt(o)},c=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Ut(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Vt.NONE&&!this.isEditorHandlingKeyboard&&Br._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#O(t){Object.entries(t).some(([n,i])=>this.#q[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,t)}),this.#E===Vt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[ee.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#O({isEditing:this.#E!==Vt.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,i=!1,o=!1){if(this.#E!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#E===Vt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=t,t===Vt.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Vt.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Vt.POPUP){this.#i||=await this.#$.getAnnotationsByType(new Set(this.#u.map(h=>h._editorType)));const l=new Set,c=[];for(const h of this.#n.values()){const{annotationElementId:d,hasComment:p,deleted:m}=h;d&&l.add(d),p&&!m&&c.push(h.getData())}for(const h of this.#i){const{id:d,popupRef:p,contentsObj:m}=h;p&&m?.str&&!l.has(d)&&!this.#g.has(d)&&c.push(h)}this.#l?.showSidebar(c)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():i?l.enterInEditMode():l.focus()):l.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case ee.CREATE:this.currentLayer.addNewEditor(e);return;case ee.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#Y?.get(ee.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[ee.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#O({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],n=()=>{this._editorUndoBar?.show(i,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},i=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==Vt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=e;const[i,o]=this.#U,l=[...this.#S],c=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(i,o),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-i,-o),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:i,y:o,pageIndex:l},c]of t)c.newX=i,c.newY=o,c.newPageIndex=l,e||=i!==c.savedX||o!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(i,o,l,c)=>{if(this.#n.has(i.id)){const h=this.#a.get(c);h?i._setParentAndPosition(h,o,l):(i.pageIndex=c,i.x=o,i.y=l)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:l,newPageIndex:c}]of t)n(i,o,l,c)},undo:()=>{for(const[i,{savedX:o,savedY:l,savedPageIndex:c}]of t)n(i,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}isEditingMode(){return this.#E!==Vt.NONE}get imageManager(){return $t(this,"imageManager",new eb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:o,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,m,v)=>({x:(p-i)/l,y:1-(d+m-n)/o,width:v/l,height:m/o});break;case"180":c=(d,p,m,v)=>({x:1-(d+m-n)/o,y:1-(p+v-i)/l,width:m/o,height:v/l});break;case"270":c=(d,p,m,v)=>({x:1-(p+v-i)/l,y:(d-n)/o,width:v/l,height:m/o});break;default:c=(d,p,m,v)=>({x:(d-n)/o,y:(p-i)/l,width:m/o,height:v/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const m=e.getRangeAt(d);if(!m.collapsed)for(const{x:v,y:g,width:S,height:_}of m.getClientRects())S===0||_===0||h.push(c(v,g,S,_))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#E===Vt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const i=this.#N?.get(t);i&&(i.setCanvas(e,n),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Vs{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Vs.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Vs._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Vs.#f.missing),e.setAttribute("data-l10n-id",Vs.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",Ui,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const i=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,i(o))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Vs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:i,cancel:o=!1}){n&&(this.#l=n,this.#d=i),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Vs.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Vs.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const i=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Gd{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(n.backgroundColor=i)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:i,y:o,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-i)/l,(e+n-o)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Ui,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,Xe(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,Xe(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const i=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,i(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=this.#n.commentButtonPosition;const{width:p,height:m,x:v,y:g}=this.#n;n=v+n*p,i=g+i*m}const o=this.#n.parent.boundingClientRect,{x:l,y:c,width:h,height:d}=o;this.#n._uiManager.editComment(this.#n,l+n*h,c+i*d,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class yh{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=i,this.#s=o,this.#r=l,this.#d=new AbortController,this.#c=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ds.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,o=AbortSignal.any([this.#c,i.signal]),l=this.#t,c={capture:!0,signal:o,passive:!1},h=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Xe(d),h(d))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#h){this.#h=new AbortController;const i=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:i,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#p.bind(this);o.addEventListener("touchend",c,l),o.addEventListener("touchcancel",c,l),l.capture=!0,o.addEventListener("pointerdown",Xe,l),o.addEventListener("pointermove",Xe,l),o.addEventListener("pointercancel",Xe,l),o.addEventListener("pointerup",Xe,l),this.#a?.()}if(Xe(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;Xe(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:i,screenY:o}=e,{screenX:l,screenY:c}=n,h=this.#l,{touch0X:d,touch0Y:p,touch1X:m,touch1Y:v}=h,g=m-d,S=v-p,_=l-i,w=c-o,A=Math.hypot(_,w)||1,T=Math.hypot(g,S)||1;if(!this.#e&&Math.abs(T-A)<=yh.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=i,h.touch0Y=o,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const E=[(i+l)/2,(o+c)/2];this.#s?.(E,T,A)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(Xe(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#b=!1;#v=null;#T=0;#w=0;#_=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#x=Lt._zIndex++;static _borderLineWidth=-1;static _colorManager=new nb;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Lt.prototype._resizeWithKeyboard,e=Br.TRANSLATE_SMALL,n=Br.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new gh([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[o,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new _z({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Lt._l10n??=t,Lt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){De("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[o,l]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/o,this.y=(e+i)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}#R([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,o]}=this;if(this.x+=t/i,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,d]=this.getBaseTranslation();l+=h,c+=d;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Lt,i=n/t,o=n/e;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,i]}=this;let{x:o,y:l,width:c,height:h}=this;if(c*=n,h*=i,o*=n,l*=i,this._mustFixPosition)switch(t){case 0:o=Gn(o,0,n-c),l=Gn(l,0,i-h);break;case 90:o=Gn(o,0,n-h),l=Gn(l,c,i);break;case 180:o=Gn(o,c,n),l=Gn(l,h,i);break;case 270:o=Gn(o,h,n),l=Gn(l,0,i-c);break}this.x=o/=n,this.y=l/=i;const[d,p]=this.getBaseTranslation();o+=d,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Lt.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Lt.#M(t,e,360-this.parentRotation)}#D(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",this.#L.bind(this,n),{signal:e}),i.addEventListener("contextmenu",Ui,{signal:e}),i.tabIndex=-1}this.div.prepend(this.#c)}#L(t,e){e.preventDefault();const{isMac:n}=En.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Xe,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ui,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#I()};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}#P(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=this.#d;this.#d=null;const o=this.x,l=this.y,c=this.width,h=this.height;o===t&&l===e&&c===n&&h===i||this.addCommands({cmd:this.#P.bind(this,o,l,c,h),undo:this.#P.bind(this,t,e,n,i),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#N(t,e){const[n,i]=this.parentDimensions,o=this.x,l=this.y,c=this.width,h=this.height,d=Lt.MIN_SIZE/n,p=Lt.MIN_SIZE/i,m=this.#D(this.rotation),v=(O,N)=>[m[0]*O+m[2]*N,m[1]*O+m[3]*N],g=this.#D(360-this.rotation),S=(O,N)=>[g[0]*O+g[2]*N,g[1]*O+g[3]*N];let _,w,A=!1,T=!1;switch(t){case"topLeft":A=!0,_=(O,N)=>[0,0],w=(O,N)=>[O,N];break;case"topMiddle":_=(O,N)=>[O/2,0],w=(O,N)=>[O/2,N];break;case"topRight":A=!0,_=(O,N)=>[O,0],w=(O,N)=>[0,N];break;case"middleRight":T=!0,_=(O,N)=>[O,N/2],w=(O,N)=>[0,N/2];break;case"bottomRight":A=!0,_=(O,N)=>[O,N],w=(O,N)=>[0,0];break;case"bottomMiddle":_=(O,N)=>[O/2,N],w=(O,N)=>[O/2,0];break;case"bottomLeft":A=!0,_=(O,N)=>[0,N],w=(O,N)=>[O,0];break;case"middleLeft":T=!0,_=(O,N)=>[0,N/2],w=(O,N)=>[O,N/2];break}const E=_(c,h),D=w(c,h);let C=v(...D);const L=Lt._round(o+C[0]),R=Lt._round(l+C[1]);let k=1,F=1,$,H;if(e.fromKeyboard)({deltaX:$,deltaY:H}=e);else{const{screenX:O,screenY:N}=e,[z,st]=this.#l;[$,H]=this.screenToPageTranslation(O-z,N-st),this.#l[0]=O,this.#l[1]=N}if([$,H]=S($/n,H/i),A){const O=Math.hypot(c,h);k=F=Math.max(Math.min(Math.hypot(D[0]-E[0]-$,D[1]-E[1]-H)/O,1/c,1/h),d/c,p/h)}else T?k=Gn(Math.abs(D[0]-E[0]-$),d,1)/c:F=Gn(Math.abs(D[1]-E[1]-H),p,1)/h;const at=Lt._round(c*k),et=Lt._round(h*F);C=v(...w(at,et));const q=L-C[0],W=R-C[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=at,this.height=et,this.x=q,this.y=W,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Lu(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Vs.initialize(Lt._l10n),this.#i=new Vs(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Gd(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:i}}=this.#n;return{text:e,richText:t,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Gd(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Gd(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Gd(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,i]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,c=l+o+1,h=i-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,d,i]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),eD(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new yh({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#D(this.rotation),c=(L,R)=>[l[0]*L+l[2]*R,l[1]*L+l[3]*R],[h,d]=this.parentDimensions,p=this.x,m=this.y,v=this.width,g=this.height,S=Lt.MIN_SIZE/h,_=Lt.MIN_SIZE/d;o=Math.max(Math.min(o,1/v,1/g),S/v,_/g);const w=Lt._round(v*o),A=Lt._round(g*o);if(w===v&&A===g)return;this.#u||=[p,m,v,g];const T=c(v/2,g/2),E=Lt._round(p+T[0]),D=Lt._round(m+T[1]),C=c(w/2,A/2);this.x=E-C[0],this.y=D-C[1],this.width=w,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(t){const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#z(t);return}this.#k(t)}#k(t){const{isMac:e}=En.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i),l={capture:!0,passive:!1,signal:o},c=d=>{i.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#k(d),n&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#w=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=d;if(v!==this.#r){Xe(d);return}const[g,S]=this.screenToPageTranslation(p-this.#T,m-this.#w);this.#T=p,this.#w=m,this._uiManager.dragSelectedEditors(g,S)},l),window.addEventListener("touchmove",Xe,l),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#C||d.isPrimary)&&c(d),Xe(d)},l));const h=d=>{if(!this.#r||this.#r===d.pointerId){c(d);return}Xe(d)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const i=this.parentScale,[o,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/i,p=e/i,m=this.x*o,v=this.y*l,g=this.width*o,S=this.height*l;switch(n){case 0:return[m+d+c,l-v-p-S+h,m+d+g+c,l-v-p+h];case 90:return[m+p+c,l-v+d+h,m+p+S+c,l-v+d+g+h];case 180:return[m-d-g+c,l-v+p+h,m-d+c,l-v+p+S+h];case 270:return[m-p-S+c,l-v-d-g+h,m-p+c,l-v-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,o,l]=t,c=o-n,h=l-i;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-i,h,c];case 180:return[o,e-i,c,h];case 270:return[o,e-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:o,richText:l},uid:c,pageIndex:h,creationDate:d,modificationDate:p}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:d,modificationDate:n||p,popupRef:!o,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&i>0&&t<o&&n>0}#V(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,i.#t=t.accessibilityData,i._isCopy=t.isCopy||!1;const[o,l]=i.pageDimensions,[c,h,d,p]=i.getRectInCurrentCoords(t.rect,l);return i.x=c/o,i.y=h/l,i.width=d/o,i.height=p/l,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,o,l]=this.getPDFRect();return[Lt._round(n+(o-n)*t),Lt._round(i+(l-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#Y.bind(this),c=this.#$.bind(this),h=this._uiManager._signal;for(const d of this.#e){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",this.#q.bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",Lt._l10nResizer[p])}}const n=this.#e[0];let i=0;for(const l of e){if(l===n)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==i){if(o<i)for(let c=0;c<i-o;c++)this.#c.append(this.#c.firstChild);else if(o>i)for(let c=0;c<o-i;c++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const c of e){const d=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Lt._l10nResizer[d])}}this.#U(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){Lt._resizerKeyboardManager.exec(this,t)}#$(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#q(t){this.#g=this.#b?t:""}#U(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#N(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#b=!1,this.#U(-1),this.#I()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:n}=t;let i=this.#_.get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(n),this.#_.size===0&&(this.#_=null)},Lt._telemetryTimeout),this.#_.set(n,i);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class _z extends Lt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Kx=3285377520,is=4294901760,Fs=65535;class nD{constructor(t){this.h1=t?t&4294967295:Kx,this.h2=t?t&4294967295:Kx}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let _=0,w=t.length;_<w;_++){const A=t.charCodeAt(_);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,o=n-i*4,l=new Uint32Array(e.buffer,0,i);let c=0,h=0,d=this.h1,p=this.h2;const m=3432918353,v=461845907,g=m&Fs,S=v&Fs;for(let _=0;_<i;_++)_&1?(c=l[_],c=c*m&is|c*g&Fs,c=c<<15|c>>>17,c=c*v&is|c*S&Fs,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[_],h=h*m&is|h*g&Fs,h=h<<15|h>>>17,h=h*v&is|h*S&Fs,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=e[i*4+2]<<16;case 2:c^=e[i*4+1]<<8;case 1:c^=e[i*4],c=c*m&is|c*g&Fs,c=c<<15|c>>>17,c=c*v&is|c*S&Fs,i&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&is|t*36045&Fs,e=e*4283543511&is|((e<<16|t>>>16)*2950163797&is)>>>16,t^=e>>>1,t=t*444984403&is|t*60499&Fs,e=e*3301882366&is|((e<<16|t>>>16)*3120437893&is)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const D0=Object.freeze({map:null,hash:"",transfer:void 0});class ib{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Lt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof Lt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let i=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(i=!0,n[o]=l);else i=!0,this.#n.set(t,e);i&&this.#a(),e instanceof Lt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new iD(this)}get serializable(){if(this.#n.size===0)return D0;const t=new Map,e=new nD,n=[],i=Object.create(null);let o=!1;for(const[l,c]of this.#n){const h=c instanceof Lt?c.serialize(!1,i):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:D0}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const o of this.#n.values()){if(!(o instanceof Lt)){o.popup&&(o.popup.deleted?i+=1:n+=1);continue}o.isCommentDeleted?i+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const h=t[c]||=new Map;for(const[d,p]of Object.entries(l)){if(d==="type")continue;let m=h.get(d);m||(m=new Map,h.set(d,m));const v=m.get(p)??0;m.set(p,v+1)}}if((i>0||n>0)&&(t||=Object.create(null),t.comments={deleted:i,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class iD extends ib{#t;constructor(t){super();const{map:e,hash:n,transfer:i}=t.serializable,o=structuredClone(e,i?{transfer:i}:null);this.#t={map:o,hash:n,transfer:i}}get print(){De("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}class Sz{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(ae(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:o,style:l}=t,c=new FontFace(i,o,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(i),n?.(t)}catch{Ut(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}De("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ut(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return $t(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return $t(this,"isSyncFontLoadingSupported",Zn||En.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ae(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,C){return D.charCodeAt(C)<<24|D.charCodeAt(C+1)<<16|D.charCodeAt(C+2)<<8|D.charCodeAt(C+3)&255}function i(D,C,L,R){const k=D.substring(0,C),F=D.substring(C+L);return k+R+F}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(D,C){if(++d>30){Ut("Load test font never loaded."),C();return}if(h.font="30px "+D,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(p.bind(null,D,C))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=i(v,976,m.length,m);const S=16,_=1482184792;let w=n(v,S);for(o=0,l=m.length-3;o<l;o+=4)w=w-_+n(m,o)|0;o<m.length&&(w=w-_+n(m+"XXX",o)|0),v=i(v,S,4,lz(w));const A=`url(data:font/opentype;base64,${btoa(v)});`,T=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(T);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const D of[t.loadedName,m]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=D,E.append(C)}this._document.body.append(E),p(m,()=>{E.remove(),e.complete()})}}class Az{#t;constructor(t,e=null,n,i){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${qM(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(l){Ut(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function wz(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Zn)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xz(r){if(Zn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return fh(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Xd(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const R0=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,Tz=r=>typeof r=="object"&&typeof r?.name=="string",sD=dz.bind(null,R0,Tz);class Ez{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[i]of this.#t)i.call(this,n)})}addEventListener(t,e,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ut("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);i=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,i)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const $d={DATA:1,ERROR:2},pn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Qx(){}function di(r){if(r instanceof Nr||r instanceof Vf||r instanceof Hx||r instanceof Zu||r instanceof vy)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||De('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Nr(r.message);case"InvalidPDFException":return new Vf(r.message);case"PasswordException":return new Hx(r.message,r.code);case"ResponseException":return new Zu(r.message,r.status,r.missing);case"UnknownErrorException":return new vy(r.message,r.details)}return new vy(r.message,r.toString())}class vu{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===$d.DATA)i.resolve(t.data);else if(t.callback===$d.ERROR)i.reject(di(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:i,callback:$d.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:i,callback:$d.ERROR,callbackId:t.callbackId,reason:di(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,i){const o=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:o,data:e,desiredSize:d.desiredSize},i),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:pn.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{ae(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:pn.CANCEL,streamId:o,reason:di(d)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:pn.ENQUEUE,streamId:e,chunk:d},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:pn.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){ae(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:pn.ERROR,streamId:e,reason:di(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){o.postMessage({sourceName:n,targetName:i,stream:pn.START_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:i,stream:pn.START_COMPLETE,streamId:e,reason:di(d)})})}#n(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case pn.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(di(t.reason));break;case pn.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(di(t.reason));break;case pn.PULL:if(!c){o.postMessage({sourceName:n,targetName:i,stream:pn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||Qx).then(function(){o.postMessage({sourceName:n,targetName:i,stream:pn.PULL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:i,stream:pn.PULL_COMPLETE,streamId:e,reason:di(d)})});break;case pn.ENQUEUE:if(ae(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case pn.CLOSE:if(ae(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case pn.ERROR:ae(l,"error should have stream controller"),l.controller.error(di(t.reason)),this.#a(l,e);break;case pn.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(di(t.reason)),this.#a(l,e);break;case pn.CANCEL:if(!c)break;const h=di(t.reason);Promise.try(c.onCancel||Qx,h).then(function(){o.postMessage({sourceName:n,targetName:i,stream:pn.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:i,stream:pn.CANCEL_COMPLETE,streamId:e,reason:di(d)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class rD{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){De("Abstract method `_createCanvas` called.")}}class Cz extends rD{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class aD{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class Zx extends aD{async _fetch(t){const e=await uc(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):fh(e)}}class oD{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,o){return"none"}destroy(t=!1){}}class Mz extends oD{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(Sr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(Sr,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const h=t[0],d=new Array(256);for(let m=0;m<256;m++)d[m]=h[m]/255;const p=d.join(",");return[p,p,p]}const[e,n,i]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,l[h]=n[h]/255,c[h]=i[h]/255;return[o.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(mh(e)?Ut('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Kv(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,i,o]=this.#d(t),l=t.length===1?n:`${n}${i}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#r++}`,h=this.#h(c);this.#o.set(t,h),this.#o.set(l,h);const d=this.#p(c);return this.#m(n,i,o,d),h}addHCMFilter(t,e){const n=`${t}-${e}`,i="base";let o=this.#c.get(i);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(i,o)),!t||!e))return o.url;const l=this.#b(t);t=At.makeHexColor(...l);const c=this.#b(e);if(e=At.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let g=0;g<=255;g++){const S=g/255;h[g]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=h.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#p(p);this.#m(d,d,d,m),this.#g(m);const v=(g,S)=>{const _=l[g]/255,w=c[g]/255,A=new Array(S+1);for(let T=0;T<=S;T++)A[T]=_+T/S*(w-_);return A.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),m),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),i=`alpha_${n}`;if(e=this.#o.get(i),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(i,l);const c=this.#p(o);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,i;if(t?([n]=this.#d([t]),i=`luminosity_${n}`):i="luminosity",e=this.#o.get(i),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(i,l);const c=this.#p(o);return this.#f(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,i,o){const l=`${e}-${n}-${i}-${o}`;let c=this.#c.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(t,c)),!e||!n))return c.url;const[h,d]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,g]=[i,o].map(this.#b.bind(this));m<p&&([p,m,v,g]=[m,p,g,v]),this.#l.style.color="";const S=(A,T,E)=>{const D=new Array(256),C=(m-p)/E,L=A/255,R=(T-A)/(255*E);let k=0;for(let F=0;F<=E;F++){const $=Math.round(p+F*C),H=L+F*R;for(let at=k;at<=$;at++)D[at]=H;k=$+1}for(let F=k;F<256;F++)D[F]=D[k-1];return D.join(",")},_=`g_${this.#n}_hcm_${t}_filter`,w=c.filter=this.#p(_);return this.#g(w),this.#m(S(v[0],g[0],5),S(v[1],g[1],5),S(v[2],g[2],5),w),c.url=this.#h(_),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(Sr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(Sr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Sr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const i=this.#a.createElementNS(Sr,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}#m(t,e,n,i){const o=this.#a.createElementNS(Sr,"feComponentTransfer");i.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(Sr,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,hc(getComputedStyle(this.#l).getPropertyValue("color"))}}class lD{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class Jx extends lD{async _fetch(t){const e=await uc(t,"arraybuffer");return new Uint8Array(e)}}class cD{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class tT extends cD{async _fetch(t){const e=await uc(t,"arraybuffer");return new Uint8Array(e)}}Zn&&Ut("Please use the `legacy` build in Node.js environments.");async function sb(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class Dz extends oD{}class Rz extends rD{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class Oz extends aD{async _fetch(t){return sb(t)}}class Lz extends lD{async _fetch(t){return sb(t)}}class kz extends cD{async _fetch(t){return sb(t)}}const Sl="__forcedDependency",{floor:eT,ceil:nT}=Math;function Yd(r,t,e,n,i,o){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],n),r[t*4+2]=Math.max(r[t*4+2],i),r[t*4+3]=Math.max(r[t*4+3],o)}const O0=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Pz{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===O0}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const qd=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};class Nz{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Sl]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(t,e,n=!1){this.#f=t.width,this.#g=t.height,this.#y(e),n&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(O0,e.length)):this.#u.fill(O0)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Sl]:{__proto__:this.#e[Sl]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(qd(this.#m,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(qd(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(qd(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(At.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Sl,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Sl,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,i,o,l){const c=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];At.axialAlignedBoundingBox([n,o,i,l],c,h);const d=At.intersect(this.#r,h);return d?(this.#r[0]=d[0],this.#r[1]=d[1],this.#r[2]=d[2],this.#r[3]=d[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,i,o,l){const c=this.#r;if(c[0]===1/0)return this;const h=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(c[0]===-1/0)return At.axialAlignedBoundingBox([n,o,i,l],h,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return At.axialAlignedBoundingBox([n,o,i,l],h,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,n,i=1,o=0,l=0,c){const h=n.bbox;let d,p;if(h&&(d=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(n),d!==!1&&(p=[0,0,0,0],At.axialAlignedBoundingBox(h,n.fontMatrix,p),(i!==1||o!==0||l!==0)&&At.scaleMinMax([i,0,0,-i,o,l],p),d)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const m=c();return h&&p&&d===void 0&&(d=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#h.set(n,d),d)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,i=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(i[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Sl]),this.#m){const n=qd(this.#m,t),{dependencies:i}=n;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=eT(this.#o[0]*256/this.#f),i=eT(this.#o[1]*256/this.#g),o=nT(this.#o[2]*256/this.#f),l=nT(this.#o[3]*256/this.#g);Yd(this.#p,t,n,i,o,l);for(const c of this.#l)c!==t&&Yd(this.#p,c,n,i,o,l);for(const c of this.#n)c!==t&&Yd(this.#p,c,n,i,o,l);for(const c of this.#a)c!==t&&Yd(this.#p,c,n,i,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new Pz(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Gf{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof Gf&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,i,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,i,o,l),this}recordBBox(t,e,n,i,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,i,o,l),this}recordCharacterBBox(t,e,n,i,o,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,i,o,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const ss={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Nn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function L0(r,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,n),r.clip(i)}class rb{isModifyingCurrentTransform(){return!1}getPattern(){De("Abstract method `getPattern` called.")}}class Bz extends rb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let o;if(i===Nn.STROKE||i===Nn.FILL){const l=e.current.getClippedPathBoundingBox(i,Ue(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=At.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),L0(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(d.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else L0(t,this._bbox),o=this._createGradient(t);return o}}function Sy(r,t,e,n,i,o,l,c){const h=t.coords,d=t.colors,p=r.data,m=r.width*4;let v;h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v),h[n+1]>h[i+1]&&(v=n,n=i,i=v,v=l,l=c,c=v),h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v);const g=(h[e]+t.offsetX)*t.scaleX,S=(h[e+1]+t.offsetY)*t.scaleY,_=(h[n]+t.offsetX)*t.scaleX,w=(h[n+1]+t.offsetY)*t.scaleY,A=(h[i]+t.offsetX)*t.scaleX,T=(h[i+1]+t.offsetY)*t.scaleY;if(S>=T)return;const E=d[o],D=d[o+1],C=d[o+2],L=d[l],R=d[l+1],k=d[l+2],F=d[c],$=d[c+1],H=d[c+2],at=Math.round(S),et=Math.round(T);let q,W,O,N,z,st,dt,P;for(let j=at;j<=et;j++){if(j<w){const gt=j<S?0:(S-j)/(S-w);q=g-(g-_)*gt,W=E-(E-L)*gt,O=D-(D-R)*gt,N=C-(C-k)*gt}else{let gt;j>T?gt=1:w===T?gt=0:gt=(w-j)/(w-T),q=_-(_-A)*gt,W=L-(L-F)*gt,O=R-(R-$)*gt,N=k-(k-H)*gt}let Z;j<S?Z=0:j>T?Z=1:Z=(S-j)/(S-T),z=g-(g-A)*Z,st=E-(E-F)*Z,dt=D-(D-$)*Z,P=C-(C-H)*Z;const it=Math.round(Math.min(q,z)),ft=Math.round(Math.max(q,z));let yt=m*j+it*4;for(let gt=it;gt<=ft;gt++)Z=(q-gt)/(q-z),Z<0?Z=0:Z>1&&(Z=1),p[yt++]=W-(W-st)*Z|0,p[yt++]=O-(O-dt)*Z|0,p[yt++]=N-(N-P)*Z|0,p[yt++]=255}}function Fz(r,t,e){const n=t.coords,i=t.colors;let o,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(o=0;o<h;o++){let p=o*c;for(let m=0;m<d;m++,p++)Sy(r,e,n[p],n[p+1],n[p+c],i[p],i[p+1],i[p+c]),Sy(r,e,n[p+c+1],n[p+1],n[p+c],i[p+c+1],i[p+1],i[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Sy(r,e,n[o],n[o+1],n[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class Iz extends rb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),g=d/m,S=p/v,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/g,scaleY:1/S},w=m+4,A=v+4,T=n.getCanvas("mesh",w,A),E=T.context,D=E.createImageData(m,v);if(e){const L=D.data;for(let R=0,k=L.length;R<k;R+=4)L[R]=e[0],L[R+1]=e[1],L[R+2]=e[2],L[R+3]=255}for(const L of this._figures)Fz(D,L,_);return E.putImageData(D,2,2),{canvas:T.canvas,offsetX:c-2*g,offsetY:h-2*S,scaleX:g,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){L0(t,this._bbox);const o=new Float32Array(2);if(i===Nn.SHADING)At.singularValueDecompose2dScale(Ue(t),o);else if(this.matrix){At.singularValueDecompose2dScale(this.matrix,o);const[c,h]=o;At.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=c,o[1]*=h}else At.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,i===Nn.SHADING?null:this._background,e.cachedCanvases);return i!==Nn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class zz extends rb{getPattern(){return"hotpink"}}function jz(r){switch(r[0]){case"RadialAxial":return new Bz(r);case"Mesh":return new Iz(r);case"Dummy":return new zz}throw new Error(`Unknown IR type: ${r[0]}`)}const iT={COLORED:1,UNCOLORED:2};class ab{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){const{bbox:n,operatorList:i,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),fp("TilingType: "+l);const m=n[0],v=n[1],g=n[2],S=n[3],_=g-m,w=S-v,A=new Float32Array(2);At.singularValueDecompose2dScale(this.matrix,A);const[T,E]=A;At.singularValueDecompose2dScale(this.baseTransform,A);const D=T*A[0],C=E*A[1];let L=_,R=w,k=!1,F=!1;const $=Math.ceil(d*D),H=Math.ceil(p*C),at=Math.ceil(_*D),et=Math.ceil(w*C);$>=at?L=d:k=!0,H>=et?R=p:F=!0;const q=this.getSizeAndScale(L,this.ctx.canvas.width,D),W=this.getSizeAndScale(R,this.ctx.canvas.height,C),O=t.cachedCanvases.getCanvas("pattern",q.size,W.size),N=O.context,z=h.createCanvasGraphics(N,e);if(z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(z,o,c),N.translate(-q.scale*m,-W.scale*v),z.transform(0,q.scale,0,0,W.scale,0,0),N.save(),z.dependencyTracker?.save(),this.clipBbox(z,m,v,g,S),z.baseTransform=Ue(z.ctx),z.executeOperatorList(i),z.endDrawing(),z.dependencyTracker?.restore(),N.restore(),k||F){const st=O.canvas;k&&(L=d),F&&(R=p);const dt=this.getSizeAndScale(L,this.ctx.canvas.width,D),P=this.getSizeAndScale(R,this.ctx.canvas.height,C),j=dt.size,Z=P.size,it=t.cachedCanvases.getCanvas("pattern-workaround",j,Z),ft=it.context,yt=k?Math.floor(_/d):0,gt=F?Math.floor(w/p):0;for(let Dt=0;Dt<=yt;Dt++)for(let Pt=0;Pt<=gt;Pt++)ft.drawImage(st,j*Dt,Z*Pt,j,Z,0,0,j,Z);return{canvas:it.canvas,scaleX:dt.scale,scaleY:P.scale,offsetX:m,offsetY:v}}return{canvas:O.canvas,scaleX:q.scale,scaleY:W.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,n){const i=Math.max(ab.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=i?o=i:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,i,o){const l=i-e,c=o-n;t.ctx.rect(e,n,l,c),At.axialAlignedBoundingBox([e,n,i,o],Ue(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,o=t.current;switch(e){case iT.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;i.fillStyle=o.fillColor=l,i.strokeStyle=o.strokeColor=c;break;case iT.UNCOLORED:i.fillStyle=i.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new oz(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,o){let l=n;i!==Nn.SHADING&&(l=At.transform(l,e.baseTransform),this.matrix&&(l=At.transform(l,this.matrix)));const c=this.createPatternCanvas(e,o);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function Vz({src:r,srcPos:t=0,dest:e,width:n,height:i,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=En.isLittleEndian?4278190080:255,[h,d]=l?[o,c]:[c,o],p=n>>3,m=n&7,v=r.length;e=new Uint32Array(e.buffer);let g=0;for(let S=0;S<i;S++){for(const w=t+p;t<w;t++){const A=t<v?r[t]:255;e[g++]=A&128?d:h,e[g++]=A&64?d:h,e[g++]=A&32?d:h,e[g++]=A&16?d:h,e[g++]=A&8?d:h,e[g++]=A&4?d:h,e[g++]=A&2?d:h,e[g++]=A&1?d:h}if(m===0)continue;const _=t<v?r[t++]:255;for(let w=0;w<m;w++)e[g++]=_&1<<7-w?d:h}return{srcPos:t,destPos:g}}const sT=16,rT=100,Uz=15,aT=10,fi=16,Ay=new DOMMatrix,Li=new Float32Array(2),Ol=new Float32Array([1/0,1/0,-1/0,-1/0]);function Hz(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},r.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},r.transform=function(e,n,i,o,l,c){t.transform(e,n,i,o,l,c),this.__originalTransform(e,n,i,o,l,c)},r.setTransform=function(e,n,i,o,l,c){t.setTransform(e,n,i,o,l,c),this.__originalSetTransform(e,n,i,o,l,c)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},r.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},r.bezierCurveTo=function(e,n,i,o,l,c){t.bezierCurveTo(e,n,i,o,l,c),this.__originalBezierCurveTo(e,n,i,o,l,c)},r.rect=function(e,n,i,o){t.rect(e,n,i,o),this.__originalRect(e,n,i,o)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Gz{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Wd(r,t,e,n,i,o,l,c,h,d){const[p,m,v,g,S,_]=Ue(r);if(m===0&&v===0){const T=l*p+S,E=Math.round(T),D=c*g+_,C=Math.round(D),L=(l+h)*p+S,R=Math.abs(Math.round(L)-E)||1,k=(c+d)*g+_,F=Math.abs(Math.round(k)-C)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(g),E,C),r.drawImage(t,e,n,i,o,0,0,R,F),r.setTransform(p,m,v,g,S,_),[R,F]}if(p===0&&g===0){const T=c*v+S,E=Math.round(T),D=l*m+_,C=Math.round(D),L=(c+d)*v+S,R=Math.abs(Math.round(L)-E)||1,k=(l+h)*m+_,F=Math.abs(Math.round(k)-C)||1;return r.setTransform(0,Math.sign(m),Math.sign(v),0,E,C),r.drawImage(t,e,n,i,o,0,0,F,R),r.setTransform(p,m,v,g,S,_),[F,R]}r.drawImage(t,e,n,i,o,l,c,h,d);const w=Math.hypot(p,m),A=Math.hypot(v,g);return[w*h,A*d]}class oT{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=C0;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=kn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ol.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Nn.FILL,e=null){const n=this.minMax.slice();if(t===Nn.STROKE){e||De("Stroke bounding box must include transform."),At.singularValueDecompose2dScale(e,Li);const i=Li[0]*this.lineWidth/2,o=Li[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}updateClipFromPath(){const t=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ol,0)}getClippedPathBoundingBox(t=Nn.FILL,e=null){return At.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function lT(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,n=t.width,i=e%fi,o=(e-i)/fi,l=i===0?o:o+1,c=r.createImageData(n,fi);let h=0,d;const p=t.data,m=c.data;let v,g,S,_;if(t.kind===Ou.GRAYSCALE_1BPP){const w=p.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),T=A.length,E=n+7>>3,D=4294967295,C=En.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(S=v<o?fi:i,d=0,g=0;g<S;g++){const L=w-h;let R=0;const k=L>E?n:L*8-7,F=k&-8;let $=0,H=0;for(;R<F;R+=8)H=p[h++],A[d++]=H&128?D:C,A[d++]=H&64?D:C,A[d++]=H&32?D:C,A[d++]=H&16?D:C,A[d++]=H&8?D:C,A[d++]=H&4?D:C,A[d++]=H&2?D:C,A[d++]=H&1?D:C;for(;R<k;R++)$===0&&(H=p[h++],$=128),A[d++]=H&$?D:C,$>>=1}for(;d<T;)A[d++]=0;r.putImageData(c,0,v*fi)}}else if(t.kind===Ou.RGBA_32BPP){for(g=0,_=n*fi*4,v=0;v<o;v++)m.set(p.subarray(h,h+_)),h+=_,r.putImageData(c,0,g),g+=fi;v<l&&(_=n*i*4,m.set(p.subarray(h,h+_)),r.putImageData(c,0,g))}else if(t.kind===Ou.RGB_24BPP)for(S=fi,_=n*S,v=0;v<l;v++){for(v>=o&&(S=i,_=n*S),d=0,g=_;g--;)m[d++]=p[h++],m[d++]=p[h++],m[d++]=p[h++],m[d++]=255;r.putImageData(c,0,v*fi)}else throw new Error(`bad image kind: ${t.kind}`)}function cT(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,i=e%fi,o=(e-i)/fi,l=i===0?o:o+1,c=r.createImageData(n,fi);let h=0;const d=t.data,p=c.data;for(let m=0;m<l;m++){const v=m<o?fi:i;({srcPos:h}=Vz({src:d,srcPos:h,dest:p,width:n,height:v,nonBlackColor:0})),r.putImageData(c,0,m*fi)}}function ru(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)r[n]!==void 0&&(t[n]=r[n]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Kd(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function uT(r,t){if(t)return!0;At.singularValueDecompose2dScale(r,Li);const e=Math.fround(Ds.pixelRatio*Do.PDF_TO_CSS_UNITS);return Li[0]<=e&&Li[1]<=e}const Xz=["butt","round","square"],$z=["miter","round","bevel"],Yz={},hT={};class Vl{constructor(t,e,n,i,o,{optionalContentConfig:l,markedContentStack:c=null},h,d,p){this.ctx=t,this.current=new oT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Gz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Ue(this.compositeCtx))}this.ctx.save(),Kd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ue(this.ctx)}executeOperatorList(t,e,n,i,o){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const p=d-h>aT&&typeof n=="function",m=p?Date.now()+Uz:0;let v=0;const g=this.commonObjs,S=this.objs;let _,w;for(;;){if(i!==void 0&&h===i.nextBreakPoint)return i.breakIt(h,n),h;if(!o||o(h))if(_=c[h],w=l[h]??null,_!==ic.dependency)w===null?this[_](h):this[_](h,...w);else for(const A of w){this.dependencyTracker?.recordNamedData(A,h);const T=A.startsWith("g_")?g:S;if(!T.has(A))return T.get(A,n),h}if(h++,h===d)return h;if(p&&++v>aT){if(Date.now()>m)return n(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=i,d="prescale1",p,m;for(;o>2&&c>1||l>2&&h>1;){let v=c,g=h;o>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/v),l>2&&h>1&&(g=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/g),p=this.cachedCanvases.getCanvas(d,v,g),m=p.context,m.clearRect(0,0,v,g),m.drawImage(t,0,0,c,h,0,0,v,g),t=p.canvas,c=v,h=g,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){const n=this.ctx,{width:i,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,h=Ue(n);let d,p,m,v;if((e.bitmap||e.data)&&e.count>1){const $=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get($),d||(d=new Map,this._cachedBitmapsMap.set($,d));const H=d.get(p);if(H&&!c){const at=Math.round(Math.min(h[0],h[2])+h[4]),et=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,ss.transformAndFill),{canvas:H,offsetX:at,offsetY:et}}m=H}m||(v=this.cachedCanvases.getCanvas("maskCanvas",i,o),cT(v.context,e));let g=At.transform(h,[1/i,0,0,-1/o,0,0]);g=At.transform(g,[1,0,0,1,0,-o]);const S=Ol.slice();At.axialAlignedBoundingBox([0,0,i,o],g,S);const[_,w,A,T]=S,E=Math.round(A-_)||1,D=Math.round(T-w)||1,C=this.cachedCanvases.getCanvas("fillCanvas",E,D),L=C.context,R=_,k=w;L.translate(-R,-k),L.transform(...g),m||(m=this._scaleImage(v.canvas,Bs(L)),m=m.img,d&&c&&d.set(p,m)),L.imageSmoothingEnabled=uT(Ue(L),e.interpolate),Wd(L,m,0,0,m.width,m.height,0,0,i,o),L.globalCompositeOperation="source-in";const F=At.transform(Bs(L),[1,0,0,1,-R,-k]);return L.fillStyle=c?l.getPattern(n,this,F,Nn.FILL,t):l,L.fillRect(0,0,i,o),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,C.canvas)),this.dependencyTracker?.recordDependencies(t,ss.transformAndFill),{canvas:C.canvas,offsetX:Math.round(R),offsetY:Math.round(k)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=Xz[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=$z[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(t,i);break;case"LC":this.setLineCap(t,i);break;case"LJ":this.setLineJoin(t,i);break;case"ML":this.setMiterLimit(t,i);break;case"D":this.setDash(t,i[0],i[1]);break;case"RI":this.setRenderingIntent(t,i);break;case"FL":this.setFlatness(t,i);break;case"Font":this.setFont(t,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),ru(this.suspendedCtx,l),Hz(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ru(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const o=i[0],l=i[1],c=i[2]-o,h=i[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,o,l,c,h,d,p,m){let v=t.canvas,g=h-p,S=d-m;if(l)if(g<0||S<0||g+n>v.width||S+i>v.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,i),A=w.context;A.drawImage(v,-g,-S),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,n,i),A.globalCompositeOperation="source-over",v=w.canvas,g=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(g,S,n,i),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(g,S,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(h,d,n,i),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(v,g,S,n,i,h,d,n,i),e.restore()}save(t){this.inSMaskMode&&ru(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ru(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,i,o,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[o]=n;if(!i){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===ic.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-l,i[2]+l,i[1]-l,i[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let c=0,h=o.length;c<h;)switch(o[c++]){case Hd.moveTo:l.moveTo(o[c++],o[c++]);break;case Hd.lineTo:l.lineTo(o[c++],o[c++]);break;case Hd.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case Hd.closePath:l.closePath();break;default:Ut(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}At.axialAlignedBoundingBox(i,Ue(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const i=this.ctx,o=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=o.getPattern(i,this,Bs(i),Nn.STROKE,t),l){const c=new Path2D;c.addPath(e,i.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,ss.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Nn.STROKE,Ue(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const i=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=o.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(t),i.save(),i.fillStyle=o.getPattern(i,this,Bs(i),Nn.FILL,t),d){const p=new Path2D;p.addPath(e,i.getTransform().invertSelf().multiplySelf(d)),e=p}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),this.dependencyTracker?.recordDependencies(t,ss.fill),c&&(i.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,ss.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Yz}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=hT}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;e!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",t),i.recordCloseMarker(t)}if(e!==void 0){const i=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:p}of e)p&&i.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(c,h).scale(d,-d));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const i=this.commonObjs.get(e),o=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=i.fontMatrix||C0,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Ut("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const l=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${l}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const d=i.italic?"italic":"normal";let p=n;n<sT?p=sT:n>rT&&(p=rT),this.current.fontSizeScale=n/p,this.ctx.font=`${d} ${h} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}paintChar(t,e,n,i,o,l){const c=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,m=h.fontSize/h.fontSizeScale,v=p&kn.FILL_STROKE_MASK,g=!!(p&kn.ADD_TO_PATH_FLAG),S=h.patternFill&&!d.missingFile,_=h.patternStroke&&!d.missingFile;let w;if((d.disableFontFace||g||S||_)&&!d.missingFile&&(w=d.getPathGenerator(this.commonObjs,e)),w&&(d.disableFontFace||S||_)){c.save(),c.translate(n,i),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,c,d);let A;if(v===kn.FILL||v===kn.FILL_STROKE)if(o){A=c.getTransform(),c.setTransform(...o);const T=this.#i(w,A,o);c.fill(T)}else c.fill(w);if(v===kn.STROKE||v===kn.FILL_STROKE)if(l){A||=c.getTransform(),c.setTransform(...l);const{a:T,b:E,c:D,d:C}=A,L=At.inverseTransform(l),R=At.transform([T,E,D,C,0,0],L);At.singularValueDecompose2dScale(R,Li),c.lineWidth*=Math.max(Li[0],Li[1])/m,c.stroke(this.#i(w,A,l))}else c.lineWidth/=m,c.stroke(w);c.restore()}else(v===kn.FILL||v===kn.FILL_STROKE)&&(c.fillText(e,n,i),this.dependencyTracker?.recordCharacterBBox(t,c,d,m,n,i,()=>c.measureText(e))),(v===kn.STROKE||v===kn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,d,m,n,i,()=>c.measureText(e)).recordDependencies(t,ss.stroke),c.strokeText(e,n,i));g&&((this.pendingTextPaths||=[]).push({transform:Ue(c),x:n,y:i,fontSize:m,path:w}),this.dependencyTracker?.recordCharacterBBox(t,c,d,m,n,i))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return $t(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,ss.showText).resetBBox(t),this.current.textRenderingMode&kn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,h=n.charSpacing,d=n.wordSpacing,p=n.fontDirection,m=n.textHScale*p,v=e.length,g=i.vertical,S=g?1:-1,_=i.defaultVMetrics,w=o*n.fontMatrix[0],A=n.textRenderingMode===kn.FILL&&!i.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(m,-1):l.scale(m,1);let T,E;if(n.patternFill){l.save();const k=n.fillColor.getPattern(l,this,Bs(l),Nn.FILL,t);T=Ue(l),l.restore(),l.fillStyle=k}if(n.patternStroke){l.save();const k=n.strokeColor.getPattern(l,this,Bs(l),Nn.STROKE,t);E=Ue(l),l.restore(),l.strokeStyle=k}let D=n.lineWidth;const C=n.textMatrixScale;if(C===0||D===0){const k=n.textRenderingMode&kn.FILL_STROKE_MASK;(k===kn.STROKE||k===kn.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=C;if(c!==1&&(l.scale(c,c),D/=c),l.lineWidth=D,i.isInvalidPDFjsFont){const k=[];let F=0;for(const H of e)k.push(H.unicode),F+=H.width;const $=k.join("");if(l.fillText($,0,0),this.dependencyTracker!==null){const H=l.measureText($);this.dependencyTracker.recordBBox(t,this.ctx,-H.actualBoundingBoxLeft,H.actualBoundingBoxRight,-H.actualBoundingBoxAscent,H.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=F*w*m,l.restore(),this.compose();return}let L=0,R;for(R=0;R<v;++R){const k=e[R];if(typeof k=="number"){L+=S*k*o/1e3;continue}let F=!1;const $=(k.isSpace?d:0)+h,H=k.fontChar,at=k.accent;let et,q,W=k.width;if(g){const z=k.vmetric||_,st=-(k.vmetric?z[1]:W*.5)*w,dt=z[2]*w;W=z?-z[0]:W,et=st/c,q=(L+dt)/c}else et=L/c,q=0;let O;if(i.remeasure&&W>0){O=l.measureText(H);const z=O.width*1e3/o*c;if(W<z&&this.isFontSubpixelAAEnabled){const st=W/z;F=!0,l.save(),l.scale(st,1),et/=st}else W!==z&&(et+=(W-z)/2e3*o/c)}if(this.contentVisible&&(k.isInFont||i.missingFile)){if(A&&!at)l.fillText(H,et,q),this.dependencyTracker?.recordCharacterBBox(t,l,O?{bbox:null}:i,o/c,et,q,()=>O??l.measureText(H));else if(this.paintChar(t,H,et,q,T,E),at){const z=et+o*at.offset.x/c,st=q-o*at.offset.y/c;this.paintChar(t,at.fontChar,z,st,T,E)}}const N=g?W*w-$*p:W*w+$*p;L+=N,F&&l.restore()}g?n.y-=L:n.x+=L*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,o=i.font,l=i.fontSize,c=i.fontDirection,h=o.vertical?1:-1,d=i.charSpacing,p=i.wordSpacing,m=i.textHScale*c,v=i.fontMatrix||C0,g=e.length,S=i.textRenderingMode===kn.INVISIBLE;let _,w,A,T;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(m,c);const E=this.dependencyTracker;for(this.dependencyTracker=E?new Gf(E,t):null,_=0;_<g;++_){if(w=e[_],typeof w=="number"){T=h*w*l/1e3,this.ctx.translate(T,0),i.x+=T*m;continue}const D=(w.isSpace?p:0)+d,C=o.charProcOperatorList[w.operatorListId];C?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(C),this.restore()):Ut(`Type3 character "${w.operatorListId}" is not available.`);const L=[w.width,0];At.applyTransform(L,v),A=L[0]*l+D,n.translate(A,0),i.x+=A*m}n.restore(),E&&(this.dependencyTracker=E)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,o,l,c){const h=new Path2D;h.rect(i,o,l-i,c-o),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,i,l,o,c).recordClipBox(t,this.ctx,i,l,o,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const i=this.baseTransform||Ue(this.ctx),o={createCanvasGraphics:(l,c)=>new Vl(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Gf(this.dependencyTracker,c,!0):null)};n=new ab(e,this.ctx,o,i)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=jz(this.getObject(t,e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const i=this._getPattern(t,e);n.fillStyle=i.getPattern(n,this,Bs(n),Nn.SHADING,t);const o=Bs(n);if(o){const{width:l,height:c}=n.canvas,h=Ol.slice();At.axialAlignedBoundingBox([0,0,l,c],o,h);const[d,p,m,v]=h;this.ctx.fillRect(d,p,m-d,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,ss.transform).recordDependencies(t,ss.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){De("Should not call beginInlineImage")}beginImageData(){De("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ue(this.ctx),n)){At.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,o,l,c]=n,h=new Path2D;h.rect(i,o,l-i,c-o),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,i,l,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||fp("TODO: Support non-isolated groups."),e.knockout&&Ut("Knockout groups not supported.");const i=Ue(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Ol.slice();At.axialAlignedBoundingBox(e.bbox,Ue(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=At.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),h=Math.floor(o[1]),d=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,d,p),g=v.context;g.translate(-c,-h),g.transform(...i);let S=new Path2D;const[_,w,A,T]=e.bbox;if(S.rect(_,w,A-_,T-w),e.matrix){const E=new Path2D;E.addPath(S,new DOMMatrix(e.matrix)),S=E}g.clip(S),e.smask&&this.smaskStack.push({canvas:v.canvas,context:g,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),ru(n,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Ue(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=Ol.slice();At.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,i,o,l){if(this.#t(),Kd(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h,At.singularValueDecompose2dScale(Ue(this.ctx),Li);const{viewportScale:d}=this,p=Math.ceil(c*this.outputScaleX*d),m=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:v,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Li[0],0,0,-Li[1],0,h*Li[1]),Kd(this.ctx)}else{Kd(this.ctx),this.endPath(t);const d=new Path2D;d.rect(n[0],n[1],c,h),this.ctx.clip(d)}}this.current=new oT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const i=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,i=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const d=Ue(h);h.transform(n,i,o,l,0,0);const p=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,v=c.length;m<v;m+=2){const g=At.transform(d,[n,i,o,l,c[m],c[m+1]]);h.drawImage(p.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(t,this.ctx,g[4],g[4]+p.canvas.width,g[5],g[5]+p.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,ss.transformAndFill);for(const l of e){const{data:c,width:h,height:d,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",h,d),v=m.context;v.save();const g=this.getObject(t,c,l);cT(v,g),v.globalCompositeOperation="source-in",v.fillStyle=o?i.getPattern(v,this,Bs(n),Nn.FILL,t):i,v.fillRect(0,0,h,d),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),Wd(n,m.canvas,0,0,h,d,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,h,0,d),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ut("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,i,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Ut("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let p=0,m=o.length;p<m;p+=2)d.push({transform:[n,0,0,i,o[p],o[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(t,l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:i}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,i),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,i=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/i);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,i).context;lT(p,e),c=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(c,Bs(o));o.imageSmoothingEnabled=uT(Ue(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-i,0).recordDependencies(t,ss.imageXObject).recordOperation(t),Wd(o,h.img,0,0,h.paintWidth,h.paintHeight,0,-i,n,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const i=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;lT(d,e),o=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(t);for(const l of n)i.save(),i.transform(...l.transform),i.scale(1,-1),Wd(i,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,ss.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(i||(this.pendingClip===hT?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ue(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:o}=this.ctx.getTransform();let l,c;if(n===0&&i===0){const h=Math.abs(e),d=Math.abs(o);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,m=d*t;l=p<1?1/p:1,c=m<1?1/m:1}}else{const h=Math.abs(e*o-n*i),d=Math.hypot(e,n),p=Math.hypot(i,o);if(t===0)l=p/h,c=d/h;else{const m=t*h;l=p>m?p/m:1,c=d>m?d/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(i||1)*o,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(o,l),Ay.a=1/o,Ay.d=1/l;const h=new Path2D;if(h.addPath(t,Ay),c.length>0){const d=Math.max(o,l);n.setLineDash(c.map(p=>p/d)),n.lineDashOffset/=d}n.lineWidth=i||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in ic)Vl.prototype[r]!==void 0&&(Vl.prototype[ic[r]]=Vl.prototype[r]);class Ul{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let i=0;for(const d of Ul.strings){const p=e.encode(t[d]);n[d]=p,i+=4+p.length}const o=new ArrayBuffer(i),l=new Uint8Array(o),c=new DataView(o);let h=0;for(const d of Ul.strings){const p=n[d],m=p.length;c.setUint32(h,m),l.set(p,h+4),h+=4+m}return ae(h===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){ae(t<Ul.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Hl{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let i=0;for(const v of Hl.strings){const g=e.encode(t[v]);n[v]=g,i+=4+g.length}i+=4;let o,l,c=1+i;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+o.length+4+l.length);const h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,i=0;for(const v of Hl.strings){const g=n[v],S=g.length;i+=4+S,p.setUint32(m,S),d.set(g,m+4),m+=4+S}return p.setUint32(m-i-4,i),t.style&&(p.setUint32(m,o.length),d.set(o,m+4),m+=4+o.length,p.setUint32(m,l.length),d.set(l,m+4),m+=4+l.length),ae(m<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){ae(t<Hl.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const i=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,i));return{style:n,weight:o}}}class _e{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){ae(t<_e.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,i=this.#o.getUint8(e)>>n&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return ae(t<_e.numbers.length,"Invalid number index"),this.#o.getFloat64(_e.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=_e.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<4;i++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=_e.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<6;i++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=_e.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<3;i++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){ae(t<_e.strings.length,"Invalid string index");let e=_e.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(i)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=_e.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);t+=4+i;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=_e.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);t+=4+i;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=_e.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);if(i===0)return null;const o=new Uint8Array(i);return o.set(new Uint8Array(this.#s,t+4,i)),new Ul(o.buffer)}get systemFontInfo(){let t=_e.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,t+4,n)),new Hl(i.buffer)}static write(t){const e=t.systemFontInfo?Hl.write(t.systemFontInfo):null,n=t.cssFontInfo?Ul.write(t.cssFontInfo):null,i=new TextEncoder,o={};let l=0;for(const _ of _e.strings)o[_]=i.encode(t[_]),l+=4+o[_].length;const c=_e.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let m=0;const v=_e.bools.length;let g=0,S=0;for(let _=0;_<v;_++){const w=t[_e.bools[_]];g|=(w===void 0?0:w?2:1)<<S,S+=2,(S===8||_===v-1)&&(p.setUint8(m++,g),g=0,S=0)}ae(m===_e.#t,"FontInfo.write: Boolean properties offset mismatch");for(const _ of _e.numbers)p.setFloat64(m,t[_]),m+=8;if(ae(m===_e.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const _ of t.bbox)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=8;if(ae(m===_e.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const _ of t.fontMatrix)p.setFloat64(m,_,!0),m+=8}else p.setUint8(m++,0),m+=48;if(ae(m===_e.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const _ of t.defaultVMetrics)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=6;ae(m===_e.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(_e.#a,0),m+=4;for(const _ of _e.strings){const w=o[_],A=w.length;p.setUint32(m,A),d.set(w,m+4),m+=4+A}if(p.setUint32(_e.#a,m-_e.#a-4),!e)p.setUint32(m,0),m+=4;else{const _=e.byteLength;p.setUint32(m,_),ae(m+4+_<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),m+4),m+=4+_}if(!n)p.setUint32(m,0),m+=4;else{const _=n.byteLength;p.setUint32(m,_),ae(m+4+_<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),m+4),m+=4+_}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),d.set(t.data,m+4),m+=4+t.data.length),ae(m<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(m)}}class Sa{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class qz{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const xl=Symbol("INTERNAL");class Wz{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:i,rbGroups:o}){this.#t=!!(t&Di.DISPLAY),this.#e=!!(t&Di.PRINT),this.name=e,this.intent=n,this.usage=i,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==xl&&De("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class Kz{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Di.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new Wz(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(xl,!1);for(const n of t.on)this.#e.get(n)._setVisible(xl,!0);for(const n of t.off)this.#e.get(n)._setVisible(xl,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const o=t[i];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Ut(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return fp("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ut(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Ut(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Ut(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Ut(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Ut(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Ut(`Unknown optional content policy ${t.policy}.`),!0}return Ut(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const i=this.#e.get(t);if(!i){Ut(`Optional content group not found: ${t}`);return}if(n&&e&&i.rbGroups.length)for(const o of i.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(xl,!1,!0);i._setVisible(xl,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const o=this.#e.get(i);if(o)switch(n){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new nD;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Qz{constructor(t,{disableRange:e=!1,disableStream:n=!1}){ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});ae(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Zz(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Jz(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class Zz{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=mp(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Jz{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function tj(r){let t=!0,e=n("filename\\*","i").exec(r);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),o(p)}if(e=l(r),e){const p=d(e);return o(p)}if(e=n("filename","i").exec(r),e){e=e[1];let p=c(e);return p=d(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function i(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),g=fh(m);m=v.decode(g),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=i("utf-8",p),t&&(p=i("iso-8859-1",p))),p}function l(p){const m=[];let v;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=g.exec(p))!==null;){let[,_,w,A]=v;if(_=parseInt(_,10),_ in m){if(_===0)break;continue}m[_]=[w,A]}const S=[];for(let _=0;_<m.length&&_ in m;++_){let[w,A]=m[_];A=c(A),w&&(A=unescape(A),_===0&&(A=h(A))),S.push(A)}return S.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const g=m[v].indexOf('"');g!==-1&&(m[v]=m[v].slice(0,g),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function h(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),S=p.slice(m+1).replace(/^[^']*'/,"");return i(v,S)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,g,S){if(g==="q"||g==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,w){return String.fromCharCode(parseInt(w,16))}),i(v,S);try{S=atob(S)}catch{}return i(v,S)})}return""}function uD(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function gp(r){return URL.parse(r)?.origin??null}function hD({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*e)||n||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function dD(r){const t=r.get("Content-Disposition");if(t){let e=tj(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(mp(e))return e}return null}function vh(r,t){return new Zu(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function fD(r){return r===200||r===206}function pD(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function mD(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ut(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class ej{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=uD(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new ij(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class nj{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,pD(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=gp(o.url),!fD(o.status))throw vh(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:h}=hD({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=dD(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Nr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:mD(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class ij{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=i.url;fetch(l,pD(o,this._withCredentials,this._abortController)).then(c=>{const h=gp(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!fD(c.status))throw vh(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:mD(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const wy=200,xy=206;function sj(r){const t=r.response;return typeof t!="string"?t:fh(t).buffer}class rj{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=uD(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=xy):i.expectedStatus=wy,e.responseType="arraybuffer",ae(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){n.onError(i.status);return}const o=i.status||wy;if(!(o===wy&&n.expectedStatus===xy)&&o!==n.expectedStatus){n.onError(i.status);return}const c=sj(i);if(o===xy){const h=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(Ut('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class aj{constructor(t){this._source=t,this._manager=new rj(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oj(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new lj(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class oj{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=gp(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=hD({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=dD(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=vh(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lj{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=gp(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=vh(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const cj=/^[a-z][a-z0-9\-+.]+:/i;function uj(r){if(cj.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class hj{constructor(t){this.source=t,this.url=uj(t.url),ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new dj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fj(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class dj{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=vh(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Nr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fj{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const au=Symbol("INITIAL_DATA");class gD{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:au}}get(t,e=null){if(e){const i=this.#e(t);return i.promise.then(()=>e(i.data)),null}const n=this.#t[t];if(!n||n.data===au)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==au}delete(t){const e=this.#t[t];return!e||e.data===au?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==au&&(yield[t,e])}}}const pj=1e5,dT=30;let th=class rs{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#T=new WeakMap;static#w=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*Ds.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:o,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+o],this.#o=i,this.#r=o,rs.#D(),Ra(e,n),this.#t.promise.finally(()=>{rs.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=En.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),rs.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Ds.pixelRatio,i=t.rotation;if(i!==this.#d&&(e?.(),this.#d=i,Ra(this.#l,{rotation:i})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:rs.#R(this.#a)};for(const l of this.#u)o.properties=this.#m.get(l),o.div=l,this.#x(o)}}cancel(){const t=new Nr("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#C(t){if(this.#i)return;this.#s.ctx??=rs.#R(this.#a);const e=this.#u,n=this.#g;for(const i of t){if(e.length>pj){Ut("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),i.id&&this.#e.setAttribute("id",`${i.id}`),o.append(this.#e)}else i.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(i.str),this.#A(i)}}#A(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const i=At.transform(this.#y,t.transform);let o=Math.atan2(i[1],i[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=rs.fontFamilyMap.get(c)||c;const h=Math.hypot(i[2],i[3]),d=h*rs.#F(c,l,this.#a);let p,m;o===0?(p=i[4],m=i[5]-d):(p=i[4]+d*Math.sin(o),m=i[5]-d*Math.cos(o));const v="calc(var(--total-scale-factor) *",g=e.style;this.#e===this.#l?(g.left=`${(100*p/this.#o).toFixed(2)}%`,g.top=`${(100*m/this.#r).toFixed(2)}%`):(g.left=`${v}${p.toFixed(2)}px)`,g.top=`${v}${m.toFixed(2)}px)`),g.fontSize=`${v}${(rs.#w*h).toFixed(2)}px)`,g.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);_!==w&&Math.max(_,w)/Math.min(_,w)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#x(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#x(t){const{div:e,properties:n,ctx:i}=t,{style:o}=e;let l="";if(rs.#w>1&&(l=`scale(${1/rs.#w})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:h,fontSize:d}=n;rs.#M(i,d*this.#h,c);const{width:p}=i.measureText(e.textContent);p>0&&(l=`scaleX(${h*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#M(t,e,n){const i=this.#T.get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)}static#D(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const i=this.#b.get(t);if(i)return i;const o=this.#R(n);o.canvas.width=o.canvas.height=dT,this.#M(o,dT,t);const l=o.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let d=.8;return c?d=c/(c+h):(En.platform.isFirefox&&Ut("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#b.set(t,d),d}};const mj=100;function ob(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new lb,{docId:e}=t,n=r.url?wz(r.url):null,i=r.data?xz(r.data):null,o=r.httpHeaders||null,l=r.withCredentials===!0,c=r.password??null,h=r.range instanceof cb?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof sc?r.worker:null;const m=r.verbosity,v=typeof r.docBaseUrl=="string"&&!mh(r.docBaseUrl)?r.docBaseUrl:null,g=Xd(r.cMapUrl),S=r.cMapPacked!==!1,_=r.CMapReaderFactory||(Zn?Oz:Zx),w=Xd(r.iccUrl),A=Xd(r.standardFontDataUrl),T=r.StandardFontDataFactory||(Zn?Lz:Jx),E=Xd(r.wasmUrl),D=r.WasmFactory||(Zn?kz:tT),C=r.stopAtErrors!==!0,L=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,R=r.isEvalSupported!==!1,k=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Zn,F=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Zn&&(En.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,H=typeof r.disableFontFace=="boolean"?r.disableFontFace:Zn,at=r.fontExtraProperties===!0,et=r.enableXfa===!0,q=r.ownerDocument||globalThis.document,W=r.disableRange===!0,O=r.disableStream===!0,N=r.disableAutoFetch===!0,z=r.pdfBug===!0,st=r.CanvasFactory||(Zn?Rz:Cz),dt=r.FilterFactory||(Zn?Dz:Mz),P=r.enableHWA===!0,j=r.useWasm!==!1,Z=h?h.length:r.length??NaN,it=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Zn&&!H,ft=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(_===Zx&&T===Jx&&D===tT&&g&&A&&E&&yu(g,document.baseURI)&&yu(A,document.baseURI)&&yu(E,document.baseURI)),yt=null;sz(m);const gt={canvasFactory:new st({ownerDocument:q,enableHWA:P}),filterFactory:new dt({docId:e,ownerDocument:q}),cMapReaderFactory:ft?null:new _({baseUrl:g,isCompressed:S}),standardFontDataFactory:ft?null:new T({baseUrl:A}),wasmFactory:ft?null:new D({baseUrl:E})};p||(p=sc.create({verbosity:m,port:Sa.workerPort}),t._worker=p);const Dt={docId:e,apiVersion:"5.4.296",data:i,password:c,disableAutoFetch:N,rangeChunkSize:d,length:Z,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:L,disableFontFace:H,ignoreErrors:C,isEvalSupported:R,isOffscreenCanvasSupported:k,isImageDecoderSupported:F,canvasMaxAreaInBytes:$,fontExtraProperties:at,useSystemFonts:it,useWasm:j,useWorkerFetch:ft,cMapUrl:g,iccUrl:w,standardFontDataUrl:A,wasmUrl:E}},Pt={ownerDocument:q,pdfBug:z,styleElement:yt,loadingParams:{disableAutoFetch:N,enableXfa:et}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const kt=p.messageHandler.sendWithPromise("GetDocRequest",Dt,i?[i.buffer]:null);let Rt;if(h)Rt=new Qz(h,{disableRange:W,disableStream:O});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Wt=yu(n)?ej:Zn?hj:aj;Rt=new Wt({url:n,length:Z,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:W,disableStream:O})}return kt.then(Wt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const zt=new vu(e,Wt,p.port),Ct=new vj(zt,t,Rt,Pt,gt,P);t._transport=Ct,zt.send("Ready",null)})}).catch(t._capability.reject),t}class lb{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${lb.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let cb=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){De("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class gj{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class yj{#t=!1;constructor(t,e,n,i=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new Xx:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new gD,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:o=!1}={}){return new ph({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:i="display",annotationMode:o=Gs.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1,recordOperations:g=!1,operationsFilter:S=null}){this._stats?.time("Overall");const _=this._transport.getRenderingIntent(i,o,m,v),{renderingIntent:w,cacheKey:A}=_;this.#t=!1,h||=this._transport.getOptionalContentConfig(w);let T=this._intentStates.get(A);T||(T=Object.create(null),this._intentStates.set(A,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const E=!!(w&Di.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(_));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),C=!this.recordedBBoxes&&(g||D),L=F=>{if(T.renderTasks.delete(R),C){const $=R.gfx?.dependencyTracker.take();$&&(R.stepper&&R.stepper.setOperatorBBoxes($,R.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=$))}E&&(this.#t=!0),this.#e(),F?(R.capability.reject(F),this._abortOperatorList({intentState:T,reason:F instanceof Error?F:new Error(F)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Ll({callback:L,params:{canvas:e,canvasContext:t,dependencyTracker:C?new Nz(e,T.operatorList.length,D):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:S});(T.renderTasks||=new Set).add(R);const k=R.task;return Promise.all([T.displayReadyCapability.promise,h]).then(([F,$])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!($.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:F,optionalContentConfig:$}),R.operatorListChanged()}).catch(L),k}getOperatorList({intent:t="display",annotationMode:e=Gs.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,i,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ju.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,i){function o(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),o()},i)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Xx),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:i}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:i},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:m,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),p())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof pp){let i=mj;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Nr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var da,Ss,Er,fo,Xf,po,mo,ni,pf,yD,vD,bu,$l,mf;const Ie=class Ie{constructor({name:t=null,port:e=null,verbosity:n=rz()}={}){Ps(this,ni);Ps(this,da,Promise.withResolvers());Ps(this,Ss,null);Ps(this,Er,null);Ps(this,fo,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Fe(Ie,mo).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Fe(Ie,mo).set(e,this),Ns(this,ni,yD).call(this,e)}else Ns(this,ni,vD).call(this)}get promise(){return Fe(this,da).promise}get port(){return Fe(this,Er)}get messageHandler(){return Fe(this,Ss)}destroy(){this.destroyed=!0,Fe(this,fo)?.terminate(),hi(this,fo,null),Fe(Ie,mo).delete(Fe(this,Er)),hi(this,Er,null),Fe(this,Ss)?.destroy(),hi(this,Ss,null)}static create(t){const e=Fe(this,mo).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ie(t)}static get workerSrc(){if(Sa.workerSrc)return Sa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>Fe(this,$l,mf)?Fe(this,$l,mf):(await import(this.workerSrc)).WorkerMessageHandler)())}};da=new WeakMap,Ss=new WeakMap,Er=new WeakMap,fo=new WeakMap,Xf=new WeakMap,po=new WeakMap,mo=new WeakMap,ni=new WeakSet,pf=function(){Fe(this,da).resolve(),Fe(this,Ss).send("configure",{verbosity:this.verbosity})},yD=function(t){hi(this,Er,t),hi(this,Ss,new vu("main","worker",t)),Fe(this,Ss).on("ready",()=>{}),Ns(this,ni,pf).call(this)},vD=function(){if(Fe(Ie,po)||Fe(Ie,$l,mf)){Ns(this,ni,bu).call(this);return}let{workerSrc:t}=Ie;try{Ie._isSameOrigin(window.location,t)||(t=Ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new vu("main","worker",e),i=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?Fe(this,da).reject(new Error("Worker was destroyed")):Ns(this,ni,bu).call(this)},o=new AbortController;e.addEventListener("error",()=>{Fe(this,fo)||i()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){i();return}hi(this,Ss,n),hi(this,Er,e),hi(this,fo,e),Ns(this,ni,pf).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){i();return}try{l()}catch{Ns(this,ni,bu).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{fp("The worker has been disabled.")}Ns(this,ni,bu).call(this)},bu=function(){Fe(Ie,po)||(Ut("Setting up fake worker."),hi(Ie,po,!0)),Ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Fe(this,da).reject(new Error("Worker was destroyed"));return}const e=new Ez;hi(this,Er,e);const n=`fake${rw(Ie,Xf)._++}`,i=new vu(n+"_worker",n,e);t.setup(i,e),hi(this,Ss,new vu(n,n+"_worker",e)),Ns(this,ni,pf).call(this)}).catch(t=>{Fe(this,da).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},$l=new WeakSet,mf=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ps(Ie,$l),Ps(Ie,Xf,0),Ps(Ie,po,!1),Ps(Ie,mo,new WeakMap),Zn&&(hi(Ie,po,!0),Sa.workerSrc||="./pdf.worker.mjs"),Ie._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const i=new URL(e,n);return n.origin===i.origin},Ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ie.fromPort=t=>{if(pz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ie.create(t)};let sc=Ie;class vj{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,i,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new gD,this.fontLoader=new Sz({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,i),i}get annotationStorage(){return $t(this,"annotationStorage",new ib)}getRenderingIntent(t,e=Gs.ENABLE,n=null,i=!1,o=!1){let l=Di.DISPLAY,c=D0;switch(t){case"any":l=Di.ANY;break;case"display":break;case"print":l=Di.PRINT;break;default:Ut(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Di.PRINT&&n instanceof iD?n:this.annotationStorage;switch(e){case Gs.DISABLE:l+=Di.ANNOTATIONS_DISABLE;break;case Gs.ENABLE:break;case Gs.ENABLE_FORMS:l+=Di.ANNOTATIONS_FORMS;break;case Gs.ENABLE_STORAGE:l+=Di.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Ut(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(l+=Di.IS_EDITING),o&&(l+=Di.OPLIST);const{ids:d,hash:p}=h.modifiedIds,m=[l,c.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),th.cleanup(),this._networkStream?.cancelAllRequests(new Nr("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,i)=>{ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){i.close();return}ae(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:o,contentLength:l}=this._fullReader;return(!i||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,i)=>{ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){i.close();return}ae(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{o.cancel(l),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new gj(n,this))}),t.on("DocException",n=>{e._capability.reject(di(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw di(n);const i=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(i,n.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in o){const p=o.error;Ut(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new _e(o),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new Az(l,c,o.extra,o.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=o;ae(d,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===d)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,o,l])=>{if(this.destroyed)return;const c=this.#e.get(i);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ut("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new yj(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,i),i}getPageIndex(t){return R0(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new Kz(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(i=>({info:i[0],metadata:i[1]?new qz(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),th.cleanup()}}cachedPageNumber(t){if(!R0(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class bj{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ll{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null,enableHWA:g=!1,operationsFilter:S=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=g,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ll.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ll.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Vl(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:i,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ll.#e.delete(this._canvas),t||=new pp(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ll.#e.delete(this._canvas),this.callback())))}}const ub="5.4.296",bD="f56dc8601";class Ri{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return $t(this,"_keyboardManager",new gh([[["Escape","mac+Escape"],Ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ri.prototype._moveToPrevious],[["Home","mac+Home"],Ri.prototype._moveToBeginning],[["End","mac+End"],Ri.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ri.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ui,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,i]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=n,o.setAttribute("data-l10n-id",Ri.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=i,o.ariaSelected=i===this.#i,o.addEventListener("click",this.#f.bind(this,i),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ee.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){Ri._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class eh{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,eh.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,i=this.#t=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",eh.#n[t]),i.addEventListener("input",()=>{this.#i.updateParams(e,i.value)},{signal:this.#i._signal}),i}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function fT(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function ou(r){return Math.max(0,Math.min(255,255*r))}class pT{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ou(t),[t,t,t]}static G_HTML([t]){const e=fT(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(ou)}static RGB_HTML(t){return`#${t.map(fT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[ou(1-Math.min(1,t+i)),ou(1-Math.min(1,n+i)),ou(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,o=1-e,l=1-n,c=Math.min(i,o,l);return["CMYK",i,o,l,c]}}class _j{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){De("Abstract method `_createSVG` called.")}}class nh extends _j{_createSVG(t){return document.createElementNS(Sr,t)}}const Sj=9,Ro=new WeakSet,Aj=new Date().getTimezoneOffset()*60*1e3;class mT{static create(t){switch(t.data.annotationType){case an.LINK:return new hb(t);case an.TEXT:return new xj(t);case an.WIDGET:switch(t.data.fieldType){case"Tx":return new Tj(t);case"Btn":return t.data.radioButton?new _D(t):t.data.checkBox?new Cj(t):new Mj(t);case"Ch":return new Dj(t);case"Sig":return new Ej(t)}return new No(t);case an.POPUP:return new k0(t);case an.FREETEXT:return new SD(t);case an.LINE:return new Oj(t);case an.SQUARE:return new Lj(t);case an.CIRCLE:return new kj(t);case an.POLYLINE:return new AD(t);case an.CARET:return new Nj(t);case an.INK:return new db(t);case an.POLYGON:return new Pj(t);case an.HIGHLIGHT:return new wD(t);case an.UNDERLINE:return new Bj(t);case an.SQUIGGLY:return new Fj(t);case an.STRIKEOUT:return new Ij(t);case an.STAMP:return new xD(t);case an.FILEATTACHMENT:return new zj(t);default:return new qe(t)}}}class qe{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return qe._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:i}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],o=e[c+2]):e[c+1]===l&&(o=Math.max(o,e[c+2]));return[o,l]}if(n?.length>=1){for(const c of n)for(let h=0,d=c.length;h<d;h+=2)c[h+1]>l?(l=c[h+1],o=c[h]):c[h+1]===l&&(o=Math.max(o,c[h]));if(o!==1/0)return[o,l]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/i,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Qu}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Qu}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let i=this.#i?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#i.popup),i&&(i.updateEdited(t),n?.deleted&&(i.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/o}%`,e.top=`${100*(l-t[3]+h)/l}%`,i===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(i)}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof No)&&!(this instanceof hb)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof k0){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,o),o}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,w=e.borderStyle.verticalCornerRadius;if(_>0||w>0){const T=`calc(${_}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof _D){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case wl.SOLID:l.borderStyle="solid";break;case wl.DASHED:l.borderStyle="dashed";break;case wl.BEVELED:Ut("Unimplemented border style: beveled");break;case wl.INSET:Ut("Unimplemented border style: inset");break;case wl.UNDERLINE:l.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(this.#e=!0,l.borderColor=At.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const d=At.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:g}=i.rawDims;l.left=`${100*(d[0]-v)/p}%`,l.top=`${100*(d[1]-g)/m}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(l.width=`${100*c/p}%`,l.height=`${100*h/m}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,i)=>{const o=i.detail[e],l=o[0],c=o.slice(1);i.target.style[n]=pT[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:pT[`${l}_rgb`](c)})};return $t(this,"_commonActions",{display:e=>{const{display:n}=e.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail))(t[i]||n[i])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,o]of Object.entries(e)){const l=n[i];if(l){const c={detail:{[i]:o},target:t};l(c),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,o]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,w,A,T]=t.subarray(2,6);if(i===_&&o===w&&e===A&&n===T)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:_,borderWidth:w}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const h=i-e,d=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=p.createElement("defs");m.append(v);const g=p.createElement("clipPath"),S=`clippath_${this.data.id}`;g.setAttribute("id",S),g.setAttribute("clipPathUnits","objectBoundingBox"),v.append(g);for(let _=2,w=t.length;_<w;_+=8){const A=t[_],T=t[_+1],E=t[_+2],D=t[_+3],C=p.createElement("rect"),L=(E-e)/h,R=(o-T)/d,k=(A-E)/h,F=(T-D)/d;C.setAttribute("x",L),C.setAttribute("y",R),C.setAttribute("width",k),C.setAttribute("height",F),g.append(C),c?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${R}" width="${k}" height="${F}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(t=null){const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const o=this.#i=new k0({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){De("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:o,id:l,exportValues:c}of i){if(o===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!Ro.has(d)){Ut(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const i of document.getElementsByName(t)){const{exportValue:o}=i,l=i.getAttribute("data-element-id");l!==e&&Ro.has(i)&&n.push({id:l,exportValue:o,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class wj extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class hb extends qe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",i=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const o=n.get(i);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ut('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:i,refs:o,include:l}=e,c=[];if(i.length!==0||o.length!==0){const p=new Set(o);for(const m of i){const v=this._fieldObjects[m]||[];for(const{id:g}of v)p.add(g)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===l&&c.push(v)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const h=this.annotationStorage,d=[];for(const p of c){const{id:m}=p;switch(d.push(m),p.type){case"text":{const g=p.defaultValue||"";h.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=p.defaultValue===p.exportValues;h.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=p.defaultValue||"";h.setValue(m,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!Ro.has(v)){Ut(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class xj extends qe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class No extends qe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return En.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(l)}})})}_setEventListeners(t,e,n,i){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,i),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":At.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Sj,o=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(yy*i))||1,m=d/p;l=Math.min(i,h(m/yy))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(i,h(d/yy))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=At.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Tj extends No{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let o=i.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ro.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:p,timeStep:m}=this.data,v=!!p&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",S=>{t.setValue(e,{value:S.target.value}),this.setPropertyOnSiblings(n,"value",S.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",S=>{const _=this.data.defaultFieldValue??"";n.value=h.userValue=_,h.formattedValue=null});let g=S=>{const{formattedValue:_}=h;_!=null&&(S.target.value=_),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",_=>{if(h.focused)return;const{target:w}=_;if(v&&(w.type=p,m&&(w.step=m)),h.userValue){const A=h.userValue;if(v)if(p==="time"){const T=new Date(A),E=[T.getHours(),T.getMinutes(),T.getSeconds()];w.value=E.map(D=>D.toString().padStart(2,"0")).join(":")}else w.value=new Date(A-Aj).toISOString().split(p==="date"?"T":".",1)[0];else w.value=A}h.lastCommittedValue=w.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const w={value(A){h.userValue=A.detail.value??"",v||t.setValue(e,{value:h.userValue.toString()}),A.target.value=h.userValue},formattedValue(A){const{formattedValue:T}=A.detail;h.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T);const E={formattedValue:T};v&&(E.value=T),t.setValue(e,E)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:T}=A.detail,{target:E}=A;if(T===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",T);let D=h.userValue;!D||D.length<=T||(D=D.slice(0,T),E.value=h.userValue=D,t.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(w,_)}),n.addEventListener("keydown",_=>{h.commitKey=1;let w=-1;if(_.key==="Escape"?w=0:_.key==="Enter"&&!this.data.multiLine?w=2:_.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:A}=_.target;h.lastCommittedValue!==A&&(h.lastCommittedValue=A,h.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:w,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const S=g;g=null,n.addEventListener("blur",_=>{if(!h.focused||!_.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:w}=_;let{value:A}=w;if(v){if(A&&p==="time"){const T=A.split(":").map(E=>parseInt(E,10));A=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),w.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();w.type="text"}h.userValue=A,h.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:h.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}),S(_)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",_=>{h.lastCommittedValue=null;const{data:w,target:A}=_,{value:T,selectionStart:E,selectionEnd:D}=A;let C=E,L=D;switch(_.inputType){case"deleteWordBackward":{const R=T.substring(0,E).match(/\w*[^\w]*$/);R&&(C-=R[0].length);break}case"deleteWordForward":{const R=T.substring(E).match(/^[^\w]*\w*/);R&&(L+=R[0].length);break}case"deleteContentBackward":E===D&&(C-=1);break;case"deleteContentForward":E===D&&(L+=1);break}_.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:w||"",willCommit:!1,selStart:C,selEnd:L}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Ej extends No{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Cj extends No{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ro.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class _D extends No{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(Ro.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const m of this._getElementsByName(d.target.name)){const v=p&&m.id===n;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Mj extends hb{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class Dj extends No{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Ro.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of i.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),i.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),i.prepend(p),l=()=>{p.remove(),i.removeEventListener("input",l),l=null},i.addEventListener("input",l)}const c=p=>{const m=p?"value":"textContent",{options:v,multiple:g}=i;return g?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let h=c(!1);const d=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",p=>{const m={value(v){l?.();const g=v.detail.value,S=new Set(Array.isArray(g)?g:[g]);for(const _ of i.options)_.selected=S.has(_.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(v){i.multiple=!0},remove(v){const g=i.options,S=v.detail.remove;g[S].selected=!1,i.remove(S),g.length>0&&Array.prototype.findIndex.call(g,w=>w.selected)===-1&&(g[0].selected=!0),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},clear(v){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(v){const{index:g,displayValue:S,exportValue:_}=v.detail.insert,w=i.children[g],A=document.createElement("option");A.textContent=S,A.value=_,w?w.before(A):i.append(A),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},items(v){const{items:g}=v.detail;for(;i.length!==0;)i.remove(0);for(const S of g){const{displayValue:_,exportValue:w}=S,A=document.createElement("option");A.textContent=_,A.value=w,i.append(A)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},indices(v){const g=new Set(v.detail.indices);for(const S of v.target.options)S.selected=g.has(S.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),i.addEventListener("input",p=>{const m=c(!0),v=c(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):i.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class k0 extends qe{constructor(t){const{data:e,elements:n,parent:i}=t,o=!!i._commentManager;if(super(t,{isRenderable:!o&&qe._hasPopupData(e)}),this.elements=n,o&&qe._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new Rj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${Zv}${i}`).join(",")),this.container}}class Rj{#t=null;#e=this.#G.bind(this);#i=this.#z.bind(this);#n=this.#k.bind(this);#a=this.#S.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#b=null;#v=null;#T=null;#w=null;#_=null;#C=!1;#A=null;#x=null;constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:o,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:m,commentManager:v=null}){this.#r=t,this.#w=i,this.#o=l,this.#T=c,this.#d=h,this.#s=e,this.#v=d,this.#h=p,this.#l=n,this.#t=v,this.#A=n[0],this.#c=Uf.toDateObject(o),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#R(),this.#r.hidden=!0,m&&this.#S())}#R(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#M(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#A.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},i=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#A.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",i,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const c=this.#A.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#D(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",i,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),c.after(l)}}#D(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#m;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#A.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:o}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:o}}get elementBeforePopup(){return this.#m}get comment(){return this.#x||=this.#A.commentText,this.#x}set comment(t){t!==this.comment&&(this.#A.commentText=this.#x=t)}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#m.getBoundingClientRect(),{x:i,y:o,width:l,height:c}=this.#A.layer.getBoundingClientRect();return[(t-i)/l,(e+n-o)/c]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:o,y:l,width:c,height:h}=i;this.#t.showDialog(null,this,o+e*c,l+n*h,{...t,parentDimensions:i})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=At.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#w?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#w}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}tb({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#L(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#P(){return this.#L?.attributes?.style?.fontSize||0}get#I(){return this.#L?.attributes?.style?.color||null}#N(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:this.#I,fontSize:this.#P?`calc(${this.#P}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:i});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#x=null):e&&(e.deleted?this.remove():(this.#F(),this.#x=e.text)),t&&(this.#y=null,this.#M(),this.#D());return}if(n||e?.deleted){this.remove();return}this.#R(),this.#_||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#N(e.text),this.#c=Uf.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#T}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:o}}}=this.#d;let l=!!this.#h,c=l?this.#h:this.#v;for(const S of this.#l)if(!c||At.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const h=At.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,m=h[0]+p,v=h[1];this.#u=[100*(m-i)/e,100*(v-o)/n];const{style:g}=this.#r;g.left=`${this.#u[0]}%`,g.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#k(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#z(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#k(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#E(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#C&&(this.#g||this.#k(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class SD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Oj extends qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Lj extends qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class kj extends qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class AD extends qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:o,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(o,l,!0);let h=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],g=t[3]-e[p+1];h.push(`${v},${g}`)}h=h.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",h),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pj extends AD{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Nj extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class db extends qe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Vt.HIGHLIGHT:Vt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:o}}=this,{transform:l,width:c,height:h}=this.#i(e,t),d=this.svgFactory.create(c,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");d.append(p),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,v=n.length;m<v;m++){const g=this.svgFactory.createElement(this.svgElementName);this.#e.push(g),g.setAttribute("points",n[m].join(",")),p.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(i){const{transform:l,width:c,height:h}=this.#i(this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class wD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Vt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Bj extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Fj extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Ij extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class xD extends qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class zj extends qe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:i}=En.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let fb=class TD{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:o,viewport:l,structTreeLayer:c,commentManager:h,linkService:d,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#s=d||null,this.#i=p||new ib,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const i=t.firstChild||t,o=i.id=`${Zv}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[c,h]of l)i.setAttribute(c,h);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,i,!1))}async render(t){const{annotations:e}=t,n=this.div;Ra(n,this.viewport);const i=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new nh,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===an.POPUP;if(c){const p=i.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=mT.create(o);if(!h.isRenderable)continue;if(!c&&l.popupRef){const p=i.get(l.popupRef);p?p.push(h):i.set(l.popupRef,[h])}const d=h.render();l.hidden&&(d.style.visibility="hidden"),await this.#r(d,l.id,o.elements),h.extraPopupElement?.popup?.renderCommentButton(),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new nh,parent:this};for(const n of t){n.borderStyle||=TD._defaultBorderStyle,e.data=n;const i=mT.create(e);if(!i.isRenderable)continue;const o=i.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ra(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):i.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,i.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:i}=t,o=new wj({data:{id:n,rect:t.getPDFRect(),rotation:i},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return $t(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:wl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Qd=/\r\n?|\n/g;class xn extends Lt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=xn.prototype,e=o=>o.isEmpty(),n=Br.TRANSLATE_SMALL,i=Br.TRANSLATE_BIG;return $t(this,"_keyboardManager",new gh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=Vt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||xn._defaultColor||Lt._defaultLineColor,this.#n=t.fontSize||xn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Lt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case ee.FREETEXT_SIZE:xn._defaultFontSize=e;break;case ee.FREETEXT_COLOR:xn._defaultColor=e;break}}updateParams(t,e){switch(t){case ee.FREETEXT_SIZE:this.#a(e);break;case ee.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[ee.FREETEXT_SIZE,xn._defaultFontSize],[ee.FREETEXT_COLOR,xn._defaultColor||Lt._defaultLineColor]]}get propertiesToUpdate(){return[[ee.FREETEXT_SIZE,this.#n],[ee.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new eh(this),[["colorPicker",this._colorPicker]]}get colorType(){return ee.FREETEXT_COLOR}#a(t){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=i=>{this.color=i,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-xn._internalPadding*t,-(xn._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(xn.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=i=>{if(this.#t=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){xn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[m,v]=this.pageTranslation;let g,S;switch(this.rotation){case 0:g=t+(l[0]-m)/d,S=e+this.height-(l[1]-v)/p;break;case 90:g=t+(l[0]-m)/d,S=e-(l[1]-v)/p,[c,h]=[h,-c];break;case 180:g=t-this.width+(l[0]-m)/d,S=e-(l[1]-v)/p,[c,h]=[-c,-h];break;case 270:g=t+(l[0]-m-this.height*p)/d,S=e+(l[1]-v-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(g*i,S*o,c,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Qd,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const i=xn.#h(e.getData("text")||"").replaceAll(Qd,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:h}=l,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(Qd,"")),g!==this.editorDiv){let S=d;for(const _ of this.editorDiv.childNodes){if(_===g){S=p;continue}S.push(xn.#c(_))}}d.push(c.nodeValue.slice(0,h).replaceAll(Qd,""))}else if(c===this.editorDiv){let g=d,S=0;for(const _ of this.editorDiv.childNodes)S++===h&&(g=p),g.push(xn.#c(_))}this.#t=`${d.join(`
`)}${i}${p.join(`
`)}`,this.#l();const m=new Range;let v=Math.sumPrecise(d.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const S=g.nodeValue.length;if(v<=S){m.setStart(g,v),m.setEnd(g,v);break}v-=S}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=xn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof SD){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:p,popupRef:m,richText:v,contentsObj:g,creationDate:S,modificationDate:_},textContent:w,textPosition:A,parent:{page:{pageNumber:T}}}=t;if(!w||w.length===0)return null;i=t={annotationType:Vt.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:A,pageIndex:T-1,rect:h.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:g?.str||null,richText:v,creationDate:S,modificationDate:_}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=At.makeHexColor(...t.color),o.#t=xn.#h(t.value),o._initialData=i,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Lt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==i[c])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const i of this.#t.split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class St{static PRECISION=1e-4;toSVGPath(){De("Abstract method `toSVGPath` must be implemented.")}get box(){De("Abstract getter `box` must be implemented.")}serialize(t,e){De("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*i,l[c+1]=n+t[c+1]*o;return l}static _rescaleAndSwap(t,e,n,i,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*i,l[c+1]=n+t[c]*o;return l}static _translate(t,e,n,i){i||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)i[o]=e+t[o],i[o+1]=n+t[o+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,i,o){switch(o){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,o,l){return[(t+5*n)/6,(e+5*i)/6,(5*n+o)/6,(5*i+l)/6,(n+o)/2,(i+l)/2]}}class ho{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=ho.#g+ho.#p;constructor({x:t,y:e},n,i,o,l,c=0){this.#t=n,this.#h=o*i,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=ho.#g*i,this.#c=ho.#u*i,this.#d=i,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,i,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-i)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-i)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,i,o,l]=this.#t;let[c,h,d,p]=this.#s.subarray(8,12);const m=t-d,v=e-p,g=Math.hypot(m,v);if(g<this.#c)return!1;const S=g-this.#l,_=S/g,w=_*m,A=_*v;let T=c,E=h;c=d,h=p,d+=w,p+=A,this.#f?.push(t,e);const D=-A/S,C=w/S,L=D*this.#h,R=C*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+L,p+R],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-L,p-R],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+L,h+R],2),this.#a.push(NaN,NaN,NaN,NaN,(c+L-n)/o,(h+R-i)/l),this.#s.set([c-L,h-R],14),this.#e.push(NaN,NaN,NaN,NaN,(c-L-n)/o,(h-R-i)/l)),this.#s.set([T,E,c,h,d,p],6),!this.isEmpty()):(this.#s.set([T,E,c,h,d,p],6),Math.abs(Math.atan2(E-h,T-c)-Math.atan2(A,w))<Math.PI/2?([c,h,d,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/o,((h+p)/2-i)/l),[c,h,T,E]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/o,((E+h)/2-i)/l),!0):([T,E,c,h,d,p]=this.#s.subarray(0,6),this.#a.push(((T+5*c)/6-n)/o,((E+5*h)/6-i)/l,((5*c+d)/6-n)/o,((5*h+p)/6-i)/l,((c+d)/2-n)/o,((h+p)/2-i)/l),[d,p,c,h,T,E]=this.#s.subarray(12,18),this.#e.push(((T+5*c)/6-n)/o,((E+5*h)/6-i)/l,((5*c+d)/6-n)/o,((5*h+p)/6-i)/l,((c+d)/2-n)/o,((h+p)/2-i)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);this.#v(n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,i]=this.#t,[o,l,c,h]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/i} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/i} L${o} ${l} L${c} ${h} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/i} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/i} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,i,o]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[h,d,p,m]=this.#m();t.push(`L${(l[0]-e)/i} ${(l[1]-n)/o} L${h} ${d} L${p} ${m} L${(c[0]-e)/i} ${(c[1]-n)/o}`)}newFreeDrawOutline(t,e,n,i,o,l){return new ED(t,e,n,i,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[i,o,l,c]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=h.length-2;m<v;m+=2)h[m]=(this.#f[m]-i)/l,h[m+1]=(this.#f[m+1]-o)/c;if(h[h.length-2]=(this.#r-i)/l,h[h.length-1]=(this.#o-o)/c,isNaN(n[6])&&!this.isEmpty())return this.#T(h);const d=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){d[m]=d[m+1]=NaN;continue}d[m]=t[m],d[m+1]=t[m+1]}p=this.#_(d,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[m+v],d[p+1]=e[m+v+1],p+=2}return this.#w(d,p),this.newFreeDrawOutline(d,h,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[n,i,o,l]=this.#t,[c,h,d,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-i)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-i)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-i)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-i)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#i,this.#n)}#w(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[o,l,c,h]=this.#t,[d,p,m,v]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(i[0]-o)/c,(i[1]-l)/h],e),e+=24}}class ED extends St{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,i,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=i,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,h,d,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-c)/d,t[m+1]=(t[m+1]-h)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-c)/d,e[m+1]=(e[m+1]-h)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,i],o){const l=n-t,c=i-e;let h,d;switch(o){case 0:h=St._rescale(this.#r,t,i,l,-c),d=St._rescale(this.#a,t,i,l,-c);break;case 90:h=St._rescaleAndSwap(this.#r,t,e,l,c),d=St._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:h=St._rescale(this.#r,n,e,-l,c),d=St._rescale(this.#a,n,e,-l,c);break;case 270:h=St._rescaleAndSwap(this.#r,n,i,-l,-c),d=St._rescaleAndSwap(this.#a,n,i,-l,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}#o(t){const e=this.#r;let n=e[4],i=e[5];const o=[n,i,n,i];let l=n,c=i,h=n,d=i;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let g=6,S=e.length;g<S;g+=6){const _=e[g+4],w=e[g+5];isNaN(e[g])?(At.pointBoundingBox(_,w,o),c>w?(l=_,c=w):c===w&&(l=p(l,_)),d<w?(h=_,d=w):d===w&&(h=p(h,_))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,At.bezierBoundingBox(n,i,...e.slice(g,g+6),m),At.rectBoundingBox(m[0],m[1],m[2],m[3],o),c>m[1]?(l=m[0],c=m[1]):c===m[1]&&(l=p(l,m[0])),d<m[3]?(h=m[2],d=m[3]):d===m[3]&&(h=p(h,m[2]))),n=_,i=w}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[h,d]}get box(){return this.#e}newOutliner(t,e,n,i,o,l=0){return new ho(t,e,n,i,o,l)}getNewOutline(t,e){const[n,i,o,l]=this.#e,[c,h,d,p]=this.#t,m=o*d,v=l*p,g=n*d+c,S=i*p+h,_=this.newOutliner({x:this.#a[0]*m+g,y:this.#a[1]*v+S},this.#t,this.#s,t,this.#n,e??this.#i);for(let w=2;w<this.#a.length;w+=2)_.add({x:this.#a[w]*m+g,y:this.#a[w+1]*v+S});return _.getOutlines()}}class P0{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,i=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:_,y:w,width:A,height:T}of t){const E=Math.floor((_-e)/l)*l,D=Math.ceil((_+A+e)/l)*l,C=Math.floor((w-e)/l)*l,L=Math.ceil((w+T+e)/l)*l,R=[E,C,L,!0],k=[D,C,L,!1];this.#n.push(R,k),At.rectBoundingBox(E,C,D,L,o)}const c=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,d=o[0]-n,p=o[1]-n;let m=i?-1/0:1/0,v=1/0;const g=this.#n.at(i?-1:-2),S=[g[0],g[2]];for(const _ of this.#n){const[w,A,T,E]=_;!E&&i?A<v?(v=A,m=w):A===v&&(m=Math.max(m,w)):E&&!i&&(A<v?(v=A,m=w):A===v&&(m=Math.min(m,w))),_[0]=(w-d)/c,_[1]=(A-p)/h,_[2]=(T-p)/h}this.#t=new Float32Array([d,p,c,h]),this.#e=[m,v],this.#i=S}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const i=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,m]=l;n.delete(l);let v=c,g=h;for(o=[c,d],i.push(o);;){let S;if(n.has(p))S=p;else if(n.has(m))S=m;else break;n.delete(S),[c,h,d,p,m]=S,v!==c&&(o.push(v,g,c,g===h?h:d),v=c),g=g===h?d:h}o.push(v,g)}return new jj(i,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,i=e.length-1;for(;n<=i;){const o=n+i>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:i=o-1}return i+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let i=n;i<this.#a.length;i++){const[o,l]=this.#a[i];if(o!==t)break;if(o===t&&l===e){this.#a.splice(i,1);return}}for(let i=n-1;i>=0;i--){const[o,l]=this.#a[i];if(o!==t)break;if(o===t&&l===e){this.#a.splice(i,1);return}}}#l(t){const[e,n,i]=t,o=[[e,n,i]],l=this.#r(i);for(let c=0;c<l;c++){const[h,d]=this.#a[c];for(let p=0,m=o.length;p<m;p++){const[,v,g]=o[p];if(!(d<=v||g<=h)){if(v>=h){if(g>d)o[p][1]=d;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=h,g>d&&o.push([e,d,g])}}}return o}}class jj extends St{#t;#e;constructor(t,e,n,i){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[n,i]=e;t.push(`M${n} ${i}`);for(let o=2;o<e.length;o+=2){const l=e[o],c=e[o+1];l===n?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,i],o){const l=[],c=n-t,h=i-e;for(const d of this.#e){const p=new Array(d.length);for(let m=0;m<d.length;m+=2)p[m]=t+d[m]*c,p[m+1]=i-d[m+1]*h;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class N0 extends ho{newFreeDrawOutline(t,e,n,i,o,l){return new Vj(t,e,n,i,o,l)}}class Vj extends ED{newOutliner(t,e,n,i,o,l=0){return new N0(t,e,n,i,o,l)}}class on extends Lt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Vt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=on.prototype;return $t(this,"_keyboardManager",new gh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||on._defaultColor,this.#m=t.thickness||on._defaultThickness,this.opacity=t.opacity||on._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new P0(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new P0(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const i=1.5;if(this.#s=t.getNewOutline(this.#m/2+i,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:on.#x(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:on.#x(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[o,l,c,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=h;break;case 90:{const[m,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*v/m,this.height=h*m/v;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*v/m,this.height=h*m/v;break}}const{firstPoint:d}=t;this.#f=[(d[0]-o)/c,(d[1]-l)/h];const{lastPoint:p}=this.#s;this.#g=[(p[0]-o)/c,(p[1]-l)/h]}static initialize(t,e){Lt.initialize(t,e),on._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case ee.HIGHLIGHT_COLOR:on._defaultColor=e;break;case ee.HIGHLIGHT_THICKNESS:on._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case ee.HIGHLIGHT_COLOR:this.#T(e);break;case ee.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[ee.HIGHLIGHT_COLOR,on._defaultColor],[ee.HIGHLIGHT_THICKNESS,on._defaultThickness]]}get propertiesToUpdate(){return[[ee.HIGHLIGHT_COLOR,this.color||on._defaultColor],[ee.HIGHLIGHT_THICKNESS,this.#m||on._defaultThickness],[ee.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,on._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#w(t){const e=this.#m,n=i=>{this.#m=i,this.#_(i)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ee.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ri({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#A(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#x([t,e,n,i],o){switch(o){case 90:return[1-e-i,t,i,n];case 180:return[1-t-n,1-e-i,n,i];case 270:return[e,1-t-n,i,n]}return[t,e,n,i]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=on.#x(this.#l.box,t)):n=on.#x([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:on.#x(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),eD(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){on._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#h?this.rotation:0}#F(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let c=0;for(const{x:h,y:d,width:p,height:m}of o){const v=h*t+n,g=(1-d)*e+i;l[c]=l[c+4]=v,l[c+1]=l[c+3]=g,l[c+2]=l[c+6]=v+p*t,l[c+5]=l[c+7]=g-m*e,c+=8}return l}#L(t){return this.#l.serialize(t,this.#D())}static startHighlighting(t,e,{target:n,x:i,y:o}){const{x:l,y:c,width:h,height:d}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=g=>{p.abort(),this.#I(t,g)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",Xe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ui,{signal:m}),n.addEventListener("pointermove",this.#P.bind(this,t),{signal:m}),this._freeHighlight=new N0({x:i,y:o},[l,c,h,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#P(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let i=null;if(t instanceof wD){const{data:{quadPoints:S,rect:_,rotation:w,id:A,color:T,opacity:E,popupRef:D,richText:C,contentsObj:L,creationDate:R,modificationDate:k},parent:{page:{pageNumber:F}}}=t;i=t={annotationType:Vt.HIGHLIGHT,color:Array.from(T),opacity:E,quadPoints:S,boxes:null,pageIndex:F-1,rect:_.slice(0),rotation:w,annotationElementId:A,id:A,deleted:!1,popupRef:D,richText:C,comment:L?.str||null,creationDate:R,modificationDate:k}}else if(t instanceof db){const{data:{inkLists:S,rect:_,rotation:w,id:A,color:T,borderStyle:{rawWidth:E},popupRef:D,richText:C,contentsObj:L,creationDate:R,modificationDate:k},parent:{page:{pageNumber:F}}}=t;i=t={annotationType:Vt.HIGHLIGHT,color:Array.from(T),thickness:E,inkLists:S,boxes:null,pageIndex:F-1,rect:_.slice(0),rotation:w,annotationElementId:A,id:A,deleted:!1,popupRef:D,richText:C,comment:L?.str||null,creationDate:R,modificationDate:k}}const{color:o,quadPoints:l,inkLists:c,opacity:h}=t,d=await super.deserialize(t,e,n);d.color=At.makeHexColor(...o),d.opacity=h||1,c&&(d.#m=t.thickness),d._initialData=i,t.comment&&d.setCommentData(t);const[p,m]=d.pageDimensions,[v,g]=d.pageTranslation;if(l){const S=d.#i=[];for(let _=0;_<l.length;_+=8)S.push({x:(l[_]-v)/p,y:1-(l[_+1]-g)/m,width:(l[_+2]-l[_])/p,height:(l[_+1]-l[_+5])/m});d.#b(),d.#A(),d.rotate(d.rotation)}else if(c){d.#h=!0;const S=c[0],_={x:S[0]-v,y:m-(S[1]-g)},w=new N0(_,[0,0,p,m],1,d.#m/2,!0,.001);for(let E=0,D=S.length;E<D;E+=2)_.x=S[E]-v,_.y=m-(S[E+1]-g),w.add(_);const{id:A,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);d.#v({highlightOutlines:w.getOutlines(),highlightId:A,clipPathId:T}),d.#A(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#F(),outlines:this.#L(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#N(n)?null:(n.id=this.annotationElementId,n)}#N(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,i)=>n!==e[i])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class CD{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){De("Not implemented")}}class Ft extends Lt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(Ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,o]of Object.entries(e))n.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){De("Not implemented")}static get typesMap(){De("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Ft.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,o=i[e],l=c=>{i.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#u(h),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,i]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/o),i*(o/l)];case 180:return[1-t,1-e,n,i];case 270:return[1-e,t,n*(l/o),i*(o/l)];default:return[t,e,n,i]}}#p(){const{x:t,y:e,width:n,height:i,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(o/l),i*(l/o)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(o/l),i*(l/o)];default:return[t,e,n,i]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:n,height:i,rotation:o,parentRotation:l,parentDimensions:[c,h]}=this;switch((o*4+l)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(c/h),i*(h/c),n*(c/h)];case 5:return[1-e,t,n*(c/h),i*(h/c)];case 6:return[1-t-i*(h/c),1-e,i*(h/c),n*(c/h)];case 7:return[e-n*(c/h),1-t-i*(h/c),n*(c/h),i*(h/c)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(h/c),e,i*(h/c),n*(c/h)];case 13:return[1-e-n*(c/h),t-i*(h/c),n*(c/h),i*(h/c)];case 14:return[1-t,1-e-n*(c/h),i*(h/c),n*(c/h)];case 15:return[e,1-t,n*(c/h),i*(h/c)];default:return[t,e,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ft._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,o){De("Not implemented")}static startDrawing(t,e,n,i){const{target:o,offsetX:l,offsetY:c,pointerId:h,pointerType:d}=i;if(Ft.#r&&Ft.#r!==d)return;const{viewport:{rotation:p}}=t,{width:m,height:v}=o.getBoundingClientRect(),g=Ft.#n=new AbortController,S=t.combinedSignal(g);if(Ft.#s||=h,Ft.#r??=d,window.addEventListener("pointerup",_=>{Ft.#s===_.pointerId?this._endDraw(_):Ft.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointercancel",_=>{Ft.#s===_.pointerId?this._currentParent.endDrawingSession():Ft.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointerdown",_=>{Ft.#r===_.pointerType&&((Ft.#o||=new Set).add(_.pointerId),Ft.#i.isCancellable()&&(Ft.#i.removeLastElement(),Ft.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ui,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",_=>{_.timeStamp===Ft.#c&&Xe(_)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),Ft.#i){t.drawLayer.updateProperties(this._currentDrawId,Ft.#i.startNew(l,c,m,v,p));return}e.updateUIForDefaultProperties(this),Ft.#i=this.createDrawerInstance(l,c,m,v,p),Ft.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Ft.#a.toSVGProperties(),Ft.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ft.#c=-1,!Ft.#i)return;const{offsetX:e,offsetY:n,pointerId:i}=t;if(Ft.#s===i){if(Ft.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ft.#i.add(e,n)),Ft.#c=t.timeStamp,Xe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Ft.#i=null,Ft.#a=null,Ft.#r=null,Ft.#c=NaN),Ft.#n&&(Ft.#n.abort(),Ft.#n=null,Ft.#s=NaN,Ft.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Ft.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Ft.#i,i=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(i,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(i,n.removeLastElement())},mustExec:!1,type:ee.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(ee.DRAW_STEP),!Ft.#i.isEmpty()){const{pageDimensions:[n,i],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ft.#i.getOutlines(n*o,i*o,o,this._INNER_MARGIN),drawingOptions:Ft.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,o,l){De("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#l({drawOutlines:h}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[i,o]=this.pageDimensions;return this.#t.serialize([e,n,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Uj{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new bh;#l;#d;constructor(t,e,n,i,o,l){this.#l=n,this.#d=i,this.#n=o,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return St._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,i,o,l]=this.#t.subarray(2,6),c=t-o,h=e-l;return Math.hypot(this.#l*c,this.#d*h)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,i,o,l,t,e],0),this.#e.push(...St.createBezierPoints(n,i,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,o){this.#l=n,this.#d=i,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:i}=this.#i[t];this.#e=n,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=St.svgRound(this.#e[4]),e=St.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const i=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,i)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const i=St.svgRound(this.#e[10]),o=St.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${i} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let i=this.#o,o=this.#e.length;i<o;i+=6){const[l,c,h,d,p,m]=this.#e.slice(i,i+6).map(St.svgRound);n.push(`C${l} ${c} ${h} ${d} ${p} ${m}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,i){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,i),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class bh extends St{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,i,o,l,c){this.#a=e,this.#s=n,this.#r=i,this.#o=o,this.#c=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${St.svgRound(e[4])} ${St.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${St.svgRound(e[10])} ${St.svgRound(e[11])}`);continue}for(let n=6,i=e.length;n<i;n+=6){const[o,l,c,h,d,p]=e.subarray(n,n+6).map(St.svgRound);t.push(`C${o} ${l} ${c} ${h} ${d} ${p}`)}}return t.join("")}serialize([t,e,n,i],o){const l=[],c=[],[h,d,p,m]=this.#d();let v,g,S,_,w,A,T,E,D;switch(this.#o){case 0:D=St._rescale,v=t,g=e+i,S=n,_=-i,w=t+h*n,A=e+(1-d-m)*i,T=t+(h+p)*n,E=e+(1-d)*i;break;case 90:D=St._rescaleAndSwap,v=t,g=e,S=n,_=i,w=t+d*n,A=e+h*i,T=t+(d+m)*n,E=e+(h+p)*i;break;case 180:D=St._rescale,v=t+n,g=e,S=-n,_=i,w=t+(1-h-p)*n,A=e+d*i,T=t+(1-h)*n,E=e+(d+m)*i;break;case 270:D=St._rescaleAndSwap,v=t+n,g=e+i,S=-n,_=-i,w=t+(1-d-m)*n,A=e+(1-h-p)*i,T=t+(1-d)*n,E=e+(1-h)*i;break}for(const{line:C,points:L}of this.#n)l.push(D(C,v,g,S,_,o?new Array(C.length):null)),c.push(D(L,v,g,S,_,o?new Array(L.length):null));return{lines:l,points:c,rect:[w,A,T,E]}}static deserialize(t,e,n,i,o,{paths:{lines:l,points:c},rotation:h,thickness:d}){const p=[];let m,v,g,S,_;switch(h){case 0:_=St._rescale,m=-t/n,v=e/i+1,g=1/n,S=-1/i;break;case 90:_=St._rescaleAndSwap,m=-e/i,v=-t/n,g=1/i,S=1/n;break;case 180:_=St._rescale,m=t/n+1,v=-e/i,g=-1/n,S=1/i;break;case 270:_=St._rescaleAndSwap,m=e/i+1,v=t/n+1,g=-1/i,S=-1/n;break}if(!l){l=[];for(const A of c){const T=A.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const E=new Float32Array(3*(T-2));l.push(E);let[D,C,L,R]=A.subarray(0,4);E.set([NaN,NaN,NaN,NaN,D,C],0);for(let k=4;k<T;k+=2){const F=A[k],$=A[k+1];E.set(St.createBezierPoints(D,C,L,R,F,$),(k-2)*3),[D,C,L,R]=[L,R,F,$]}}}for(let A=0,T=l.length;A<T;A++)p.push({line:_(l[A].map(E=>E??NaN),m,v,g,S),points:_(c[A].map(E=>E??NaN),m,v,g,S)});const w=new this.prototype.constructor;return w.build(p,n,i,1,h,d,o),w}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,i]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,i-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let c=4,h=i.length;c<h;c+=6)At.pointBoundingBox(i[c],i[c+1],t);continue}let o=i[4],l=i[5];for(let c=6,h=i.length;c<h;c+=6){const[d,p,m,v,g,S]=i.subarray(c,c+6);At.bezierBoundingBox(o,l,d,p,m,v,g,S,t),o=g,l=S}}const[e,n]=this.#l();t[0]=Gn(t[0]-e,0,1),t[1]=Gn(t[1]-n,0,1),t[2]=Gn(t[2]+e,0,1),t[3]=Gn(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[i,o]=this.#l(),[l,c]=[i-e,o-n],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],n){const[i,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,c]=this.#l(),h=l-i,d=c-o,p=this.#t;return p[0]-=h,p[1]-=d,p[2]+=2*h,p[3]+=2*d,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(St.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,i=0,o=0,l=0,c=0,h=0;switch(this.#e){case 90:i=e/t,o=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,h=e;break;case 270:i=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${n} ${i} ${o} ${l} ${St.svgRound(c)} ${St.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,i]){const[o,l]=this.#l(),[c,h,d,p]=this.#t;if(Math.abs(d-o)<=St.PRECISION||Math.abs(p-l)<=St.PRECISION){const _=t+n/2-(c+d/2),w=e+i/2-(h+p/2);return{path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(e)}`,transform:`${this.rotationTransform} translate(${_} ${w})`}}}const m=(n-2*o)/(d-2*o),v=(i-2*l)/(p-2*l),g=d/n,S=p/i;return{path:{"transform-origin":`${St.svgRound(c)} ${St.svgRound(h)}`,transform:`${this.rotationTransform} scale(${g} ${S}) translate(${St.svgRound(o)} ${St.svgRound(l)}) scale(${m} ${v}) translate(${St.svgRound(-o)} ${St.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,i]){const[o,l]=this.#l(),c=this.#t,[h,d,p,m]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=i,Math.abs(p-o)<=St.PRECISION||Math.abs(m-l)<=St.PRECISION){const w=t+n/2-(h+p/2),A=e+i/2-(d+m/2);for(const{line:T,points:E}of this.#n)St._translate(T,w,A,T),St._translate(E,w,A,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(n-2*o)/(p-2*o),g=(i-2*l)/(m-2*l),S=-v*(h+o)+t+o,_=-g*(d+l)+e+l;if(v!==1||g!==1||S!==0||_!==0)for(const{line:w,points:A}of this.#n)St._rescale(w,S,_,v,g,w),St._rescale(A,S,_,v,g,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[i,o]=n,l=this.#t,c=t-l[0],h=e-l[1];if(this.#a===i&&this.#s===o)for(const{line:d,points:p}of this.#n)St._translate(d,c,h,d),St._translate(p,c,h,p);else{const d=this.#a/i,p=this.#s/o;this.#a=i,this.#s=o;for(const{line:m,points:v}of this.#n)St._rescale(m,c,h,d,p,m),St._rescale(v,c,h,d,p,v);l[2]*=d,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t)} ${St.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t[0])} ${St.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class yp extends CD{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Lt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new yp(this._viewParameters);return t.updateAll(this),t}}class pb extends Ft{static _type="ink";static _editorType=Vt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Lt.initialize(t,e),this._defaultDrawingOptions=new yp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return $t(this,"typesMap",new Map([[ee.INK_THICKNESS,"stroke-width"],[ee.INK_COLOR,"stroke"],[ee.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,o){return new Uj(t,e,n,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,o,l){return bh.deserialize(t,e,n,i,o,l)}static async deserialize(t,e,n){let i=null;if(t instanceof db){const{data:{inkLists:l,rect:c,rotation:h,id:d,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:g,richText:S,contentsObj:_,creationDate:w,modificationDate:A},parent:{page:{pageNumber:T}}}=t;i=t={annotationType:Vt.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:g,richText:S,comment:_?.str||null,creationDate:w,modificationDate:A}}const o=await super.deserialize(t,e,n);return o._initialData=i,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new eh(this),[["colorPicker",this._colorPicker]]}get colorType(){return ee.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=pb.getDefaultDrawingOptions({stroke:At.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Lt._colorManager.convert(i),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==i||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class B0 extends bh{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Zd=8,lu=3;class oo{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,i){return n-=t,i-=e,n===0?i>0?0:4:n===1?i+6:2-i}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,i,o,l,c){const h=this.#e(n,i,o,l);for(let d=0;d<8;d++){const p=(-d+h-c+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+m)*e+(i+v)]!==0)return p}return-1}static#a(t,e,n,i,o,l,c){const h=this.#e(n,i,o,l);for(let d=0;d<8;d++){const p=(d+h+c+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+m)*e+(i+v)]!==0)return p}return-1}static#s(t,e,n,i){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=i?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,h;const d=[];for(let p=1;p<n-1;p++){h=1;for(let m=1;m<e-1;m++){const v=p*e+m,g=l[v];if(g===0)continue;let S=p,_=m;if(g===1&&l[v-1]===0)c+=1,_-=1;else if(g>=1&&l[v+1]===0)c+=1,_+=1,g>1&&(h=g);else{g!==1&&(h=Math.abs(g));continue}const w=[m,p],A=_===m+1,T={isHole:A,points:w,id:c,parent:0};d.push(T);let E;for(const H of d)if(H.id===h){E=H;break}E?E.isHole?T.parent=A?E.parent:h:T.parent=A?h:E.parent:T.parent=A?h:0;const D=this.#n(l,e,p,m,S,_,0);if(D===-1){l[v]=-c,l[v]!==1&&(h=Math.abs(l[v]));continue}let C=this.#i[2*D],L=this.#i[2*D+1];const R=p+C,k=m+L;S=R,_=k;let F=p,$=m;for(;;){const H=this.#a(l,e,F,$,S,_,1);C=this.#i[2*H],L=this.#i[2*H+1];const at=F+C,et=$+L;w.push(et,at);const q=F*e+$;if(l[q+1]===0?l[q]=-c:l[q]===1&&(l[q]=c),at===p&&et===m&&F===R&&$===k){l[v]!==1&&(h=Math.abs(l[v]));break}else S=F,_=$,F=at,$=et}}}return d}static#r(t,e,n,i){if(n-e<=4){for(let R=e;R<n-2;R+=2)i.push(t[R],t[R+1]);return}const o=t[e],l=t[e+1],c=t[n-4]-o,h=t[n-3]-l,d=Math.hypot(c,h),p=c/d,m=h/d,v=p*l-m*o,g=h/c,S=1/d,_=Math.atan(g),w=Math.cos(_),A=Math.sin(_),T=S*(Math.abs(w)+Math.abs(A)),E=S*(1-T+T**2),D=Math.max(Math.atan(Math.abs(A+w)*E),Math.atan(Math.abs(A-w)*E));let C=0,L=e;for(let R=e+2;R<n-2;R+=2){const k=Math.abs(v-p*t[R+1]+m*t[R]);k>C&&(L=R,C=k)}C>(d*D)**2?(this.#r(t,e,L+2,i),this.#r(t,L,n,i)):i.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,i,o,l){const c=new Float32Array(l**2),h=-2*i**2,d=l>>1;for(let _=0;_<l;_++){const w=(_-d)**2;for(let A=0;A<l;A++)c[_*l+A]=Math.exp((w+(A-d)**2)/h)}const p=new Float32Array(256),m=-2*o**2;for(let _=0;_<256;_++)p[_]=Math.exp(_**2/m);const v=t.length,g=new Uint8Array(v),S=new Uint32Array(256);for(let _=0;_<n;_++)for(let w=0;w<e;w++){const A=_*e+w,T=t[A];let E=0,D=0;for(let L=0;L<l;L++){const R=_+L-d;if(!(R<0||R>=n))for(let k=0;k<l;k++){const F=w+k-d;if(F<0||F>=e)continue;const $=t[R*e+F],H=c[L*l+k]*p[Math.abs($-T)];E+=$*H,D+=H}}const C=g[A]=Math.round(E/D);S[C]++}return[g,S]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,o=1/0;for(let c=0,h=n.length;c<h;c++){const d=n[c]=t[c<<2];i=Math.max(i,d),o=Math.min(o,d)}const l=255/(i-o);for(let c=0,h=n.length;c<h;c++)n[c]=(n[c]-o)*l;return n}static#h(t){let e,n=-1/0,i=-1/0;const o=t.findIndex(h=>h!==0);let l=o,c=o;for(e=o;e<256;e++){const h=t[e];h>n&&(e-l>i&&(i=e-l,c=e-1),n=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:i}=t,{maxDim:o}=this.#t;let l=n,c=i;if(n>o||i>o){let v=n,g=i,S=Math.log2(Math.max(n,i)/o);const _=Math.floor(S);S=S===_?_-1:_;for(let A=0;A<S;A++){l=Math.ceil(v/2),c=Math.ceil(g/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(t,0,0,v,g,0,0,l,c),v=l,g=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const w=Math.min(o/l,o/c);l=Math.round(l*w),c=Math.round(c*w)}const d=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,l,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=d.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:i},o,l,c,h){let d=new OffscreenCanvas(1,1),p=d.getContext("2d",{alpha:!1});const m=200,v=p.font=`${n} ${i} ${m}px ${e}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:S,actualBoundingBoxAscent:_,actualBoundingBoxDescent:w,fontBoundingBoxAscent:A,fontBoundingBoxDescent:T,width:E}=p.measureText(t),D=1.5,C=Math.ceil(Math.max(Math.abs(g)+Math.abs(S)||0,E)*D),L=Math.ceil(Math.max(Math.abs(_)+Math.abs(w)||m,Math.abs(A)+Math.abs(T)||m)*D);d=new OffscreenCanvas(C,L),p=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,C,L),p.fillStyle="black",p.fillText(t,C*(D-1)/2,L*(3-D)/2);const R=this.#d(p.getImageData(0,0,C,L).data),k=this.#l(R),F=this.#h(k),$=this.#s(R,C,L,F);return this.processDrawnLines({lines:{curves:$,width:C,height:L},pageWidth:o,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,o){const[l,c,h]=this.#f(t),[d,p]=this.#c(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#h(p),v=this.#s(d,c,h,m);return this.processDrawnLines({lines:{curves:v,width:c,height:h},pageWidth:e,pageHeight:n,rotation:i,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:o,mustSmooth:l,areContours:c}){i%180!==0&&([e,n]=[n,e]);const{curves:h,width:d,height:p}=t,m=t.thickness??0,v=[],g=Math.min(e/d,n/p),S=g/e,_=g/n,w=[];for(const{points:T}of h){const E=l?this.#o(T):T;if(!E)continue;w.push(E);const D=E.length,C=new Float32Array(D),L=new Float32Array(3*(D===2?2:D-2));if(v.push({line:L,points:C}),D===2){C[0]=E[0]*S,C[1]=E[1]*_,L.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[R,k,F,$]=E;R*=S,k*=_,F*=S,$*=_,C.set([R,k,F,$],0),L.set([NaN,NaN,NaN,NaN,R,k],0);for(let H=4;H<D;H+=2){const at=C[H]=E[H]*S,et=C[H+1]=E[H+1]*_;L.set(St.createBezierPoints(R,k,F,$,at,et),(H-2)*3),[R,k,F,$]=[F,$,at,et]}}if(v.length===0)return null;const A=c?new B0:new bh;return A.build(v,e,n,1,i,c?0:m,o),{outline:A,newCurves:w,areContours:c,thickness:m,width:d,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:i,height:o}){let l=1/0,c=-1/0,h=0;for(const E of t){h+=E.length;for(let D=2,C=E.length;D<C;D++){const L=E[D]-E[D-2];l=Math.min(l,L),c=Math.max(c,L)}}let d;l>=-128&&c<=127?d=Int8Array:l>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const p=t.length,m=Zd+lu*p,v=new Uint32Array(m);let g=0;v[g++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*d.BYTES_PER_ELEMENT,v[g++]=0,v[g++]=i,v[g++]=o,v[g++]=e?0:1,v[g++]=Math.max(0,Math.floor(n??0)),v[g++]=p,v[g++]=d.BYTES_PER_ELEMENT;for(const E of t)v[g++]=E.length-2,v[g++]=E[0],v[g++]=E[1];const S=new CompressionStream("deflate-raw"),_=S.writable.getWriter();await _.ready,_.write(v);const w=d.prototype.constructor;for(const E of t){const D=new w(E.length-2);for(let C=2,L=E.length;C<L;C++)D[C-2]=E[C]-E[C-2];_.write(D)}_.close();const A=await new Response(S.readable).arrayBuffer(),T=new Uint8Array(A);return qM(T)}static async decompressSignature(t){try{const e=fz(t),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),o=i.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const E of n)l||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),l.set(E,c),c+=E.length;const h=new Uint32Array(l.buffer,0,l.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const p=h[2],m=h[3],v=h[4]===0,g=h[5],S=h[6],_=h[7],w=[],A=(Zd+lu*S)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(_){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,A);break}c=0;for(let E=0;E<S;E++){const D=h[lu*E+Zd],C=new Float32Array(D+2);w.push(C);for(let L=0;L<lu-1;L++)C[L]=h[lu*E+Zd+L+1];for(let L=0;L<D;L++)C[L+2]=C[L]+T[c++]}return{areContours:v,thickness:g,outlines:w,width:p,height:m}}catch(e){return Ut(`decompressSignature: ${e}`),null}}}class mb extends CD{constructor(){super(),super.updateProperties({fill:Lt._defaultLineColor,"stroke-width":0})}clone(){const t=new mb;return t.updateAll(this),t}}class gb extends yp{constructor(t){super(t),super.updateProperties({stroke:Lt._defaultLineColor,"stroke-width":1})}clone(){const t=new gb(this._viewParameters);return t.updateAll(this),t}}class zs extends Ft{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Vt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Lt.initialize(t,e),this._defaultDrawingOptions=new mb,this._defaultDrawnSignatureOptions=new gb(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return $t(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:i,mustSmooth:o,areContours:l,description:c,uuid:h,heightInPage:d}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,g=oo.processDrawnLines({lines:i,pageWidth:p,pageHeight:m,rotation:v,innerMargin:zs._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(g,d,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:o}=this.#i,l=Math.max(i,o),c=oo.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:i,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:o,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof B0,this.description=n;let h;this.#t?h=zs.getDefaultDrawingOptions():(h=zs._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,d]=this.pageDimensions;let p=e/d;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return oo.process(t,e,n,i,zs._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:o}=this.parent.viewport;return oo.extractContoursFromText(t,e,n,i,o,zs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return oo.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:zs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=zs.getDefaultDrawingOptions():(this._drawingOptions=zs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:i});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,i,o,l){return l.areContours?B0.deserialize(t,e,n,i,o,l):bh.deserialize(t,e,n,i,o,l)}static async deserialize(t,e,n){const i=await super.deserialize(t,e,n);return i.#t=t.areContours,i.description=t.accessibilityData?.alt||"",i.#n=t.uuid,i}}class Hj extends Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Vt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Lt.initialize(t,e)}static isHandlingMimeForPasting(t){return Hf.includes(t)}static paste(t,e){e.pasteEditor({mode:Vt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:i,width:o,height:l,channels:i.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(i=>this.#h(i)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(i=>this.#h(i)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Hf.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(i)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,i&&(this.#t=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[i,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*i,n=this.height*o;else if(e>l*i||n>l*o){const h=Math.min(l*i/e,l*o/n);e*=h,n*=h}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/i,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:i,height:o}=this.#t,l=new Ds;let c=this.#t,h=i,d=o,p=null;if(e){if(i>e||o>e){const L=Math.min(e/i,e/o);h=Math.floor(i*L),d=Math.floor(o*L)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*l.sx),g=p.height=Math.ceil(d*l.sy);this.#l||(c=this.#u(v,g));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let _="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":gz.isDarkMode&&(_="#8f8f9d",w="#42414d");const A=15,T=A*l.sx,E=A*l.sy,D=new OffscreenCanvas(T*2,E*2),C=D.getContext("2d");C.fillStyle=_,C.fillRect(0,0,T*2,E*2),C.fillStyle=w,C.fillRect(0,0,T,E),C.fillRect(T,E,T,E),S.fillStyle=S.createPattern(D,"repeat"),S.fillRect(0,0,v,g),S.drawImage(c,0,0,c.width,c.height,0,0,v,g)}let m=null;if(n){let v,g;if(l.symmetric&&c.width<t&&c.height<t)v=c.width,g=c.height;else if(c=this.#t,i>t||o>t){const w=Math.min(t/i,t/o);v=Math.floor(i*w),g=Math.floor(o*w),this.#l||(c=this.#u(v,g))}const _=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});_.drawImage(c,0,0,c.width,c.height,0,0,v,g),m={width:v,height:g,data:_.getImageData(0,0,v,g).data}}return{canvas:p,width:h,height:d,imageData:m}}#u(t,e){const{width:n,height:i}=this.#t;let o=n,l=i,c=this.#t;for(;o>2*t||l>2*e;){const h=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,h,d,0,0,o,l),c=p.transferToImageBitmap()}return c}#m(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,o=new Ds,l=Math.ceil(n*t*o.sx),c=Math.ceil(i*e*o.sy),h=this.#r;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const d=this.#l?this.#t:this.#u(l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,l,c)}#y(t){if(t){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#e);if(i)return i}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,i=Math.round(this.width*e*Do.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*Do.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,i,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let i=null,o=!1;if(t instanceof xD){const{data:{rect:_,rotation:w,id:A,structParent:T,popupRef:E,richText:D,contentsObj:C,creationDate:L,modificationDate:R},container:k,parent:{page:{pageNumber:F}},canvas:$}=t;let H,at;$?(delete t.canvas,{id:H,bitmap:at}=n.imageManager.getFromCanvas(k.id,$),$.remove()):(o=!0,t._hasNoCanvas=!0);const et=(await e._structTree.getAriaAttributes(`${Zv}${A}`))?.get("aria-label")||"";i=t={annotationType:Vt.STAMP,bitmapId:H,bitmap:at,pageIndex:F-1,rect:_.slice(0),rotation:w,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:et},isSvg:!1,structParent:T,popupRef:E,richText:D,comment:C?.str||null,creationDate:L,modificationDate:R}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:m,accessibilityData:v}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#n=d,l.#l=m;const[g,S]=l.pageDimensions;return l.width=(c[2]-c[0])/g,l.height=(c[3]-c[1])/S,v&&(l.altTextData=v),l._initialData=i,t.comment&&l.setCommentData(t),l.#d=!!i,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=this.#b(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,i=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Us{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([xn,pb,Hj,on,zs].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:i,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){const m=[...Us.#m.values()];if(!Us._initialized){Us._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=d,this.#h=h,this.drawLayer=c,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Vt.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Vt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Vt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Us.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const n=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",i=>{const{clientX:l,clientY:c,timeStamp:h}=i,d=this.#p;if(h-d>500){this.#p=h;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const g=new RegExp(`^${Qu}[0-9]+$`);for(const _ of m)if(g.test(_.id)){v=_.id;break}if(!v)return;const S=this.#s.get(v);S?.annotationElementId===null&&(i.stopPropagation(),i.preventDefault(),S.dblclick(i))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,i=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let h=i.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=n.get(c),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of Us.#m.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=En.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),on.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Lt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return Us.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:i}=this.#w(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:n,y:i,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Us.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),o=this.#T({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+i),d=(o+c)/2-t,p=(l+h)/2-e,[m,v]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Vt.STAMP||n===Vt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Vt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=En.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const i=this.#u.findParent(e,n);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ra(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ra(this.div,{rotation:n}),e!==n)for(const i of this.#s.values())i.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Tn{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return $t(this,"_svgFactory",new nh)}static#a(t,[e,n,i,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*i}%`,l.height=`${100*o}%`}#s(){const t=Tn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Tn._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Tn._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),i}#o(t,e){for(const[n,i]of Object.entries(e))i===null?t.removeAttribute(n):t.setAttribute(n,i)}draw(t,e=!1,n=!1){const i=Tn.#n++,o=this.#s(),l=Tn._svgFactory.createElement("defs");o.append(l);const c=Tn._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(i,c);const d=n?this.#r(l,h):null,p=Tn._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(i,o),{id:i,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=Tn.#n++,i=this.#s(),o=Tn._svgFactory.createElement("defs");i.append(o);const l=Tn._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const m=Tn._svgFactory.createElement("mask");o.append(m),h=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=Tn._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const g=Tn._svgFactory.createElement("use");m.append(g),g.setAttribute("href",`#${c}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const d=Tn._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return i.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(i,t),this.#e.set(n,i),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:o,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),i&&Tn.#a(c,i),o){const{classList:h}=c;for(const[d,p]of Object.entries(o))h.toggle(d,p)}if(l){const d=c.firstChild.firstChild;this.#o(d,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:P0};globalThis.pdfjsLib={AbortException:Nr,AnnotationEditorLayer:Us,AnnotationEditorParamsType:ee,AnnotationEditorType:Vt,AnnotationEditorUIManager:Br,AnnotationLayer:fb,AnnotationMode:Gs,AnnotationType:an,applyOpacity:JM,build:bD,ColorPicker:Ri,createValidAbsoluteUrl:Wv,CSSConstants:ZM,DOMSVGFactory:nh,DrawLayer:Tn,FeatureTest:En,fetchData:uc,findContrastColor:tD,getDocument:ob,getFilenameFromUrl:WM,getPdfFilenameFromUrl:KM,getRGB:hc,getUuid:Qv,getXfaPageViewport:QM,GlobalWorkerOptions:Sa,ImageKind:Ou,InvalidPDFException:Vf,isDataScheme:mh,isPdfFile:mp,isValidExplicitDest:sD,MathClamp:Gn,noContextMenu:Ui,normalizeUnicode:YM,OPS:ic,OutputScale:Ds,PasswordResponses:XM,PDFDataRangeTransport:cb,PDFDateString:Uf,PDFWorker:sc,PermissionFlag:GM,PixelsPerInch:Do,RenderingCancelledException:pp,renderRichText:tb,ResponseException:Zu,setLayerDimensions:Ra,shadow:$t,SignatureExtractor:oo,stopEvent:Xe,SupportedImageMimeTypes:Hf,TextLayer:th,TouchManager:yh,updateUrlHash:Kv,Util:At,VerbosityLevel:dh,version:ub,XfaLayer:Jv};const Gj=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Nr,AnnotationEditorLayer:Us,AnnotationEditorParamsType:ee,AnnotationEditorType:Vt,AnnotationEditorUIManager:Br,AnnotationLayer:fb,AnnotationMode:Gs,AnnotationType:an,CSSConstants:ZM,ColorPicker:Ri,DOMSVGFactory:nh,DrawLayer:Tn,FeatureTest:En,GlobalWorkerOptions:Sa,ImageKind:Ou,InvalidPDFException:Vf,MathClamp:Gn,OPS:ic,OutputScale:Ds,PDFDataRangeTransport:cb,PDFDateString:Uf,PDFWorker:sc,PasswordResponses:XM,PermissionFlag:GM,PixelsPerInch:Do,RenderingCancelledException:pp,ResponseException:Zu,SignatureExtractor:oo,SupportedImageMimeTypes:Hf,TextLayer:th,TouchManager:yh,Util:At,VerbosityLevel:dh,XfaLayer:Jv,applyOpacity:JM,build:bD,createValidAbsoluteUrl:Wv,fetchData:uc,findContrastColor:tD,getDocument:ob,getFilenameFromUrl:WM,getPdfFilenameFromUrl:KM,getRGB:hc,getUuid:Qv,getXfaPageViewport:QM,isDataScheme:mh,isPdfFile:mp,isValidExplicitDest:sD,noContextMenu:Ui,normalizeUnicode:YM,renderRichText:tb,setLayerDimensions:Ra,shadow:$t,stopEvent:Xe,updateUrlHash:Kv,version:ub},Symbol.toStringTag,{value:"Module"}));function MD(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(e=MD(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function dc(){for(var r,t,e=0,n="",i=arguments.length;e<i;e++)(r=arguments[e])&&(t=MD(r))&&(n&&(n+=" "),n+=t);return n}var gT=Object.prototype.hasOwnProperty;function yT(r,t,e){for(e of r.keys())if(Gl(e,t))return e}function Gl(r,t){var e,n,i;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((n=r.length)===t.length)for(;n--&&Gl(r[n],t[n]););return n===-1}if(e===Set){if(r.size!==t.size)return!1;for(n of r)if(i=n,i&&typeof i=="object"&&(i=yT(t,i),!i)||!t.has(i))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(n of r)if(i=n[0],i&&typeof i=="object"&&(i=yT(t,i),!i)||!Gl(n[1],t.get(i)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((n=r.byteLength)===t.byteLength)for(;n--&&r.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===t.byteLength)for(;n--&&r[n]===t[n];);return n===-1}if(!e||typeof r=="object"){n=0;for(e in r)if(gT.call(r,e)&&++n&&!gT.call(t,e)||!(e in t)||!Gl(r[e],t[e]))return!1;return Object.keys(t).length===n}}return r!==r&&t!==t}function _h(r){let t=!1;return{promise:new Promise((n,i)=>{r.then(o=>!t&&n(o)).catch(o=>!t&&i(o))}),cancel(){t=!0}}}const Xj=["onCopy","onCut","onPaste"],$j=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Yj=["onFocus","onBlur"],qj=["onInput","onInvalid","onReset","onSubmit"],Wj=["onLoad","onError"],Kj=["onKeyDown","onKeyPress","onKeyUp"],Qj=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Zj=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Jj=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],tV=["onSelect"],eV=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nV=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],iV=["onScroll"],sV=["onWheel"],rV=["onAnimationStart","onAnimationEnd","onAnimationIteration"],aV=["onTransitionEnd"],oV=["onToggle"],lV=["onChange"],cV=[...Xj,...$j,...Yj,...qj,...Wj,...Kj,...Qj,...Zj,...Jj,...tV,...eV,...nV,...iV,...sV,...rV,...aV,...lV,...oV];function DD(r,t){const e={};for(const n of cV){const i=r[n];i&&(t?e[n]=(o=>i(o,t(n))):e[n]=i)}return e}var uV="Invariant failed";function Ee(r,t){if(!r)throw new Error(uV)}var Ty,vT;function hV(){if(vT)return Ty;vT=1;var r=function(){};return Ty=r,Ty}var dV=hV();const $n=$f(dV),RD=U.createContext(null),fV="noopener noreferrer nofollow";class pV{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ee(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ee(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||fV,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Ee(this.pdfDocument),Ee(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Ee(Array.isArray(e));const n=e[0];new Promise(i=>{Ee(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{i(o)}).catch(()=>{Ee(!1)}):typeof n=="number"?i(n):Ee(!1)}).then(i=>{const o=i+1;Ee(this.pdfViewer),Ee(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:i,pageNumber:o})})})}goToPage(t){const e=t-1;Ee(this.pdfViewer),Ee(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Xl({children:r,type:t}){return B.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:r})}const bT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function mV(r,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function rc(){return U.useReducer(mV,{value:void 0,error:void 0})}const vp=typeof window<"u",OD=vp&&window.location.protocol==="file:";function gV(r){return typeof r<"u"}function io(r){return gV(r)&&r!==null}function yV(r){return typeof r=="string"}function vV(r){return r instanceof ArrayBuffer}function bV(r){return Ee(vp),r instanceof Blob}function F0(r){return yV(r)&&/^data:/.test(r)}function _T(r){Ee(F0(r));const[t="",e=""]=r.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function _V(){return vp&&window.devicePixelRatio||1}const LD="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ST(){$n(!OD,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${LD}`)}function SV(){$n(!OD,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${LD}`)}function Oo(r){r?.cancel&&r.cancel()}function I0(r,t){return Object.defineProperty(r,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),r}function kD(r){return r.name==="AbortException"||r.name==="RenderingCancelledException"}function AV(r){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=i=>{if(!i.target)return e(new Error("Error while reading a file."));const{error:o}=i.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:wV}=Gj,xV=(r,t)=>{switch(t){case bT.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");r(e);break}case bT.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");r(e);break}}};function AT(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const TV=U.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:v,onLoadProgress:g,onLoadSuccess:S,onPassword:_=xV,onSourceError:w,onSourceSuccess:A,options:T,renderMode:E,rotate:D,scale:C,...L},R){const[k,F]=rc(),{value:$,error:H}=k,[at,et]=rc(),{value:q,error:W}=at,O=U.useRef(new pV),N=U.useRef([]),z=U.useRef(void 0),st=U.useRef(void 0);l&&l!==z.current&&AT(l)&&($n(!Gl(l,z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),z.current=l),T&&T!==st.current&&($n(!Gl(T,st.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),st.current=T);const dt=U.useRef({scrollPageIntoView:zt=>{const{dest:Ct,pageNumber:bt,pageIndex:Re=bt-1}=zt;if(m){m({dest:Ct,pageIndex:Re,pageNumber:bt});return}const It=N.current[Re];if(It){It.scrollIntoView();return}$n(!1,`An internal link leading to page ${bt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});U.useImperativeHandle(R,()=>({linkService:O,pages:N,viewer:dt}),[]);function P(){A&&A()}function j(){H&&($n(!1,H.toString()),w&&w(H))}function Z(){F({type:"RESET"})}U.useEffect(Z,[l,F]);const it=U.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return F0(l)?{data:_T(l)}:(ST(),{url:l});if(l instanceof wV)return{range:l};if(vV(l))return{data:l};if(vp&&bV(l))return{data:await AV(l)};if(Ee(typeof l=="object"),Ee(AT(l)),"url"in l&&typeof l.url=="string"){if(F0(l.url)){const{url:zt,...Ct}=l;return{data:_T(zt),...Ct}}ST()}return l},[l]);U.useEffect(()=>{const zt=_h(it());return zt.promise.then(Ct=>{F({type:"RESOLVE",value:Ct})}).catch(Ct=>{F({type:"REJECT",error:Ct})}),()=>{Oo(zt)}},[it,F]),U.useEffect(()=>{if(!(typeof $>"u")){if($===!1){j();return}P()}},[$]);function ft(){q&&(S&&S(q),N.current=new Array(q.numPages),O.current.setDocument(q))}function yt(){W&&($n(!1,W.toString()),v&&v(W))}U.useEffect(function(){et({type:"RESET"})},[et,$]),U.useEffect(function(){if(!$)return;const Ct=T?{...$,...T}:$,bt=ob(Ct);g&&(bt.onProgress=g),_&&(bt.onPassword=_);const Re=bt;return Re.promise.then(It=>{Re.destroyed||et({type:"RESOLVE",value:It})}).catch(It=>{Re.destroyed||et({type:"REJECT",error:It})}),()=>{Re.destroy()}},[T,et,$]),U.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){yt();return}ft()}},[q]),U.useEffect(function(){O.current.setViewer(dt.current),O.current.setExternalLinkRel(i),O.current.setExternalLinkTarget(o)},[i,o]);const gt=U.useCallback((zt,Ct)=>{N.current[zt]=Ct},[]),Dt=U.useCallback(zt=>{delete N.current[zt]},[]),Pt=U.useMemo(()=>({imageResourcesPath:h,linkService:O.current,onItemClick:m,pdf:q,registerPage:gt,renderMode:E,rotate:D,scale:C,unregisterPage:Dt}),[h,m,q,gt,E,D,C,Dt]),kt=U.useMemo(()=>DD(L,()=>q),[L,q]);function Rt(){function zt(bt){return!!bt?.pdf}if(!zt(Pt))throw new Error("pdf is undefined");const Ct=typeof t=="function"?t(Pt):t;return B.jsx(RD.Provider,{value:Pt,children:Ct})}function Wt(){return l?q==null?B.jsx(Xl,{type:"loading",children:typeof d=="function"?d():d}):q===!1?B.jsx(Xl,{type:"error",children:typeof n=="function"?n():n}):Rt():B.jsx(Xl,{type:"no-data",children:typeof p=="function"?p():p})}return B.jsx("div",{className:dc("react-pdf__Document",e),ref:c,...kt,children:Wt()})});function PD(){return U.useContext(RD)}function ND(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,c=e;l<c.length;l++){var h=c[l];typeof h=="function"?h(o):h&&(h.current=o)}}}const BD=U.createContext(null);function bp(){return U.useContext(BD)}function EV(){const r=PD(),t=bp();Ee(t);const e={...r,...t},{filterAnnotations:n,imageResourcesPath:i,linkService:o,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:p,pdf:m,renderForms:v,rotate:g,scale:S=1}=e;Ee(m),Ee(p),Ee(o);const[_,w]=rc(),{value:A,error:T}=_,E=U.useRef(null);$n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function D(){A&&c&&c(A)}function C(){T&&($n(!1,T.toString()),l&&l(T))}U.useEffect(function(){w({type:"RESET"})},[w,p]),U.useEffect(function(){if(!p)return;const $=_h(p.getAnnotations()),H=$;return $.promise.then(at=>{w({type:"RESOLVE",value:at})}).catch(at=>{w({type:"REJECT",error:at})}),()=>{Oo(H)}},[w,p]),U.useEffect(()=>{if(A!==void 0){if(A===!1){C();return}D()}},[A]);function L(){d&&d()}function R(F){$n(!1,`${F}`),h&&h(F)}const k=U.useMemo(()=>p.getViewport({scale:S,rotation:g}),[p,g,S]);return U.useEffect(function(){if(!m||!p||!o||!A)return;const{current:$}=E;if(!$)return;const H=k.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:m.annotationStorage,commentManager:null,div:$,l10n:null,linkService:o,page:p,structTreeLayer:null,viewport:H},et={annotations:n?n({annotations:A}):A,annotationStorage:m.annotationStorage,div:$,imageResourcesPath:i,linkService:o,page:p,renderForms:v,viewport:H};$.innerHTML="";try{new fb(at).render(et),L()}catch(q){R(q)}return()=>{}},[A,n,i,o,p,m,v,k]),B.jsx("div",{className:dc("react-pdf__Page__annotations","annotationLayer"),ref:E})}const FD={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CV=/^H(\d+)$/;function MV(r){return r in FD}function _p(r){return"children"in r}function ID(r){return _p(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function DV(r){const t={};if(_p(r)){const{role:e}=r,n=e.match(CV);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(MV(e)){const i=FD[e];i&&(t.role=i)}}return t}function zD(r){const t={};if(_p(r)){if(r.alt!==void 0&&(t["aria-label"]=r.alt),r.lang!==void 0&&(t.lang=r.lang),ID(r)){const[e]=r.children;if(e){const n=zD(e);return{...t,...n}}}}else"id"in r&&(t["aria-owns"]=r.id);return t}function RV(r){return r?{...DV(r),...zD(r)}:null}function jD({className:r,node:t}){const e=U.useMemo(()=>RV(t),[t]),n=U.useMemo(()=>!_p(t)||ID(t)?null:t.children.map((i,o)=>B.jsx(jD,{node:i},o)),[t]);return B.jsx("span",{className:r,...e,children:n})}function OV(){const r=bp();Ee(r);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=r,[n,i]=rc(),{value:o,error:l}=n,{customTextRenderer:c,page:h}=r;function d(){o&&e&&e(o)}function p(){l&&($n(!1,l.toString()),t&&t(l))}return U.useEffect(function(){i({type:"RESET"})},[i,h]),U.useEffect(function(){if(c||!h)return;const v=_h(h.getStructTree()),g=v;return v.promise.then(S=>{i({type:"RESOLVE",value:S})}).catch(S=>{i({type:"REJECT",error:S})}),()=>Oo(g)},[c,h,i]),U.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}d()}},[o]),o?B.jsx(jD,{className:"react-pdf__Page__structTree structTree",node:o}):null}const wT=Gs;function LV(r){const t=bp();Ee(t);const e={...t,...r},{_className:n,canvasBackground:i,devicePixelRatio:o=_V(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:m,scale:v}=e,{canvasRef:g}=r;Ee(h);const S=U.useRef(null);function _(){h&&c&&c(I0(h,v))}function w(D){kD(D)||($n(!1,D.toString()),l&&l(D))}const A=U.useMemo(()=>h.getViewport({scale:v*o,rotation:m}),[o,h,m,v]),T=U.useMemo(()=>h.getViewport({scale:v,rotation:m}),[h,m,v]);U.useEffect(function(){if(!h)return;h.cleanup();const{current:C}=S;if(!C)return;C.width=A.width,C.height=A.height,C.style.width=`${Math.floor(T.width)}px`,C.style.height=`${Math.floor(T.height)}px`,C.style.visibility="hidden";const L={annotationMode:d?wT.ENABLE_FORMS:wT.ENABLE,canvas:C,canvasContext:C.getContext("2d",{alpha:!1}),viewport:A};i&&(L.background=i);const R=h.render(L),k=R;return R.promise.then(()=>{C.style.visibility="",_()}).catch(w),()=>Oo(k)},[i,h,d,A,T]);const E=U.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return U.useEffect(()=>E,[E]),B.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:ND(g,S),style:{display:"block",userSelect:"none"},children:p?B.jsx(OV,{}):null})}function kV(r){return"str"in r}function PV(){const r=bp();Ee(r);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=r;Ee(l);const[m,v]=rc(),{value:g,error:S}=m,_=U.useRef(null);$n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){g&&n&&n(g)}function A(){S&&($n(!1,S.toString()),e&&e(S))}U.useEffect(function(){v({type:"RESET"})},[l,v]),U.useEffect(function(){if(!l)return;const k=_h(l.getTextContent()),F=k;return k.promise.then($=>{v({type:"RESOLVE",value:$})}).catch($=>{v({type:"REJECT",error:$})}),()=>Oo(F)},[l,v]),U.useEffect(()=>{if(g!==void 0){if(g===!1){A();return}w()}},[g]);const T=U.useCallback(()=>{o&&o()},[o]),E=U.useCallback(R=>{kD(R)||($n(!1,R.toString()),i&&i(R))},[i]);function D(){const R=_.current;R&&R.classList.add("selecting")}function C(){const R=_.current;R&&R.classList.remove("selecting")}const L=U.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return U.useLayoutEffect(function(){if(!l||!g)return;const{current:k}=_;if(!k)return;k.innerHTML="";const F=l.streamTextContent({includeMarkedContent:!0}),$={container:k,textContentSource:F,viewport:L},H=new th($),at=H;return H.render().then(()=>{const et=document.createElement("div");et.className="endOfContent",k.append(et);const q=k.querySelectorAll('[role="presentation"]');if(t){let W=0;g.items.forEach((O,N)=>{if(!kV(O))return;const z=q[W];if(!z)return;const st=t({pageIndex:c,pageNumber:h,itemIndex:N,...O});z.innerHTML=st,W+=O.str&&O.hasEOL?2:1})}T()}).catch(E),()=>Oo(at)},[t,E,T,l,c,h,g,L]),B.jsx("div",{className:dc("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:D,ref:_})}const xT=1;function NV(r){const e={...PD(),...r},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:o,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:m,error:v="Failed to load the page.",filterAnnotations:g,height:S,inputRef:_,loading:w="Loading page",noData:A="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:E,onGetStructTreeError:D,onGetStructTreeSuccess:C,onGetTextError:L,onGetTextSuccess:R,onLoadError:k,onLoadSuccess:F,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:H,onRenderError:at,onRenderSuccess:et,onRenderTextLayerError:q,onRenderTextLayerSuccess:W,pageIndex:O,pageNumber:N,pdf:z,registerPage:st,renderAnnotationLayer:dt=!0,renderForms:P=!1,renderMode:j="canvas",renderTextLayer:Z=!0,rotate:it,scale:ft=xT,unregisterPage:yt,width:gt,...Dt}=e,[Pt,kt]=rc(),{value:Rt,error:Wt}=Pt,zt=U.useRef(null);Ee(z);const Ct=io(N)?N-1:O??null,bt=N??(io(O)?O+1:null),Re=it??(Rt?Rt.rotate:null),It=U.useMemo(()=>{if(!Rt)return null;let Oe=1;const In=ft??xT;if(gt||S){const je=Rt.getViewport({scale:1,rotation:Re});gt?Oe=gt/je.width:S&&(Oe=S/je.height)}return In*Oe},[S,Rt,Re,ft,gt]);U.useEffect(function(){return()=>{io(Ct)&&i&&yt&&yt(Ct)}},[i,z,Ct,yt]);function We(){if(F){if(!Rt||!It)return;F(I0(Rt,It))}if(i&&st){if(!io(Ct)||!zt.current)return;st(Ct,zt.current)}}function Fn(){Wt&&($n(!1,Wt.toString()),k&&k(Wt))}U.useEffect(function(){kt({type:"RESET"})},[kt,z,Ct]),U.useEffect(function(){if(!z||!bt)return;const In=_h(z.getPage(bt)),je=In;return In.promise.then(si=>{kt({type:"RESOLVE",value:si})}).catch(si=>{kt({type:"REJECT",error:si})}),()=>Oo(je)},[kt,z,bt]),U.useEffect(()=>{if(Rt!==void 0){if(Rt===!1){Fn();return}We()}},[Rt,It]);const cn=U.useMemo(()=>io(Ct)&&bt&&io(Re)&&io(It)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,filterAnnotations:g,onGetAnnotationsError:T,onGetAnnotationsSuccess:E,onGetStructTreeError:D,onGetStructTreeSuccess:C,onGetTextError:L,onGetTextSuccess:R,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:H,onRenderError:at,onRenderSuccess:et,onRenderTextLayerError:q,onRenderTextLayerSuccess:W,page:Rt,pageIndex:Ct,pageNumber:bt,renderForms:P,renderTextLayer:Z,rotate:Re,scale:It}:null,[n,o,p,m,g,T,E,D,C,L,R,$,H,at,et,q,W,Rt,Ct,bt,P,Z,Re,It]),he=U.useMemo(()=>DD(Dt,()=>Rt&&(It?I0(Rt,It):void 0)),[Dt,Rt,It]),Se=`${Ct}@${It}/${Re}`;function fs(){switch(j){case"custom":return Ee(d),B.jsx(d,{},`${Se}_custom`);case"none":return null;default:return B.jsx(LV,{canvasRef:l},`${Se}_canvas`)}}function Ae(){return Z?B.jsx(PV,{},`${Se}_text`):null}function ps(){return dt?B.jsx(EV,{},`${Se}_annotations`):null}function en(){function Oe(je){return!!je?.page}if(!Oe(cn))throw new Error("page is undefined");const In=typeof c=="function"?c(cn):c;return B.jsxs(BD.Provider,{value:cn,children:[fs(),Ae(),ps(),In]})}function An(){return bt?z===null||Rt===void 0||Rt===null?B.jsx(Xl,{type:"loading",children:typeof w=="function"?w():w}):z===!1||Rt===!1?B.jsx(Xl,{type:"error",children:typeof v=="function"?v():v}):en():B.jsx(Xl,{type:"no-data",children:typeof A=="function"?A():A})}return B.jsx("div",{className:dc(n,h),"data-page-number":bt,ref:ND(_,zt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${It}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...he,children:An()})}SV();Sa.workerSrc="pdf.worker.mjs";Sa.workerSrc=`https://unpkg.com/pdfjs-dist@${ub}/build/pdf.worker.min.mjs`;const TT="/gagan-portfolio/files/Gagan_Chauhan_Resume.pdf",BV=()=>{const[r,t]=U.useState(null);return B.jsxs("div",{className:"flex flex-col h-[80vh] w-[45vw] bg-white rounded-xl overflow-hidden",children:[B.jsxs("div",{id:"window-header",className:"flex items-center gap-3",children:[B.jsx(Pa,{target:"resume"}),B.jsx("h2",{className:"flex-1 text-center",children:"Resume.pdf"}),B.jsx("a",{href:TT,download:!0,title:"Download resume",children:B.jsx(FI,{className:"icon"})})]}),B.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-100",children:B.jsx(TV,{file:TT,onLoadSuccess:({numPages:e})=>t(e),children:Array.from(new Array(r),(e,n)=>B.jsx(NV,{pageNumber:n+1,className:"mb-6 flex justify-center",renderTextLayer:!0,renderAnnotationLayer:!0},n))})})]})},FV=ka(BV,"resume"),IV=()=>{const r=Cr.work.children,[t,e]=U.useState(r[0]);return B.jsxs("div",{className:"flex flex-1",children:[B.jsxs("div",{className:"w-64 border-r p-4",children:[B.jsx("h3",{className:"font-semibold mb-3",children:"Experience"}),B.jsx("ul",{className:"space-y-2 text-sm",children:r.map(n=>B.jsxs("li",{onClick:()=>e(n),className:`cursor-pointer rounded px-2 py-1 transition
                ${t.id===n.id?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:[B.jsx("p",{className:"font-medium",children:n.name}),B.jsx("p",{className:"text-xs text-gray-500",children:n.company})]},n.id))})]}),B.jsxs("div",{className:"flex-1 p-6 text-sm text-gray-700 overflow-auto",children:[B.jsx("h2",{className:"text-lg font-bold",children:t.name}),B.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[t.company,"  ",t.duration]}),B.jsx("ul",{className:"list-disc pl-5 space-y-1 mb-4",children:t.experience.description.map((n,i)=>B.jsx("li",{children:n},i))}),B.jsx("div",{className:"flex flex-wrap gap-2",children:t.experience.tech.map(n=>B.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-200 text-gray-700",children:n},n))})]})]})},zV=()=>{const{openWindow:r}=hs(),{activeLocation:t,setActiveLocation:e}=Gv(),n=o=>{if(o.fileType==="pdf")return r("resume");if(o.kind==="folder")return e(o);if(["fig","url"].includes(o.fileType)&&o.href)return window.open(o.href,"_blank");r(`${o.fileType}${o.kind}`,o)},i=(o,l=[])=>B.jsxs("div",{children:[B.jsx("h3",{children:o}),B.jsx("ul",{children:l.map(c=>B.jsxs("li",{onClick:()=>e(c),className:dc(c.id===t?.id?"active":"not-active"),children:[B.jsx("img",{src:c.icon,className:"w-4",alt:c.name||"folder"}),B.jsx("p",{className:"text-sm font-medium truncate whitespace-normal ",children:c.name})]},c.id))})]});return B.jsxs("div",{className:"finder-window",children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"finder"}),B.jsx(qv,{className:"icon"})]}),B.jsxs("div",{className:"bg-white flex h-full",children:[B.jsxs("div",{className:"sidebar",children:[i("Favorites",[Cr.work,Cr.about,Cr.resume,Cr.trash]),i("My Projects",Cr.projects.children)]}),B.jsx("div",{className:"flex-1",children:t?.type==="work"?B.jsx(IV,{}):B.jsx("ul",{className:"content",children:t?.children.map(o=>B.jsxs("li",{className:o.position,onClick:()=>n(o),children:[B.jsx("img",{src:o.icon,alt:o.name}),B.jsx("p",{children:o.name})]},o.id))})})]})]})},jV=ka(zV,"finder"),VV=()=>{const{windows:r}=hs(),t=r.txtfile?.data;if(!t)return null;const{name:e,image:n,subtitle:i,description:o}=t;return B.jsxs("div",{className:"text-window flex flex-col max-h-[80vh]",children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"txtfile"}),B.jsx("h2",{children:e})]}),B.jsxs("div",{className:"p-5 space-y-6 bg-white overflow-y-auto flex-1",children:[n?B.jsx("div",{className:"w-full",children:B.jsx("img",{src:n,alt:e||"image",className:"w-full max-h-[300px] object-contain rounded"})}):null,i?B.jsx("h3",{className:"text-lg font-semibold",children:i}):null,Array.isArray(o)&&o.length>0?B.jsx("div",{className:"space-y-3 leading-relaxed text-base text-gray-800",children:o.map((l,c)=>B.jsx("p",{children:l},c))}):null]})]})},UV=ka(VV,"txtfile"),HV=()=>{const{windows:r}=hs(),t=r.imgfile?.data;if(!t)return null;const{name:e,imageUrl:n}=t;return B.jsxs("div",{className:"flex flex-col max-h-[80vh]",children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"imgfile"}),B.jsx("h2",{children:e})]}),B.jsx("div",{className:"p-5 bg-white overflow-auto flex-1",children:n&&B.jsx("img",{src:n,alt:e||"image",className:"w-full h-auto max-h-[70vh] object-contain rounded"})})]})},GV=ka(HV,"imgfile"),XV=()=>B.jsxs("div",{className:"flex flex-col max-h-[70vh]",children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"contact"}),B.jsx("h2",{children:"Contact Me"})]}),B.jsxs("div",{className:"p-5 space-y-5 overflow-y-auto",children:[B.jsx("img",{src:"/gagan-portfolio/images/profile-logo.png",alt:"Adrian",className:"w-20 rounded-full transition-transform duration-500 hover:scale-125"}),B.jsx("h3",{className:"text-lg font-semibold",children:"Lets Connect"}),B.jsxs("p",{children:["Just a guy with a computer ",B.jsx("br",{}),"obsessed with engineering problems, distributed systems, and building things that scale."]}),B.jsxs("p",{children:["Reach me at"," ",B.jsx("a",{href:"mailto:chauhangagan117@gmail.com",className:"text-blue-600 ",children:"chauhangagan117@gmail.com"})]}),B.jsx("ul",{children:gO.map(({id:r,bg:t,link:e,icon:n,text:i})=>B.jsx("li",{style:{backgroundColor:t},children:B.jsxs("a",{href:e,target:"_blank",rel:"nooperner noreferrer",title:i,children:[B.jsx("img",{src:n,alt:i,className:"size-5"}),B.jsx("p",{children:i})]})},r))})]})]}),$V=ka(XV,"contact"),YV=Cr.projects?.children??[],qV=()=>{const{setActiveLocation:r}=Gv(),{openWindow:t}=hs(),e=n=>{r(n),t("finder")};return Ca(()=>{ko.create(".folder")},[]),B.jsx("section",{id:"home",children:B.jsx("ul",{children:YV.map(n=>B.jsxs("li",{className:dc("group folder",n.windowPosition),onClick:()=>e(n),children:[B.jsx("img",{src:"/gagan-portfolio/images/folder.png",alt:n.name}),B.jsxs("p",{children:[n.name," "]})]},n.id))})})},WV=()=>{const{openWindow:r}=hs();return B.jsxs(B.Fragment,{children:[B.jsxs("div",{id:"window-header",children:[B.jsx(Pa,{target:"photos"}),B.jsxs("div",{className:"w-full flex justify-end items-center gap-3 text-gray-500",children:[B.jsx(VI,{className:"icon"}),B.jsx(qv,{className:"icon"})]})]}),B.jsxs("div",{className:"flex w-full",children:[B.jsxs("div",{className:"sidebar",children:[B.jsx("h2",{children:"Photos"}),B.jsx("ul",{children:yO.map(({id:t,icon:e,title:n})=>B.jsxs("li",{children:[B.jsx("img",{src:e,alt:n}),B.jsx("p",{children:n})]},t))})]}),B.jsx("div",{className:"gallery",children:B.jsx("ul",{children:vO.map(({id:t,img:e})=>B.jsx("li",{onClick:()=>r("imgfile",{id:t,name:"Gallery image",icon:"/gagan-portfolio/images/image.png ",kind:"file",fileType:"img",imageUrl:e}),children:B.jsx("img",{src:e,alt:`Gallery image ${t}`})},t))})})]})]})},KV=ka(WV,"photos");Ea.registerPlugin(ko);function QV(){const{booting:r,locked:t}=nf();return r?B.jsx(aO,{onFinish:()=>nf.setState({booting:!1,locked:!0})}):t?B.jsx(oO,{onUnlock:()=>nf.setState({locked:!1})}):B.jsxs("main",{children:[B.jsx(ez,{}),B.jsxs(eI,{sparkSize:16,sparkRadius:45,duration:500,extraScale:.9,children:[B.jsx(XO,{}),B.jsx(q3,{}),B.jsx(tI,{}),B.jsx(tz,{}),B.jsx(iz,{}),B.jsx(FV,{}),B.jsx(jV,{}),B.jsx(UV,{}),B.jsx(GV,{}),B.jsx($V,{}),B.jsx(qV,{}),B.jsx(KV,{})]})]})}rO.createRoot(document.getElementById("root")).render(B.jsx(U.StrictMode,{children:B.jsx(QV,{})}));
